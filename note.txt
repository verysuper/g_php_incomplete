PHP

2018/07/02--------我是分隔線--------我是分隔線--------我是分隔線--------

checkOut.php(存檔至 Shop 資料夾中)-------------------------------------------------------------
※開新檔案/來自範本的頁面/存檔(存檔至 Shop 資料夾中)

結帳作業
目前網站尚未提供線上付款，如造成不便請您多多包涵！
----------------------------------------------------------------------------------------------
※插入表單/插入表格(5*2)：

<form id="form1" method="post" action="purchase.php">
<table width="90%" border="0">
<tr>
<th width="25%" align="right" scope="col"><p>收件人姓名:</p></th>
<th align="left" scope="col"><label>
<input name="O_name" type="text" id="O_name" size="10" />
</label></th>
</tr>
<tr>
<th width="25%" align="right" scope="row"><p>聯絡電話:</p></th>
<td align="left"><label>
<input name="O_phone" type="text" id="O_phone" size="13" />
</label></td>
</tr>
<tr>
<th width="25%" align="right" scope="row"><p>行動電話:</p></th>
<td align="left"><input name="O_cellphone" type="text" id="O_cellphone" size="13" /></td>
</tr>
<tr>
<th width="25%" align="right" scope="row"><p>收件人地址:</p></th>
<td align="left"><input name="O_address" type="text" id="O_address" size="36" /></td>
</tr>
<tr>
<th colspan="2" align="center" scope="row"><p><button type="button" name="purchase" onclick="dataCheck()">確定結帳</button></p></th>
</tr>
</table>
</form>
----------------------------------------------------------------------------------------------
在第一列加入語法：

<?php
require_once('../Connections/shop.php'); 
include('../cart/wfcart.php');
@session_start();
//將$cart的指標指向 Session
$cart =& $_SESSION['wfcart']; 
//若$cart不為物件，重新建立一個新的$cart物件
if(!is_object($cart)) $cart = new wfCart();
?>
----------------------------------------------------------------------------------------------
在 <form> 之前加入：

<?php
$ret = checkUser();
echo "<p>".$ret."</p>";
if($ret == NULL){
inputOrder();
}
function inputOrder(){
?>
----------------------------------------------------------------------------------------------
在 </form> 之後加入：

<?php
}
?>
----------------------------------------------------------------------------------------------
<?php
//檢查會員身份功能，在這裡使用的Session是由logincheck.php所建立
function checkUser(){
if(!isset($_SESSION['MM_Username'])){
return "您尚未登入會員、請您先登入<br/>".
"若您尚未申請會員請先<a href=registerUser.php>加入會員</a><br/>";
}
if($_SESSION['MM_UserGroup']!="Y"){
return "您的會員功能尚未啟動，請至您的信箱依說明啟動您的會員功能<br/>";
}
}
?>
----------------------------------------------------------------------------------------------
<script language="javascript">
function dataCheck(){
if(form1.O_name.value==""){	//檢查是否為空值
alert("請填收件人姓名"); //顯示警告訊息
form1.O_name.focus(); //將鍵盤游標停在該控制項上
}else if(form1.O_address.value==""){
alert("請填收件人地址");
form1.O_address.focus();	
}else{
form1.submit(); //將表單採用原設定方式送出
}
}
</script>
----------------------------------------------------------------------------------------------

2018/07/02--------我是分隔線--------我是分隔線--------我是分隔線--------









2018/06/29--------我是分隔線--------我是分隔線--------我是分隔線--------


<?php
require_once('../Connections/shop.php'); 
include('../cart/wfcart.php');
@session_start();
//將$cart的指標指向 Session
$cart =& $_SESSION['wfcart']; 
//若$cart不為物件，重新建立一個新的$cart物件
if(!is_object($cart)) $cart = new wfCart();
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/Shop.dwt.php" codeOutsideHTMLIsLocked="false" -->
<script language="javascript" src="../Scripts/menu.js"/></script>
<head>
<!-- InstanceBeginEditable name="doctitle" -->
<title>伴手網</title>
<!-- InstanceEndEditable -->

<!-- Meta Tags -->
<meta http-equiv="content-type" content="application/xhtml+xml; charset=utf-8" />
<meta name="robots" content="index, follow" />
<meta name="description" content="" />
<meta name="keywords" content="" />
<meta name="author" content="" />

<!-- Favicon -->
<link rel="shortcut icon" href="" />

<!-- CSS -->
<link rel="stylesheet" href="../css/styles.css" media="all" type="text/css" />

<!-- RSS -->
<link rel="alternate" href="" title="RSS Feed" type="application/rss+xml" />
<!-- InstanceBeginEditable name="head" -->
<!-- InstanceEndEditable -->
</head>
<body>
<div id="header">
<div class="subContainer">
<div id="logo">
<div id="box">H2H</div>
<p>咱的好伴手</p>
</div><!-- /logo -->
</div><!-- /subContainer -->
</div><!-- header -->

<div id="navigation"> 
<ul id="sddm">
<li><a href="index.php">首頁</a></li>
<li><a href="product.php">商品資料</a></li>
<li><a href="cart.php">購物車</a></li>
<li><a href="checkOut.php">結帳</a></li> 
<li><a href="guestBook.php">留言板</a></li> 
<li><a href="titleView.php">討論區</a></li>
<li><a href="#" 
onmouseover="mopen('m1')" 
onmouseout="mclosetime()">會員中心</a>
<div id="m1" 
onmouseover="mcancelclosetime()" 
onmouseout="mclosetime()">
<a href="reconfirm.php">重發確認信</a>
<a href="modifydata.php">修改基本資料</a>
<a href="forgetpassword.php">忘記密碼</a>
</div>
</li>
<li><a href="#" 
onmouseover="mopen('m2')" 
onmouseout="mclosetime()">公佈欄</a>
<div id="m2" 
onmouseover="mcancelclosetime()" 
onmouseout="mclosetime()">
<a href="publishBrowser.php">瀏覽公佈欄</a>
</div>
</li>
</ul> 
<div style="clear:both"></div> 
</div><!-- /navigation -->
<object id="FlashID" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="780" height="120">
<param name="movie" value="../Scripts/pic.swf" />
<param name="quality" value="high" />
<param name="wmode" value="opaque" />
<param name="swfversion" value="8.0.35.0" />

<param name="expressinstall" value="../Scripts/expressInstall.swf" />
<!--[if !IE]>-->
<object type="application/x-shockwave-flash" data="../Scripts/pic.swf" width="780" height="120">
<!--<![endif]-->
<param name="quality" value="high" />
<param name="wmode" value="opaque" />
<param name="swfversion" value="8.0.35.0" />
<param name="expressinstall" value="../Scripts/expressInstall.swf" />
<div>
<h4>這個頁面上的內容需要較新版本的 Adobe Flash Player。</h4>
<p><a href="http://www.adobe.com/go/getflashplayer"><img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="取得 Adobe Flash Player" width="112" height="33" /></a></p>
</div>
<!--[if !IE]>-->
</object>
<!--<![endif]-->
</object>
<div id="container"><!-- InstanceBeginEditable name="EditRegion1" -->
<div id="primaryContent">

<?php
//檢查是否有項目要加入購物車
if($_GET['add'] && $_GET['id']!=NULL){
//查詢資料表資料並且加入購物車中
if($resource=mysql_query("select * from product where id=".$_GET['id'])){
$row = mysql_fetch_assoc($resource);	
$cart->add_item($row['id'],1,$row['price'],$row['name']);
}
}
//檢查購物車是否有數量要更新
if($_GET['edit'] && $_GET['id']!=NULL){
$rid = intval($_GET['id']);	
$qty = intval($_GET['qty']);
$cart->edit_item($rid,$qty);
}
//檢查購物車是否有項目要移除
if($_GET['remove'] && $_GET['id']!=NULL) {	
$rid = intval($_GET['id']);
$cart->del_item($rid);
}
//檢查是否要清空購物車
if($_GET['empty']!=NULL){
$cart->empty_cart();
}
?>

<h2>購物車</h2>
<h3>底下將列出您所購買的商品。</h3>
<p>&nbsp;</p>
<p>&nbsp;</p>

<?php
if($cart->itemcount > 0){
?>
<table>
<tr>
<th width="15%" scope="col"><p>商品編號</p></th>
<th width="30%" scope="col"><p>商品名稱</p></th>
<th width="10%" scope="col"><p>數量</p></th>
<th width="15%" scope="col"><p>單價</p></th>
<th width="15%" scope="col"><p>小計</p></th>
<th width="15%" scope="col"><p>操作</p></th>
</tr>
<?php
foreach($cart->get_contents() as $item){	
?>
<form method="get">
<input type="hidden" name="id" value="<?php echo $item['id'];?>"/>
<tr>
<td><?php echo $item['id']; ?></td>
<td><?php echo $item['info']; ?></td>
<td><input style="size:portrait" type="text" name="qty" value="<?php echo $item['qty'];?>" size="1"/></td>
<td><?php echo $item['price'];?></td>
<td><?php echo $item['subtotal'];?></td>
<td>
<button name="edit" value="更新" type="submit">更新</button>
<button value="移除" type="button" onclick="location.href='cart.php?id=<?php echo $item['id']; ?>&remove=removeitem'">移除</button>
</td>
</tr>
</form>
<?php
}
?>
<tr>
<td colspan="6" align="center" valign="middle">
<?php echo "<h5>總計:".$cart->total."</h5>"; ?>
<button value="清空購物車" type="button" onclick="location.href='cart.php?empty=emptyitem'">清空購物車</button>
<button value="結帳" type="button">結帳</button>
</td>
</tr>
</table>
<?php
}else{
echo "<h5>目前購物車中無任何商品！</h5>";
}
?>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<!-- /comments -->
</div>
<!-- InstanceEndEditable -->
<!-- /primaryContent -->
<div id="secondaryContent">
<p>&nbsp;</p>
<h3>最新商品</h3>
<h3>相關連結</h3>
<!-- 
This part was designed to handle images
-->
<ul class="links">
<li><a href="http://www.pcschool.com.tw/">巨匠電腦</a></li>
<li><a href="http://kid.pcschool.com.tw/">兒童電腦</a></li> 
<li><a href="http://www.soeasyedu.com.tw/">數位學習</a></li>
<li><a href="http://www.soeasyedu.com.tw/">巨匠美語</a></li> 
<li><a href="http://www.off.com.tw/weiblog">給我建議</a>
</ul>
<?php if(!isset($_SESSION['MM_Username'])){?>
<h3>登入</h3>
<h5><? echo $_GET['msg']; ?></h5>
<form action="loginCheck.php" method="post">
<p>
<input value="" name="user" placeholder="user" />
</p>
<p>
<input name="password" type="password" value="" placeholder="password" />
</p>
<button type="submit">送出</button>
<button type="button" onclick="location.href='registerUser.php'">註冊會員</button> 
</form> 

<?php }else{ ?>
<h3>會員服務</h3>
<form action="logout.php" method="post">
<p>歡迎 <?php echo $_SESSION['MM_Username'];?> 您光臨</p>
<p><button type="submit">登出</button></p>
</form>
<?php }?>
</div>
<!-- /secondaryContent -->
<br class="clear" /> 
</div><!-- container -->

<div id="footer">
<ul>
<li id="copyright">&copy; 2099 Free for Gjun student member</li>
<li id="links">
<ul>
<li><a href="#">XHTML</a> |</li>
<li><a href="#">CSS</a> |</li>
<li><a href="http://gjun.tw">ALAN CHEN</a></li>
</ul>
</li>
</ul>
</div><!-- /footer -->
</body>
<!-- InstanceEnd --></html>


--------我是分隔線--------我是分隔線--------我是分隔線--------







設定 移除 按鈕：

連結至~
cart.php
參數~
id=<?php echo $item['id'];?>
remove=removeitem
----------------------------------------------------------------------------------------------
設定 清空購物車 按鈕：

連結至~
cart.php
參數~
empty=emptyitem
----------------------------------------------------------------------------------------------
設定 結帳 按鈕：

連結至~
checkOut.php
參數~
checkout=checkoutcart

--------我是分隔線--------我是分隔線--------我是分隔線--------

確認 product.php(在 Shop 資料夾中)-----------------------------------------------

訂購 按鈕設定：
連結至 ~
cart.php
參數 ~
id=<?php echo $row_productList['id']
add=additem

<button onclick="location.href='cart.php?id=<?php echo $row_productList['id']; ?>&add=additem'">訂購</button>
----------------------------------------------------------------------------------------------

確認 productDetail.php(在 Shop 資料夾中)----------------------------------------------- 

訂購 按鈕設定：
連結至 ~
cart.php
參數 ~
id=<?php echo $row_productDetail['id']
add=additem

<button onclick="location.href='cart.php?id=<?php echo $row_productDetail['id']; ?>&add=additem'">訂購</button>

--------我是分隔線--------我是分隔線--------我是分隔線--------

※檢查是否空值的語法：
在 <table> 之前 ~

<?php
if($cart->itemcount > 0){
?>

在 </table> 之後 ~

<?php
}else{
echo "<h5>目前購物車中無任何商品！</h5>";
}
?>
----------------------------------------------------------------------------------------------
※個別放入資料繫結欄位：
在 <form method="get"> 之後 ~
<input type="hidden" name="id" value="<?php echo $item['id'];?>"/>

在 第二列前五格<td> 之中 ~
<td><?php echo $item['id']; ?></td>
<td><?php echo $item['info']; ?></td>
<td><input style="size:portrait" type="text" name="qty" value="<?php echo $item['qty'];?>" size="1"/></td>
<td><?php echo $item['price'];?></td>
<td><?php echo $item['subtotal'];?></td>

在 第三列清空購物車按鈕 之前 ~
<?php echo "<h5>總計:".$cart->total."</h5>"; ?>
----------------------------------------------------------------------------------------------
在 <form> 之前加入：

<?php
foreach($cart->get_contents() as $item){	
?>
----------------------------------------------------------------------------------------------
在 </form> 之後加入：
<?php
}
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

在 <h2>購物車</h2> 之前，加入：

<?php
//檢查是否有項目要加入購物車
if($_GET['add'] && $_GET['id']!=NULL){
//查詢資料表資料並且加入購物車中
if($resource=mysql_query("select * from product where id=".$_GET['id'])){
$row = mysql_fetch_assoc($resource);	
$cart->add_item($row['id'],1,$row['price'],$row['name']);
}
}
//檢查購物車是否有數量要更新
if($_GET['edit'] && $_GET['id']!=NULL){
$rid = intval($_GET['id']);	
$qty = intval($_GET['qty']);
$cart->edit_item($rid,$qty);
}
//檢查購物車是否有項目要移除
if($_GET['remove'] && $_GET['id']!=NULL) {	
$rid = intval($_GET['id']);
$cart->del_item($rid);
}
//檢查是否要清空購物車
if($_GET['empty']!=NULL){
$cart->empty_cart();
}
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

替換第一列語法：

<?php session_start();?>
<?php require_once('../Connections/shop.php'); ?>

成為~

<?php
require_once('../Connections/shop.php'); 
include('../cart/wfcart.php');
@session_start();
//將$cart的指標指向 Session
$cart =& $_SESSION['wfcart']; 
//若$cart不為物件，重新建立一個新的$cart物件
if(!is_object($cart)) $cart = new wfCart();
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>購物車</h2>
<h3>底下將列出您所購買的商品。</h3>
<p>&nbsp;</p>
<p>&nbsp;</p>
<table>
<tr>
<th width="15%" scope="col"><p>商品編號</p></th>
<th width="30%" scope="col"><p>商品名稱</p></th>
<th width="10%" scope="col"><p>數量</p></th>
<th width="15%" scope="col"><p>單價</p></th>
<th width="15%" scope="col"><p>小計</p></th>
<th width="15%" scope="col"><p>操作</p></th>
</tr>
<form method="get">
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>
<button name="edit" value="更新" type="submit">更新</button>
<button value="移除" type="button">移除</button>
</td>
</tr>
</form>
<tr>
<td colspan="6" align="center" valign="middle">
<button value="清空購物車" type="button">清空購物車</button>
<button value="結帳" type="button">結帳</button>
</td>
</tr>
</table>

--------我是分隔線--------我是分隔線--------我是分隔線--------

cart.php(存檔至 Shop 資料夾中)-----------------------------------------------

<h2>購物車</h2>
<h3>底下將列出您所購買的商品。</h3>

※插入表格(3*6)：
----------------------------------------------------------------------------------------------
※設定表格表頭欄位：
<th width="15%" scope="col"><p>商品編號</p></th>
<th width="30%" scope="col"><p>商品名稱</p></th>
<th width="10%" scope="col"><p>數量</p></th>
<th width="15%" scope="col"><p>單價</p></th>
<th width="15%" scope="col"><p>小計</p></th>
<th width="15%" scope="col"><p>操作</p></th>
----------------------------------------------------------------------------------------------
※在第二列前後，插入表單語法，並將方法改為 GET：
<form method="get">
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>
<button name="edit" value="更新" type="submit">更新</button>
<button value="移除" type="button">移除</button>
</td>
</tr>
</form>
----------------------------------------------------------------------------------------------
※在第三列，插入按鈕語法：
<tr>
<td colspan="6" align="center" valign="middle">
<button value="清空購物車" type="button">清空購物車</button>
<button value="結帳" type="button">結帳</button>
</td>
</tr>

--------我是分隔線--------我是分隔線--------我是分隔線--------


<input type="hidden" name="oid" value="<?php echo $row_orderDetailsList['O_id']; ?>">

<input type="hidden" name="state" value="Y">
<input type="hidden" name="MM_update" value="form1"> 

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form method="POST" name="form1" action="<?php echo $editFormAction; ?>" id="form1">
<input type="hidden" name="oid">
<input type="hidden" name="state">
<input type="hidden" name="MM_update" value="form1" />
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

orderShipment.php(存檔至 Admin 資料夾中)-----------------------------------------------
使用者驗證(限制存取頁面)
使用者名稱、密碼和存取層級：Y
前往：index.php

<h2>訂單出貨完成</h2>
<h5>該訂單已經完成出貨處理，畫面稍後自動轉回訂單處理。</h5>

※插入表單(文字欄位ID為oid、state)

繫結名稱：RecordShipment
表格：orders

※更新紀錄
更新表格~orders
O_id~整數
shipment~文字
更新後前往：orderForm.php

※更新語法，設計停轉頁面：
header(sprintf("refresh: 3; url=%s", $updateGoTo));

--------我是分隔線--------我是分隔線--------我是分隔線--------

※插入隱藏欄位oid(來自$row_ordersList['O_id'])：

<input name="oid" type="hidden" id="oid" value="<?php echo $row_ordersList['O_id']; ?>" />

2018/06/29--------我是分隔線--------我是分隔線--------我是分隔線--------










2018/06/27--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>訂單詳細/出貨</h2>
<h3>查看訂單詳細資料，同時可以將該訂單設定為出貨。</h3>
<?php if ($totalRows_orderDetailsList > 0) { // Show if recordset not empty ?>
<h6>訂單編號：<?php echo $row_orderDetailsList['O_id']; ?></h6>
<form id="form1" method="post" action="">
<table width="100%" border="1" cellspacing="0" cellpadding="0">
<tr>
<th scope="col"><p>商品編號</p></th>
<th scope="col"><p>商品名稱</p></th>
<th scope="col"><p>訂購量</p></th>
<th scope="col"><p>單價</p></th>
<th scope="col"><p>小計</p></th>
</tr>
<?php do { ?>
<tr>
<th scope="row"><?php echo $row_orderDetailsList['D_pid']; ?></th>
<td><p><?php echo $row_orderDetailsList['name']; ?></p></td>
<td><h4><?php echo $row_orderDetailsList['D_qty']; ?></h4></td>
<td><h5><?php echo $row_orderDetailsList['D_price']; ?></h5></td>
<td><h5><?php echo $row_orderDetailsList['subtotal']; ?></h5></td>
</tr>
<?php } while ($row_orderDetailsList = mysql_fetch_assoc($orderDetailsList)); ?>
<tr>
<td colspan="5" align="center">
<input type="submit" name="button" id="button" value="確定出貨" /></td>
</tr>
</table>
</form>
<?php } // Show if recordset not empty ?>

<?php if ($totalRows_orderDetailsList == 0) { // Show if recordset empty ?>
<table width="100%" border="0">
<tr>
<th scope="col"><h5>資料庫目前尚無訂單！</h5></th>
</tr>
</table>
<?php } // Show if recordset empty ?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

orderProcess.php(存檔至 Admin 資料夾中)--------------------------------------------

使用者驗證(限制存取頁面)
使用者名稱、密碼和存取層級：Y
前往：index.php
----------------------------------------------------------------------------------------------
繫結名稱：orderDetailsList
進階-->SQL語法：(計算小計欄位)
SELECT orderdetail.*,name, (D_qty * D_price) as subtotal
FROM orderdetail, product
WHERE orderdetail.D_pid = product.id AND orderdetail.O_id=oid
ORDER BY D_id ASC

變數的參數設定：
　　名稱(欄位名稱)：oid
　　類型：Integer
　　預設值：0
　　執行階段值：$_REQUEST['oid']

--------我是分隔線--------我是分隔線--------我是分隔線--------

※插入表單
※插入表格(2*5)
※置換表格第一列語法：
<tr>
<th align="center"><p>訂單編號</p></th>
<th align="center"><p>會員ID</p></th>
<th align="center"><p>訂購日期</p></th>
<th align="center"><p>出貨否</p></th>
<th align="center"><p>出貨/詳細</p></th>
</tr>

※置換表格第二列語法，而最後一格置入為表單按鈕：
<tr>
<td align="center"><p><?php echo $row_ordersList['O_id']; ?></p></td>
<td align="center"><p><?php echo $row_ordersList['userid']; ?></p></td>
<td align="center"><h4><?php echo $row_ordersList['orderDate']; ?></h4></td>
<td align="center"><h5><?php echo $row_ordersList['shipment']; ?></h5></td>
<td align="center"><button type="submit">出貨/詳細</button></td>
</tr>

※將表單語法包覆第二列：
<form id="form1" method="POST" action=""> 
<tr>
<td align="center"><p><?php echo $row_ordersList['O_id']; ?></p></td>
<td align="center"><p><?php echo $row_ordersList['userid']; ?></p></td>
<td align="center"><h4><?php echo $row_ordersList['orderDate']; ?></h4></td>
<td align="center"><h5><?php echo $row_ordersList['shipment']; ?></h5></td>
<td align="center"><button type="submit">出貨/詳細</button></td>
</tr>
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

orderForm.php(存檔至 Admin 資料夾中)------------------------------------------------
使用者驗證(限制存取頁面)
使用者名稱、密碼和存取層級：Y
前往：index.php

<h2>會員訂單瀏覽</h2>
<h3>依訂單日期遞減排序，出貨處理或查看訂單細目請按下「出貨」按鈕。</h3>

繫結名稱：ordersList
表格：orders
篩選器：無
排序：orderDate;遞減

--------我是分隔線--------我是分隔線--------我是分隔線--------

建立 orders 訂單主檔資料表：----------------------------------------------------------------
(收件人聯絡電話 及 收件人行動電話 中文問題，各取代為phone及cellphone)

CREATE TABLE `orders` (
`O_id` int(11) NOT NULL auto_increment COMMENT '訂單主檔編號',
`O_name` varchar(20) NOT NULL COMMENT '收件人姓名',
`O_phone` varchar(13) default NULL COMMENT '收件人聯絡電話',
`O_cellphone` varchar(13) default NULL COMMENT '收件人行動電話',
`O_address` varchar(60) NOT NULL COMMENT '收件人地址',
`shipment` enum('Y','N') default 'N' COMMENT '出貨否',
`userid` varchar(20) NOT NULL COMMENT '訂購人會員ID',
`orderDate` datetime NOT NULL COMMENT '訂購日期',
PRIMARY KEY (`O_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=3 ;

-- 
-- 列出以下資料庫的數據： `orders`
-- 

INSERT INTO `orders` VALUES (1, '陳巨匠', '06-2200940', '0934-291130', '台南市公園路108號', 'N', 'weill', '2009-06-10 14:42:51');
INSERT INTO `orders` VALUES (2, '李家明', '04-2314320', '0912-211112', '台中市中正路一段15巷7號', 'N', 'irock', '2009-06-22 14:43:42');
----------------------------------------------------------------------------------------------

建立 orderdetail 訂單明細資料表：-----------------------------------------------------------

CREATE TABLE `orderdetail` (
`O_id` int(11) NOT NULL COMMENT '訂單編號',
`D_id` int(11) NOT NULL auto_increment COMMENT '訂單細目編號',
`D_pid` int(11) NOT NULL COMMENT '商品編號',
`D_qty` int(11) NOT NULL COMMENT '訂購數量',
`D_price` int(11) NOT NULL COMMENT '訂購金額',
PRIMARY KEY (`D_id`),
KEY `O_id` (`O_id`,`D_pid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=6 ;

-- 
-- 列出以下資料庫的數據： `orderdetail`
-- 

INSERT INTO `orderdetail` VALUES (1, 1, 14, 1, 680);
INSERT INTO `orderdetail` VALUES (1, 2, 12, 1, 1050);
INSERT INTO `orderdetail` VALUES (2, 3, 1, 1, 1470);
INSERT INTO `orderdetail` VALUES (2, 4, 5, 2, 1400);
INSERT INTO `orderdetail` VALUES (2, 5, 7, 1, 2150);
-----------------------------------------------------------------------------------------------

--------我是分隔線--------我是分隔線--------我是分隔線--------

※後台 下架商品 在 前台商品資料(Shop/product.php)頁面中 不呈現 資料紀錄：

重新修改 繫結 ：
繫結名稱：productList
表格：product
欄：全選
篩選器：state；=；輸入值；1
排序：無

--------我是分隔線--------我是分隔線--------我是分隔線--------

header(sprintf("refresh:3;url= %s", $updateGoTo));

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>上下架處理</h2>
<h3>您的功能已啟動</h3>
<h5>三秒後返回...</h5>

<button onclick="location.href='productStateProcess.php?id=<?php echo $row_productList['id']; ?>&MM_update=form1&state=0'">下架</button>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<button onclick="location.href='productStateProcess.php?id=<?php echo $row_productList['id']; ?>&MM_update=form1&state=1'">上架</button>

--------我是分隔線--------我是分隔線--------我是分隔線--------

productStateProcess.php(存檔至 Admin 資料夾中)------------------------------------------

使用者驗證(限制存取頁面)
使用者名稱、密碼和存取層級：Y
前往：index.php
----------------------------------------------------------------------------------------------
(※也可不作繫結)
繫結名稱：productList
表格：product
欄：思考全選 或 只選id及state
篩選器：無
排序：無
----------------------------------------------------------------------------------------------
※插入表單及兩個文字欄位(ID為id、state)

更新紀錄：
id及state 確認是否 送出為：整數
前往：productState.php

更新紀錄傳址語法設定：
將 POST 改為 GET

※思考表單 form1 是否有刪除必要!!

2018/06/27--------我是分隔線--------我是分隔線--------我是分隔線--------










2018/06/25--------我是分隔線--------我是分隔線--------我是分隔線--------

productState.php(存檔至 Admin 資料夾中)-----------------------------------------------

※使用者驗證(限制存取頁面)
使用者名稱、密碼和存取層級：Y
前往：index.php
-------------------------------------------------------------------------------------------
<h2>商品上/下架處理</h2>
<h3>透過商品上/下架處理，可以決定商品目前是否提供訂購。</h3>
-------------------------------------------------------------------------------------------
繫結名稱：productList
表格：product
欄：全選
篩選器：無
排序：id;遞減
-------------------------------------------------------------------------------------------
※插入表格，語法如下：

<table>
<tr>
<td><?php if ($pageNum_productList > 0) { // Show if not first page ?>
<a href="<?php printf("%s?pageNum_productList=%d%s", $currentPage, 0, $queryString_productList); ?>">第一頁</a>
<?php } // Show if not first page ?></td>
<td><?php if ($pageNum_productList > 0) { // Show if not first page ?>
<a href="<?php printf("%s?pageNum_productList=%d%s", $currentPage, max(0, $pageNum_productList - 1), 

$queryString_productList); ?>">上一頁</a>
<?php } // Show if not first page ?></td>
<td><?php if ($pageNum_productList < $totalPages_productList) { // Show if not last page ?>
<a href="<?php printf("%s?pageNum_productList=%d%s", $currentPage, min($totalPages_productList, 

$pageNum_productList + 1), $queryString_productList); ?>">下一頁</a>
<?php } // Show if not last page ?></td>
<td><?php if ($pageNum_productList < $totalPages_productList) { // Show if not last page ?>
<a href="<?php printf("%s?pageNum_productList=%d%s", $currentPage, $totalPages_productList, 

$queryString_productList); ?>">最後一頁</a>
<?php } // Show if not last page ?></td>
</tr>
</table>
記錄 第 <?php echo ($startRow_productList + 1) ?> 筆 到 第 <?php echo min($startRow_productList + $maxRows_productList, 

$totalRows_productList) ?> 筆，共 <?php echo $totalRows_productList ?> 筆</p>
<?php if ($totalRows_productList > 0) { // Show if recordset not empty ?>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<th width="15%" align="center" scope="col"><p>商品編號</p></th>
<th align="center" scope="col"><p>商品名稱</p></th>
<th width="10%" align="center" scope="col"><p>狀態</p></th>
<th align="center" scope="col"><p>上架</p></th>
<th align="center" scope="col"><p>下架</p></th>
</tr>
<?php do { ?>
<tr>
<td align="center"><h6><?php echo $row_productList['id']; ?></h6></td>
<td><?php echo $row_productList['name']; ?></td>
<td align="center"><h5><?php echo $row_productList['state']; ?></h5></td>
<td align="center"><button type="button">上架</button></td>
<td align="center"><button type="button">下架</button></td>
</tr>
<?php } while ($row_productList = mysql_fetch_assoc($productList)); ?>
</table>
<?php } // Show if recordset not empty ?>
<p>&nbsp;</p>
<?php if ($totalRows_productList == 0) { // Show if recordset empty ?>
<table width="90%" border="0">
<tr>
<th scope="col"><h5>資料庫目前尚無商品！</h5></th>
</tr>
</table>
<?php } // Show if recordset empty ?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

新增紀錄測試：

商品名稱：【新美珍】原味布丁蛋糕(5個)--新增商品
商品介紹：
★商品特色
只用蛋和鮮奶製作，不加一滴水，品質有保證，口感真的很讚，因為材料用的好，
蛋糕吃起來非常的綿密有彈性，咬下一口後，蛋糕彈性良好，還會回復原來的形狀。
單價：583
庫存量：10
商品圖片：picture/19.jpg(可自選)

--------我是分隔線--------我是分隔線--------我是分隔線--------

productAddProcess.php(存檔至 Admin 資料夾中)--------------------------------------------

使用者驗證(限制存取頁面)
使用者名稱、密碼和存取層級：Y
前往：index.php
-------------------------------------------------------------------------------------------
<h2>商品新增處理已完成</h2>
<h3>商品圖片將存放至picture資料夾，副檔名統一採用「jpg」存放。</h3>
-------------------------------------------------------------------------------------------
在第1列加入：

<?php session_start();?>
<?php require_once('../Connections/shop.php'); ?>
-------------------------------------------------------------------------------------------
在 <h3> 後加入：

<?php 
//取得前一頁面傳遞的商品資料
$pname = $_POST['productName'];	//名稱
$pinfo = $_POST['productInfo'];	//詳細
$pprice = $_POST['productPrice'];	//單價
$pqty = $_POST['productQty'];	//數量

mysql_select_db($database_shop, $shop);

$sqlstr = "insert into product (name,introduce,price,qty) values('$pname','$pinfo',$pprice,$pqty)";
if(mysql_query($sqlstr)){
echo "<h5>記錄新增成功!</h5>";
}	
$pid = mysql_insert_id();	//取得剛新增記錄的自動編號


//透過$_FILES['xxx']讀取上傳檔案資料
$userfile = $_FILES["productImage"];
fileCopy($userfile,$pid);
deleteFile($userfile);
?>
-------------------------------------------------------------------------------------------
在 </html> 後加入：

<?php
//將上傳至暫存區中的檔案存至實際欲存放的目錄下
function fileCopy($file,$pid){
if(copy($file['tmp_name'],"../Shop/picture/$pid.jpg")){
echo "<h5>檔案上傳成功!</h5>";
}
}

//將檔案複製至實際目錄後，接著將暫存檔案刪除
function deleteFile($file){
unlink($file['tmp_name']);
}
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

productAdd.php(存檔至 Admin 資料夾中)

※使用者驗證(限制存取頁面)
使用者名稱、密碼和存取層級：Y
前往：index.php
-------------------------------------------------------------------------------------------
<h2>商品項目新增</h2>
<h3>請依序填入商品相關資料以及「瀏覽」並選取商品圖片後上傳。</h3>
-------------------------------------------------------------------------------------------
※插入表單
※動作：productAddProcess.php
※方法：POST
※編碼類型：multipart/form-data
<form action="productAddProcess.php" method="post" enctype="multipart/form-data" id="form1">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<th width="25%" align="right" scope="col"><p>商品編號</p></th>
<th align="left" valign="middle" scope="col"><h5>採用自動編號、不需要填！</h5></th>
</tr>
<tr>
<th width="25%" align="right" scope="row"><p>商品名稱</p></th>
<td align="left" valign="top"><label>
<input name="productName" type="text" id="productName" size="36" />
</label></td>
</tr>
<tr>
<th width="25%" align="right" scope="row"><p>商品詳細介紹</p></th>
<td align="left" valign="top">
<textarea name="productInfo" id="productInfo" cols="40" rows="10"></textarea>
</td>
</tr>
<tr>
<th width="25%" align="right" scope="row"><p>單價</p></th>
<td align="left" valign="top">
<input name="productPrice" type="text" id="productPrice" size="10" />
</td>
</tr>
<tr>
<th width="25%" align="right" scope="row"><p>庫存量</p></th>
<td align="left" valign="top"><label>
<input name="productQty" type="text" id="productQty" size="6" />
</label></td>
</tr>
<tr>
<th width="25%" align="right" scope="row"><p>商品圖片</p></th>
<td align="left" valign="top">
<input type="file" name="productImage" id="productImage" />
</td>
</tr>
<tr>
<th width="25%" align="right" scope="row"><p>&nbsp;</p></th>
<td align="left" valign="top"><button type="submit">上傳新增</button></td>
</tr>
</table>
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php 
//透過$_FILES['xxx']讀取上傳檔案資料
$userfile = $_FILES["UserFile"];
showDetail($userfile);
fileCopy($userfile);
deleteFile($userfile);

/*顯示上傳檔案的詳細資料，包括了「名稱」、「類型」
、「暫存檔名」、「錯誤代碼」、「檔案大小」*/
function showDetail($file){
foreach($file as $key => $value){
echo "<font color=red><B>$key:</B></font> $value<br/>";
}
echo "<hr/>";
}

//將上傳至暫存區中的檔案存至實際欲存放的目錄下
function fileCopy($file){
if(copy($file['tmp_name'],"upload/userupload.zip")){
echo "<B>檔案上傳成功!</B>";
}else{
echo "<B>錯誤：無法複製檔案...</B>";
}
}

//將檔案複製至實際目錄後，接著將暫存檔案刪除
function deleteFile($file){
unlink($file['tmp_name']);
}
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form id="form1" name="form1" method="post" action="testProc.php">
<fieldset><legend>∼單一檔案上傳示範∼ </legend>
<label for="UserFile">請選擇上傳檔案：</label>
<input type="file" name="UserFile" id="UserFile">

<input type="submit" value="上傳">
</fieldset>
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

INSERT INTO `product` VALUES (14, '【彰化肉圓劉】肉圓(2盒20粒入)', '★商品特色\r\n超有名地方小吃肉圓劉員林肉圓金字招牌─肉圓劉。外皮獨特的水Q軟嫩帶點透明感，老頭家每天一早嚴選新鮮豬後腿肉及鮮甜筍角加上7種家傳秘方香料調製成美味內餡，內餡瘦肉', 680, 10, 1);
INSERT INTO `product` VALUES (13, '【起士公爵】草莓甜心乳酪蛋糕7吋(草莓季含運) ', '★商品特色\r\n法國進口的鮮釀草莓漿果，一向是搭配細緻的起士蛋糕的完美食材；清新可口的鮮釀漿果鮮嫩欲滴，絲毫沒有果醬的人工甜味，彷彿冬日的暖陽那樣叫人心曠神怡！再搭配經過特殊', 560, 10, 1);
INSERT INTO `product` VALUES (11, '【方王媽媽】乳酪饅頭20個', '★商品特色\r\n方王媽媽堅果饅頭是用特選麵粉做的，可以促進腸胃蠕動，並使用有驅散風寒等效用的黑糖。此外，饅頭也加入乳酪、黑糖、黃金豆\r\n。早餐食用方王媽媽堅果饅頭，可以促進腸胃', 700, 10, 1);
INSERT INTO `product` VALUES (12, '【方王媽媽】紅莓堅果饅頭30個', '★商品特色\r\n方王媽媽堅果饅頭是用特選麵粉做的，可以促進腸胃蠕動，並使用有驅散風寒等效用的黑糖。此外，饅頭也加入 紅麴、蔓越莓、松子、腰果、核桃、杏仁、南瓜子、葵瓜子、葡萄乾', 1050, 10, 1);
INSERT INTO `product` VALUES (8, ' 【福利麵包】墨西哥玉米片組合 ', '★可可布丁+杏仁布丁+芒果布丁+鮮奶布丁每組1種口味有3盒布丁，12個/組(單個約170g)。此組合含4組共48個布丁。\r\n\r\n★保存期限：未開封冷藏0∼7℃保存下14天，常溫下勿超過4小時。\r\n', 490, 10, 1);
INSERT INTO `product` VALUES (7, '【依蕾特】綜合口味布丁(4盒)', '★商品特色\r\n\r\n依蕾特布丁奶酪系列－最受歡迎的作品:鮮奶布丁濃郁的鮮奶滲和鮮美的蛋汁，透著嬌黃鮮嫩的綿密布丁倒在平盤上時，香氣襲人的焦糖醬汁亦隨之緩緩留下，是視覺、嗅覺與味覺', 1560, 10, 1);
INSERT INTO `product` VALUES (6, '【黎記】-冰糖醬鴨-辣味(3盒含運)', '★商品說明\r\n說到滷味要透要入味，功夫做得最最徹底的，當是屏東『黎記冰糖醬鴨』莫屬。在屏東店內的廚房裡，數十支炒菜鍋兩邊擺開，眷村媽媽們人手一鏟，忙著在大火中為滷味收汁，直', 599, 10, 1);
INSERT INTO `product` VALUES (5, '【阿姿調味海鮮】精選無辣組合(燒酒螺、風螺、九層螺，各2盒)', '★商品特色\r\n1. 燒酒螺 : 採新鮮燒酒螺，再加上蒜頭、辣椒、特製醬油調配而成，味道讓略微辛辣，讓燒酒螺更加好風味。\r\n2. 風螺 : 新鮮的風螺搭配著風味獨特的阿姿醬料，再經過阿姿調味海', 700, 10, 1);
INSERT INTO `product` VALUES (4, '【純新】Milk17牛奶棒禮盒10包裝(巧克力)', '★商品特色\r\n長如42cm的竹筷子又俗稱〝筷子餅乾〞，5支包裝一包，一盒5包裝，共計11種口味，每種口味蜠有香純牛乳味，是值得品嚐點心。\r\n\r\n\r\n★商品成分\r\n麵粉、牛奶、糖 ', 599, 10, 1);
INSERT INTO `product` VALUES (3, '【純新】Milk17牛奶棒禮盒10包裝(原味)', '★商品特色\r\n長如42cm的竹筷子又俗稱〝筷子餅乾〞，5支包裝一包，一盒5包裝，共計11種口味，每種口味蜠有香純牛乳味，是值得品嚐點心。\r\n\r\n\r\n★商品成分\r\n麵粉、牛奶、糖 ', 599, 10, 1);
INSERT INTO `product` VALUES (1, '【龍和餐廳】蔥油餅(6包60入)', '★商品說明\r\n蔥油餅煎法說明：\r\n平底鍋中火燒熱約15秒，加入一大匙清油，轉小火放入蔥油餅，煎至皮成軟狀時，約2分鐘後翻面，再開中小火煎約2分鐘，再翻面各煎一分鐘，煎至兩面金黃色即', 1470, 10, 0);
INSERT INTO `product` VALUES (2, '【純新】Milk17牛奶棒禮盒10包裝(海苔)', '★商品特色\r\n長如42cm的竹筷子又俗稱〝筷子餅乾〞，5支包裝一包，一盒5包裝，共計11種口味，每種口味蜠有香純牛乳味，是值得品嚐點心。\r\n\r\n\r\n★商品成分\r\n麵粉、牛奶、糖 ', 599, 10, 1);
INSERT INTO `product` VALUES (18, '【蘿拉手工果醬】葡萄果醬+紅豆牛奶抹醬(各1瓶)-含運費', '★商品特色\r\n葡萄果醬-\r\n粒粒黑紫玉中，融入少少清新檸檬汁，滋味甜蜜爽口，讓你有如沉浸在晨曦露水中那樣美妙滿足。\r\n\r\n紅豆牛奶抹醬-\r\n細火慢燉熬煮的紅豆，呈現綿密柔軟的觸感，搭配香', 580, 10, 1);
INSERT INTO `product` VALUES (19, '【新美珍】原味布丁蛋榚(5個)', '★商品特色\r\n只用蛋和鮮奶製作，不加一滴水，品質有保證，\r\n口感真的很贊，因為材料用得好，蛋榚吃起來非\r\n常的綿密水有彈性，咬下一口後，蛋榚彈性良好\r\n，還會回 復原來的形狀。\r\n', 583, 10, 1);

--------我是分隔線--------我是分隔線--------我是分隔線--------

3秒後將自動轉向產品瀏覽頁面語法：

將 header(sprintf("Location: %s", $deleteGoTo));
改為 header(sprintf("refresh: 3; url=%s", $deleteGoTo));

--------我是分隔線--------我是分隔線--------我是分隔線--------

<button onclick="if(confirm('您確認要刪除嗎?'))location.href='productDelete.php?id=<?php echo $row_productBrowser['id']; ?>'">刪除</button>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<button onclick="location.href='productDelete.php?id=<?php echo $row_productBrowser['id']; ?>'">刪除</button>

--------我是分隔線--------我是分隔線--------我是分隔線--------

productDelete.php(存檔至 Admin 資料夾中)

<h2>產品刪除</h2>
<h5>此筆記錄已刪除，3秒後將自動轉向產品瀏覽頁面。</h5>

檢查是否已在第1列加入：
<?php require_once('../Connections/shop.php'); ?>

使用者驗證(限制存取頁面)
使用者名稱、密碼和存取層級：Y
前往：index.php

刪除紀錄：
先檢查是否定義了變數為：主索引鍵值
表格：product
主索引鍵欄位：id
主索引鍵值：URL參數=id
前往：productBrowser.php

2018/06/25--------我是分隔線--------我是分隔線--------我是分隔線--------









2018/06/22--------我是分隔線--------我是分隔線--------我是分隔線--------

<table border="1" width="100%">
<tr>
<th scope="col"><p>商品編號</p></th>
<th scope="col"><p>商品名稱</p></th>
<th align="right" scope="col"><p>庫存量</p></th>
<th align="right" scope="col"><p>單價</p></th>
<th align="center" scope="col"><p>功能</p></th>
</tr>
<tr>
<td><?php echo $row_productBrowser['id']; ?></td>
<td><?php echo $row_productBrowser['name']; ?></td>
<td><?php echo $row_productBrowser['qty']; ?></td>
<td><?php echo $row_productBrowser['price']; ?></td>
<td><button>刪除</button></td>
</tr>
</table>

--------我是分隔線--------我是分隔線--------我是分隔線--------

productBrowser.php(存檔至 Admin 資料夾中)------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Admin 資料夾中)

※建立資料集繫結：
繫結名稱：productBrowser
連線：shop
表格：product
欄：全選
篩選器：無
排序：id；遞減
----------------------------------------------------------------------------------------------
<h2>商品瀏覽</h2>
<h3>提供所有商品進行分頁瀏覽。</h3>

--------我是分隔線--------我是分隔線--------我是分隔線--------

loginCheck.php(存檔至 Admin 資料夾中)-----------------------------------------------------
※插入表單(ID為user、password)

使用者驗證(登入使用者)：
前往：index.php
層級來源：admin
----------------------------------------------------------------------------------------------

logout.php(存檔至 Admin 資料夾中)----------------------------------------------------------
使用者驗證(登出使用者)：
前往：index.php

--------我是分隔線--------我是分隔線--------我是分隔線--------

新增 index.php(存檔至 Admin 資料夾中)-----------------------------------------------------------

※開新檔案/來自範本(ShopAdmin)的頁面/存檔(存檔至 Admin 資料夾中)
----------------------------------------------------------------------------------------------

<h2>後台管理系統</h2>
<h3>您必須是具備管理身分才可以使用各項功能。</h3>

--------我是分隔線--------我是分隔線--------我是分隔線--------

修改 ShopAdmin.dwt.php------------------------------------------------------------------------
在第1列加入：

<?php session_start(); ?>

在 <h3>管理員登入</h3> 前加入：

<?php if(!isset($_SESSION['MM_Username'])){?>

在 </form> 後加入：

<?php }else{ ?>
<h3>管理員服務</h3>
<form action="logout.php" method="post">
<p>歡迎 <?php echo $_SESSION['MM_Username'];?> 您光臨</p>
<p><button type="submit">登出</button></p>
</form>
<?php }?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<button onclick="location.href='productDetail.php?id=<?php echo $row_productList['id']; ?>'">詳細</button>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<table border="1" width="100%">
<tr>
<td align="center" colspan="2">
<img src="picture/<?php echo $row_productDetail['id']; ?>.jpg" alt="">
</td> 
</tr>
<tr>
<td width="25%" align="right"><p>商品名稱：</p></td>
<td><h4><?php echo $row_productDetail['name']; ?></h4></td>
</tr>
<tr>
<td align="right"><p>單價：</p></td>
<td><h5><?php echo $row_productDetail['price']; ?></h5></td>
</tr>
<tr>
<td align="right"><p>庫存量：</p></td>
<td><p><?php echo $row_productDetail['qty']; ?></p></td>
</tr>
<tr>
<td align="right"><p>商品介紹：</p></td>
<td><p><?php echo $row_productDetail['introduce']; ?></p></td>
</tr>
<tr>
<td colspan="2" align="center">
<button>訂購</button>
</td>
</tr>
</table>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<table border="1" width="100%">
<tr>
<td align="center" colspan="2">
<img src="" alt="">
</td> 
</tr>
<tr>
<td align="right"><p>商品名稱：</p></td>
<td></td>
</tr>
<tr>
<td align="right"><p>單價：</p></td>
<td></td>
</tr>
<tr>
<td align="right"><p>庫存量：</p></td>
<td></td>
</tr>
<tr>
<td align="right"><p>商品介紹：</p></td>
<td></td>
</tr>
<tr>
<td colspan="2" align="center">
<button>訂購</button>
</td>
</tr>
</table>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<productDetail.php>---------------------------------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Shop 資料夾中)

※建立資料集繫結：
繫結名稱：productDetail
連線：shop
表格：product
欄：全選
篩選器：URL參數；id
排序：無
----------------------------------------------------------------------------------------------
<h2>商品詳細資料</h2>
<h3>點選「訂購」按鈕可將該商品加入購物車中。</h3>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>商品瀏覽</h2>
<h3>點「詳細」按鈕可以獲得詳細的商品說明，點「訂購」可加入購物車中。</h3>
<p>&nbsp;</p>
[<a href="<?php printf("%s?pageNum_productList=%d%s", $currentPage, 0, $queryString_productList); ?>">第一頁</a>]
[<a href="<?php printf("%s?pageNum_productList=%d%s", $currentPage, max(0, $pageNum_productList - 1), $queryString_productList); ?>">上一頁</a>]
[<a href="<?php printf("%s?pageNum_productList=%d%s", $currentPage, min($totalPages_productList, $pageNum_productList + 1), $queryString_productList); ?>">下一頁</a>]
[<a href="<?php printf("%s?pageNum_productList=%d%s", $currentPage, $totalPages_productList, $queryString_productList); ?>">最後一頁</a>]第 <?php echo ($startRow_productList + 1) ?> 筆至第 <?php echo min($startRow_productList + $maxRows_productList, $totalRows_productList) ?> 筆/共 <?php echo $totalRows_productList ?>  筆
<hr>
<p>&nbsp;</p>
<?php do { ?>
<table border="1" width="100%">
<tr>
<td colspan="2" align="center">
<a href=""><img src="picture/<?php echo $row_productList['id']; ?>.jpg" alt="" width="200"></a>
</td> 
</tr>
<tr>
<th align="right"><p>商品名稱：</p></th>
<td><h4><?php echo $row_productList['name']; ?></h4></td>
</tr>
<tr>
<th align="right"><p>單價：</p></th>
<td><h5><del><?php echo $row_productList['price']; ?></del> <?php echo $row_productList['price']; ?></h5></td>
</tr>
<tr>
<td colspan="2" align="center">
<button onclick="">詳細</button>
<button onclick="">訂購</button>
</td> 
</tr>
</table>

<p>&nbsp;</p>
<hr>
<p>&nbsp;</p>
<?php } while ($row_productList = mysql_fetch_assoc($productList)); ?>
<p>&nbsp;</p>
[<a href="<?php printf("%s?pageNum_productList=%d%s", $currentPage, 0, $queryString_productList); ?>">第一頁</a>]
[<a href="<?php printf("%s?pageNum_productList=%d%s", $currentPage, max(0, $pageNum_productList - 1), $queryString_productList); ?>">上一頁</a>]
[<a href="<?php printf("%s?pageNum_productList=%d%s", $currentPage, min($totalPages_productList, $pageNum_productList + 1), $queryString_productList); ?>">下一頁</a>]
[<a href="<?php printf("%s?pageNum_productList=%d%s", $currentPage, $totalPages_productList, $queryString_productList); ?>">最後一頁</a>]第 <?php echo ($startRow_productList + 1) ?> 筆至第 <?php echo min($startRow_productList + $maxRows_productList, $totalRows_productList) ?> 筆/共 <?php echo $totalRows_productList ?>  筆

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>商品瀏覽</h2>
<h3>點「詳細」按鈕可以獲得詳細的商品說明，點「訂購」可加入購物車中。</h3>
<p>&nbsp;</p>
<p>&nbsp;</p>
<table>
<tr>
<td colspan="2" align="center">fefwe
<a href=""><img src="" alt=""></a>
</td> 
</tr>
<tr>
<th align="right">商品名稱：</th>
<td></td>
</tr>
<tr>
<th align="right">單價：</th>
<td></td>
</tr>
<tr>
<td colspan="2" align="center">
<button onclick="">詳細</button>
<button onclick="">訂購</button>
</td> 
</tr>
</table>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<product.php>----------------------------------------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Shop 資料夾中)

※建立資料集繫結：
名稱：productList
連線：shop
表格：product
欄：全選
篩選器：無
排序：id；遞減
----------------------------------------------------------------------------------------------
<h2>商品瀏覽</h2>
<h3>點「詳細」按鈕可以獲得詳細的商品說明，點「訂購」可加入購物車中。</h3>

--------我是分隔線--------我是分隔線--------我是分隔線--------

建立 product 產品資料表：-------------------------------------------------------------------------

CREATE TABLE `product` (
`id` int(11) NOT NULL auto_increment COMMENT '產品編號',
`name` varchar(200) NOT NULL COMMENT '產品名稱',
`introduce` text COMMENT '產品內容',
`price` int(11) default '0' COMMENT '產品單價',
`qty` int(11) default '0' COMMENT '產品庫存量',
`state` boolean default '1' COMMENT '產品上架否',
PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=20 ;

-- 
-- 列出以下資料庫的數據： `product`
-- 

INSERT INTO `product` VALUES (14, '【彰化肉圓劉】肉圓(2盒20粒入)', '★商品特色\r\n超有名地方小吃肉圓劉員林肉圓金字招牌─肉圓劉。外皮獨特的水Q軟嫩帶點透明感，老頭家每天一早嚴選新鮮豬後腿肉及鮮甜筍角加上7種家傳秘方香料調製成美味內餡，內餡瘦肉', 680, 10, 1);
INSERT INTO `product` VALUES (13, '【起士公爵】草莓甜心乳酪蛋糕7吋(草莓季含運) ', '★商品特色\r\n法國進口的鮮釀草莓漿果，一向是搭配細緻的起士蛋糕的完美食材；清新可口的鮮釀漿果鮮嫩欲滴，絲毫沒有果醬的人工甜味，彷彿冬日的暖陽那樣叫人心曠神怡！再搭配經過特殊', 560, 10, 1);
INSERT INTO `product` VALUES (11, '【方王媽媽】乳酪饅頭20個', '★商品特色\r\n方王媽媽堅果饅頭是用特選麵粉做的，可以促進腸胃蠕動，並使用有驅散風寒等效用的黑糖。此外，饅頭也加入乳酪、黑糖、黃金豆\r\n。早餐食用方王媽媽堅果饅頭，可以促進腸胃', 700, 10, 1);
INSERT INTO `product` VALUES (12, '【方王媽媽】紅莓堅果饅頭30個', '★商品特色\r\n方王媽媽堅果饅頭是用特選麵粉做的，可以促進腸胃蠕動，並使用有驅散風寒等效用的黑糖。此外，饅頭也加入 紅麴、蔓越莓、松子、腰果、核桃、杏仁、南瓜子、葵瓜子、葡萄乾', 1050, 10, 1);
INSERT INTO `product` VALUES (8, ' 【福利麵包】墨西哥玉米片組合 ', '★可可布丁+杏仁布丁+芒果布丁+鮮奶布丁每組1種口味有3盒布丁，12個/組(單個約170g)。此組合含4組共48個布丁。\r\n\r\n★保存期限：未開封冷藏0∼7℃保存下14天，常溫下勿超過4小時。\r\n', 490, 10, 1);
INSERT INTO `product` VALUES (7, '【依蕾特】綜合口味布丁(4盒)', '★商品特色\r\n\r\n依蕾特布丁奶酪系列－最受歡迎的作品:鮮奶布丁濃郁的鮮奶滲和鮮美的蛋汁，透著嬌黃鮮嫩的綿密布丁倒在平盤上時，香氣襲人的焦糖醬汁亦隨之緩緩留下，是視覺、嗅覺與味覺', 1560, 10, 1);
INSERT INTO `product` VALUES (6, '【黎記】-冰糖醬鴨-辣味(3盒含運)', '★商品說明\r\n說到滷味要透要入味，功夫做得最最徹底的，當是屏東『黎記冰糖醬鴨』莫屬。在屏東店內的廚房裡，數十支炒菜鍋兩邊擺開，眷村媽媽們人手一鏟，忙著在大火中為滷味收汁，直', 599, 10, 1);
INSERT INTO `product` VALUES (5, '【阿姿調味海鮮】精選無辣組合(燒酒螺、風螺、九層螺，各2盒)', '★商品特色\r\n1. 燒酒螺 : 採新鮮燒酒螺，再加上蒜頭、辣椒、特製醬油調配而成，味道讓略微辛辣，讓燒酒螺更加好風味。\r\n2. 風螺 : 新鮮的風螺搭配著風味獨特的阿姿醬料，再經過阿姿調味海', 700, 10, 1);
INSERT INTO `product` VALUES (4, '【純新】Milk17牛奶棒禮盒10包裝(巧克力)', '★商品特色\r\n長如42cm的竹筷子又俗稱〝筷子餅乾〞，5支包裝一包，一盒5包裝，共計11種口味，每種口味蜠有香純牛乳味，是值得品嚐點心。\r\n\r\n\r\n★商品成分\r\n麵粉、牛奶、糖 ', 599, 10, 1);
INSERT INTO `product` VALUES (3, '【純新】Milk17牛奶棒禮盒10包裝(原味)', '★商品特色\r\n長如42cm的竹筷子又俗稱〝筷子餅乾〞，5支包裝一包，一盒5包裝，共計11種口味，每種口味蜠有香純牛乳味，是值得品嚐點心。\r\n\r\n\r\n★商品成分\r\n麵粉、牛奶、糖 ', 599, 10, 1);
INSERT INTO `product` VALUES (1, '【龍和餐廳】蔥油餅(6包60入)', '★商品說明\r\n蔥油餅煎法說明：\r\n平底鍋中火燒熱約15秒，加入一大匙清油，轉小火放入蔥油餅，煎至皮成軟狀時，約2分鐘後翻面，再開中小火煎約2分鐘，再翻面各煎一分鐘，煎至兩面金黃色即', 1470, 10, 0);
INSERT INTO `product` VALUES (2, '【純新】Milk17牛奶棒禮盒10包裝(海苔)', '★商品特色\r\n長如42cm的竹筷子又俗稱〝筷子餅乾〞，5支包裝一包，一盒5包裝，共計11種口味，每種口味蜠有香純牛乳味，是值得品嚐點心。\r\n\r\n\r\n★商品成分\r\n麵粉、牛奶、糖 ', 599, 10, 1);
INSERT INTO `product` VALUES (18, '【蘿拉手工果醬】葡萄果醬+紅豆牛奶抹醬(各1瓶)-含運費', '★商品特色\r\n葡萄果醬-\r\n粒粒黑紫玉中，融入少少清新檸檬汁，滋味甜蜜爽口，讓你有如沉浸在晨曦露水中那樣美妙滿足。\r\n\r\n紅豆牛奶抹醬-\r\n細火慢燉熬煮的紅豆，呈現綿密柔軟的觸感，搭配香', 580, 10, 1);
INSERT INTO `product` VALUES (19, '【新美珍】原味布丁蛋榚(5個)', '★商品特色\r\n只用蛋和鮮奶製作，不加一滴水，品質有保證，\r\n口感真的很贊，因為材料用得好，蛋榚吃起來非\r\n常的綿密水有彈性，咬下一口後，蛋榚彈性良好\r\n，還會回 復原來的形狀。\r\n', 583, 10, 1);

2018/06/22--------我是分隔線--------我是分隔線--------我是分隔線--------










2018/06/20--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
if($row_Recordset1['userid']!=NULL){
//呼叫 sendmail(...)傳遞使用者帳號與郵件發送確認信
sendmail($row_Recordset1['userid'],$row_Recordset1['password'],$row_Recordset1['mail']);
?>
<script>
alert("密碼信件已寄出!");
</script>
<?php 
}
?> 

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
//按收會員帳號與電子郵件進行郵件發送
function sendmail($uid,$pwd,$mail){
$to = $mail;
$subject = "=?UTF-8?B?".base64_encode("會員密碼通知函")."?=";
//透過md5(...)函式將會員帳號進行訊息數位演算，以提高複雜度
$message = "$uid 您好、這是您會員密碼通知：<br/><hr/><p>"
."會員帳號：$uid<br/>"
."會員密碼：$pwd<br/>";
$headers = "MIME-Version: 1.0\r\n";
$headers .= "Content-type: text/html; charset=utf-8\r\n";
$headers .= "From: services@pcschool.com.tw \r\n";
$headers .= "Reply-To: services@pcschool.com.tw \r\n";
$headers .= "X-Mailer: PHP/" . phpversion();	

@mail($to, $subject, $message, $headers);
}
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form id="form1" method="post" action="forgetpassword.php">
<table width="95%%" border="0">
<tr>
<th align="right" scope="col"><p>會員帳號:</p></th>
<th scope="col"><label>
<input type="text" name="userid" id="userid" />
</label></th>
</tr>
<tr>
<th colspan="2" align="center" scope="row"><button type="submit" name="button" id="button" value="送出">送出</button></th>
</tr>
</table>
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>忘記密碼</h2>
<h3>密碼將送至您會員基本資料中所設定的電子信箱！</h3>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?
if($row_Recordset1['userid']!=NULL && (isset($_POST["MM_send"])) && ($_POST["MM_send"] == "form1")){
sendmail($row_Recordset1['userid'],$row_Recordset1['mail']);	
?>	
<script>
alert("確認信件已寄出!");
</script>
<?	
}
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>重發確認信件</h2>
<h3>確認信件將寄至您申請時所留的E-Mail</h3>

<p>【<? echo $row_Recordset1['userid']; ?>】&nbsp;您好~</p>
<p>請確認您的E-Mail為&nbsp;：&nbsp;<h5><? echo $row_Recordset1['mail']; ?></h5></p>
<p>&nbsp;</p>
<p><h5>如果有誤</h5> --> <button onclick="location.href='modifydata.php?'">修改資料</button></p>
<p>&nbsp;</p>
<form action="reconfirm.php" method="post">
<p><h4>如果無誤</h4> --> <button type="submit">重發確認信</button></p>
<input type="hidden" name="userid">
<input type="hidden" name="MM_send" value="form1">
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<p><h5>如果有誤</h5> --> <button onclick="location.href='modifydata.php?'">修改資料</button></p>

--------我是分隔線--------我是分隔線--------我是分隔線--------

//接收會員帳號與郵件地址進行郵件發送
function sendmail($uid,$mail){
$to = $mail;

$subject = "=?UTF-8?B?".base64_encode("會員功能啟用通知")."?=";

/*	$message = " md5('$uid') 好，啟用會員功能通知<br/>";*/
$message = '啟用會員功能方法一：'."\r\n".'<a href=\"http://localhost/php_incomplete/Shop/auth_user.php?uid=".md5($uid)."\">點此超連結啟用會員功能</a>'."\r\n".'啟用會員功能方法二：'."\r\n".'將下列網址複製到瀏覽器的網址列中，按下ENTER按鍵進行啟用會員功能'."\r\n".'http://localhost/php_incomplete/Shop/auth_user.php?uid='.md5($uid);

$headers = "MIME-Version: 1.0\r\n";
$headers .= "Content-type: text/html; charset=utf-8\r\n";
$headers .= "From: services@pcschool.com.tw \r\n";
$headers .= "Reply-To: services@pcschool.com.tw \r\n";
$headers .= "X-Mailer: PHP/" . phpversion();	

@mail($to, $subject, $message, $headers);
}

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>重發確認信件</h2>
<h3>確認信件將寄至您申請時所留的E-Mail</h3>

<p>【<? echo $row_Recordset1['userid'] ?>】&nbsp;您好~</p>
<p>請確認您的E-Mail為&nbsp;：&nbsp;<h5><? echo $row_Recordset1['mail'] ?></h5></p>
<p>&nbsp;</p>
<p><h5>如果有誤</h5> --> <button>修改資料</button></p>
<p>&nbsp;</p>
<p><h4>如果無誤</h4> --> <button>重發確認信</button></p>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>重發確認信件</h2>
<h3>確認信件將寄至您申請時所留的E-Mail</h3>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<select name="sex" id="sex">
<option value="M" <? if(!(strcmp("M",$row_Recordset1['sex']))){echo "selected";} ?>>男</option>
<option value="F" <? if(!(strcmp("F",$row_Recordset1['sex']))){echo "selected";} ?>>女</option>
</select>

2018/06/20--------我是分隔線--------我是分隔線--------我是分隔線--------








2018/06/15--------我是分隔線--------我是分隔線--------我是分隔線--------

<form name="form1" id="form1" method="POST" action="">
<table width="100%" border="0">
<tr>
<th width="25%" align="right" scope="col">密碼：</th>
<th align="left" scope="col"><label>
<input name="password" type="password" id="password" value="" />
</label></th>
</tr>
<tr>
<th width="25%" align="right" scope="row">性別：</th>
<td align="left"><label>
<select name="sex" id="sex">
<option value="M">男</option>
<option value="F">女</option>
</select>
</label></td>
</tr>
<tr>
<th width="25%" align="right" scope="row">年齡：</th>
<td align="left"><input name="age" type="number" id="age" value="" /></td>
</tr>
<tr>
<th width="25%" align="right" scope="row">電子郵件：</th>
<td align="left"><input name="mail" type="text" id="mail" value="" /></td>
</tr>
<tr>
<th width="25%" align="right" scope="row">通訊地址：</th>
<td align="left"><input name="address" cols="32" rows="2" id="address"></td>
</tr>
<tr>
<th colspan="2" align="center" scope="row"><button type="submit" name="button" id="button" value="送出" >送出</button>
</th>
</tr>
</table>
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<modifydata.php>-----------------------------------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Shop 資料夾中)

※建立資料集繫結：
名稱：Recordset1(可自訂，此處建議用預設名稱)
欄：排除選取 admin、auth、register
篩選器：Session變數；MM_Username
排序：無
----------------------------------------------------------------------------------------------
<h2>會員基本資料更新</h2>
<h3>會員基本資料更新、填寫完畢請按送出即可！</h3>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<auth_user.php>-------------------------------------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Shop 資料夾中)

在 第一行 確認：
<?php require_once('../Connections/shop.php'); ?>

在 <body> 後加入：
<?php
$uid = $_GET['uid'];
//將user資料表中的userid欄位,使用md5( )函式數位演算後與接收到的$uid進行比較
$sqlstr="update user set auth='Y' where md5(userid)='$uid'";
if(mysql_query($sqlstr)){
echo "<h5>會員功能啟用成功、歡迎您的加入!!</h5>";	
}else{	
echo "<h5>會員功能啟用失敗!!</h5>";	
}
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------


$message = '啟用會員功能方法一：'."\r\n".'<a href=\"http://localhost/php_incomplete/Shop/auth_user.php?uid=".md5($uid)."\">點此超連結啟用會員功能</a>'."\r\n".'啟用會員功能方法二：'."\r\n".'將下列網址複製到瀏覽器的網址列中，按下ENTER按鍵進行啟用會員功能'."\r\n".'http://localhost/php_incomplete/Shop/auth_user.php?uid='.md5($uid);

--------我是分隔線--------我是分隔線--------我是分隔線--------

$message = "啟用會員功能通知：<br/>"."<a href=\"http://localhost/php_incomplete/Shop/auth_user.php?uid=".md5($uid)."\">點此超連結啟用會員功能</a><br/>";

--------我是分隔線--------我是分隔線--------我是分隔線--------

sendmail($_POST['userid'],$_POST['mail']);

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
//接收會員帳號與郵件地址進行郵件發送
function sendmail($uid,$mail){
$to = $mail;

$subject = "=?UTF-8?B?".base64_encode("會員功能啟用通知")."?=";

$message = " $uid 好，啟用會員功能通知<br/>";

$headers = "MIME-Version: 1.0\r\n";
$headers .= "Content-type: text/html; charset=utf-8\r\n";
$headers .= "From: services@pcschool.com.tw \r\n";
$headers .= "Reply-To: services@pcschool.com.tw \r\n";
$headers .= "X-Mailer: PHP/" . phpversion();	

@mail($to, $subject, $message, $headers);
}
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

修改 php.ini
smtp:
msa.hinet.net

ping 168.95.1.1 -t

registerError.php--------------------------------------------

<h3>會員管理中心</h3>
<h5>使用者帳號已使用，請返回上一頁重新挑選一個！</h5>
<button onclick="history.back();">返回上一頁</button>

--------我是分隔線--------我是分隔線--------我是分隔線--------

$errorGoTo = "registerError.php";
header(sprintf("Location: %s", $errorGoTo));

--------我是分隔線--------我是分隔線--------我是分隔線--------

$error['username'] = "帳號已使用、請重新挑選一個！";
echo $error['username']."<br>";
echo "<a href=registerUser.php>重新註冊會員</a>";

--------我是分隔線--------我是分隔線--------我是分隔線--------

※插入/資料/使用者驗證/檢查新使用者名稱

2018/06/15--------我是分隔線--------我是分隔線--------我是分隔線--------







2018/06/13--------我是分隔線--------我是分隔線--------我是分隔線--------

https://www.google.com/recaptcha/intro/v3beta.html

--------我是分隔線--------我是分隔線--------我是分隔線--------

<tr>
<td align="right">確認密碼:</td>
<td><input name="password2" type="password" id="password2" value="" size="32" onblur="passwordCheck()" />
<div id="message"></div> 
</td>
</tr>

--------我是分隔線--------我是分隔線--------我是分隔線--------

在 </html> 後加入：

<script language="javascript" type="text/javascript">
function passwordCheck(){
//先尋找message Div標籤
var msg=document.getElementById('message');
//判斷密碼欄位與確認密碼欄位是否相同
if(form1.password.value!=form1.password2.value){
//在Div欄位上顯示提示文字
msg.innerHTML="<font color=red>密碼與確認密碼不符！</font>";
form1.password.value=""; //文字欄位清空
form1.password2.value=""; //文字欄位清空
form1.password.focus();	//取得焦點，將游標停留在 密碼欄位 中
}else{
msg.innerHTML="";
}
}
</script>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<button type="button" onclick="location.href='registerUser.php'">註冊會員</button> 

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>會員註冊</h2>
<h3>提供會員進行註冊，註冊後別忘了透過電子郵件回覆啟用會員功能。</h3>
<p>&nbsp;</p>
<form action="" method="post" id="form1">
<table width="100%">
<tr>
<td width="20" align="right">帳號:</td>
<td><input type="text" name="userid" value="" size="32" /></td>
</tr>
<tr valign="baseline">
<td align="right">密碼:</td>
<td><input name="password" type="password" id="password" value="" size="32" /></td>
</tr>
<tr>
<td align="right">性別:</td>
<td>
<select name="sex">
<option value="M">男</option>
<option value="F">女</option>
</select>
</td>
</tr>
<tr>
<td align="right">年齡:</td>
<td><input type="text" name="age" value="" size="32" /></td>
</tr>
<tr>
<td align="right">電子郵件:</td>
<td><input type="text" name="mail" value="" size="32" /></td>
</tr>
<tr>
<td align="right">聯絡地址:</td>
<td><input type="text" name="address" value="" size="32" /></td>
</tr>
<tr> 
<td colspan="2" width="100%" align="center"><input type="submit" value="註冊會員" /></td>
</tr>
</table>
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<registerUser.php>---------------------------------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Shop 資料夾中)

會員註冊
提供會員進行註冊，註冊後別忘了透過電子郵件回覆啟用會員功能。

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h5><? echo $_GET['msg']; ?></h5>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
// *** Logout the current user.
$logoutGoTo = "index.php?msg=您已成功登出";
if (!isset($_SESSION)) {
session_start();
}
$_SESSION['MM_Username'] = NULL;
$_SESSION['MM_UserGroup'] = NULL;
unset($_SESSION['MM_Username']);
unset($_SESSION['MM_UserGroup']);
if ($logoutGoTo != "") {header("Location: $logoutGoTo");
exit;
}
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php require_once('../Connections/shop.php'); ?>
<?php
if (!function_exists("GetSQLValueString")) {
function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "") 
{
if (PHP_VERSION < 6) {
$theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;
}

$theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);

switch ($theType) {
case "text":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break; 
case "long":
case "int":
$theValue = ($theValue != "") ? intval($theValue) : "NULL";
break;
case "double":
$theValue = ($theValue != "") ? doubleval($theValue) : "NULL";
break;
case "date":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break;
case "defined":
$theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;
break;
}
return $theValue;
}
}
?>
<?php
// *** Validate request to login to this site.
if (!isset($_SESSION)) {
session_start();
}

$loginFormAction = $_SERVER['PHP_SELF'];
if (isset($_GET['accesscheck'])) {
$_SESSION['PrevUrl'] = $_GET['accesscheck'];
}

if (isset($_POST['user'])) {
$loginUsername=$_POST['user'];
$password=$_POST['password'];
$MM_fldUserAuthorization = "";
$MM_redirectLoginSuccess = "index.php?msg=";
$MM_redirectLoginFailed = "index.php?msg=";
$MM_redirecttoReferrer = false;
mysql_select_db($database_shop, $shop);

$LoginRS__query=sprintf("SELECT userid, password FROM `user` WHERE userid=%s AND password=%s",
GetSQLValueString($loginUsername, "text"), GetSQLValueString($password, "text")); 

$LoginRS = mysql_query($LoginRS__query, $shop) or die(mysql_error());
$loginFoundUser = mysql_num_rows($LoginRS);
if ($loginFoundUser) {
$loginStrGroup = "";

if (PHP_VERSION >= 5.1) {session_regenerate_id(true);} else {session_regenerate_id();}
//declare two session variables and assign them
$_SESSION['MM_Username'] = $loginUsername;
$_SESSION['MM_UserGroup'] = $loginStrGroup;	

if (isset($_SESSION['PrevUrl']) && false) {
$MM_redirectLoginSuccess = $_SESSION['PrevUrl'];	
}
header("Location: " . $MM_redirectLoginSuccess );
}
else {
header("Location: ". $MM_redirectLoginFailed );
}
}
?>
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
</head>

<body>
<form ACTION="<?php echo $loginFormAction; ?>" id="form1" name="form1" method="POST">
<input type="text" name="user" id="user">
<input type="text" name="password" id="password">
</form>
</body>
</html>

--------我是分隔線--------我是分隔線--------我是分隔線--------

loginCheck.php
※插入表單/插入表單文字欄位(id 為 user 及 password)
※插入/資料/使用者驗證/登入使用者

--------我是分隔線--------我是分隔線--------我是分隔線--------

<製作 index.php 前，必須先修改 Shop.dwt.php>---------------------------------------
第一行加入：

<?php session_start();?>

在 <h3>登入</h3> 前加入：

<?php if(!isset($_SESSION['MM_Username'])){?>

在 </form> 後加入：

<?php }else{ ?>
<h3>會員服務</h3>
<form action="logout.php" method="post">
<p>歡迎 <?php echo $_SESSION['MM_Username'];?> 您光臨</p>
<p><button type="submit">登出</button></p>
</form>
<?php }?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<phpmyadmin的配置>---------------------------------------------------------------------------
DATABASE：shop
TABLE：user
COLUMNS：9
會員帳號	userid	varchar(20)	NOT NULL	PRIMARY KEY
密碼	password	varchar(20)	NOT NULL
性別	sex	enum('F','M')	NOT NULL default 'F'
年齡	age	int(11)	NOT NULL
電子郵件	mail	varchar(50)	default NULL
通訊地址	address	varchar(100)	default NULL
管理員權限	admin	enum('Y','N')	NOT NULL default 'N'
會員是否驗證	auth	enum('Y','N')	NOT NULL default 'N'
註冊日期 register	datetime	NOT NULL
---------------------------------------------------------------------------
SQL語法(新增 user 資料表)：

CREATE TABLE `user` (
`userid` varchar(20) NOT NULL COMMENT '會員帳號',
`password` varchar(20) NOT NULL COMMENT '密碼',
`sex` enum('F','M') NOT NULL default 'F' COMMENT '性別',
`age` int(11) NOT NULL COMMENT '年齡',
`mail` varchar(50) default NULL COMMENT '電子郵件',
`address` varchar(100) default NULL COMMENT '通訊地址',
`admin` enum('Y','N') NOT NULL default 'N' COMMENT '管理員權限',
`auth` enum('Y','N') NOT NULL default 'N' COMMENT '會員是否驗證',
`register` datetime NOT NULL COMMENT '註冊日期',
PRIMARY KEY (`userid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

---------------------------------------------------------------------------------------
SQL語法(新增 user 資料紀錄)：

INSERT INTO `user` VALUES ('weill', 'weill', 'M', 30, 'weill@gjun.com', '台北市100公園路30號', 'Y', 'Y', '2011-06-19 02:36:56');
INSERT INTO `user` VALUES ('irock', 'irock', 'F', 20, 'irock@gjun.com', '台南市700中華路108號', 'N', 'Y', '2011-06-19 17:49:34');
INSERT INTO `user` VALUES ('alan', 'alan', 'M', 25, 'alan@gjun.com', '台中市500中正路200號', 'N', 'N', '2011-06-20 10:11:12');

2018/06/13--------我是分隔線--------我是分隔線--------我是分隔線--------










2018/06/11--------我是分隔線--------我是分隔線--------我是分隔線--------

--------- 計數器 計數人數 不會 因為 網頁重整 而累積人數 -----------------------------
(一)
第一行改為：

<?php
session_start();	//加入啟動session
require_once('../Connections/shop.php'); //連結資料庫
?>

(二)
在 mysql_select_db($database_shop, $shop); 之後、mysql_free_result($Recordset1); 之前改為：

$query_Recordset1 = "SELECT * FROM `count` WHERE id = $id";
$Recordset1 = mysql_query($query_Recordset1, $shop) or die(mysql_error());
if(mysql_num_rows($Recordset1)<1){
$query_Recordset1 = "INSERT INTO `count` VALUES($id,1)";
mysql_query($query_Recordset1, $shop) or die(mysql_error());
return sprintf("%06d",1);
}elseif(!$_SESSION['counter']){
$row_Recordset1 = mysql_fetch_assoc($Recordset1);
$totalRows_Recordset1 = mysql_num_rows($Recordset1);
$query_Recordset1 = "UPDATE `count` SET counter=".($row_Recordset1['counter']+1)." WHERE id = $id";
mysql_query($query_Recordset1, $shop) or die(mysql_error());
mysql_free_result($Recordset1);
$_SESSION['counter']=TRUE;
return sprintf("%06d",$row_Recordset1['counter']+1);
}else{
$row_Recordset1 = mysql_fetch_assoc($Recordset1);
$totalRows_Recordset1 = mysql_num_rows($Recordset1);
mysql_free_result($Recordset1);
return sprintf("%06d",$row_Recordset1['counter']);
}

--------我是分隔線--------我是分隔線--------我是分隔線--------

在 mysql_select_db($database_shop, $shop); 之後、mysql_free_result($Recordset1); 之前改為：

$query_Recordset1 = "SELECT * FROM `count` WHERE id = $id";
$Recordset1 = mysql_query($query_Recordset1, $shop) or die(mysql_error());
if(mysql_num_rows($Recordset1)<1){
$query_Recordset1 = "INSERT INTO `count` VALUES($id,1)";
mysql_query($query_Recordset1, $shop) or die(mysql_error());
return sprintf("%06d",1);
}else{
$row_Recordset1 = mysql_fetch_assoc($Recordset1);
$totalRows_Recordset1 = mysql_num_rows($Recordset1);
$query_Recordset1 = "UPDATE `count` SET counter=".($row_Recordset1['counter']+1)." WHERE id = $id";
mysql_query($query_Recordset1, $shop) or die(mysql_error());
mysql_free_result($Recordset1);
return sprintf("%06d",$row_Recordset1['counter']+1);
}

--------我是分隔線--------我是分隔線--------我是分隔線--------

在index.php中 的 第一行 加入：

<?php require("mysqlCounter.php"); ?>

----------------------------------------------------------------------------------------
在index.php中 的 計數器位置 加入：

<blockquote>
<p>自(自行輸入日期)以來，您是第 <?php echo sqlCounter(1); ?> 位參觀訪客</p>
</blockquote>

--------我是分隔線--------我是分隔線--------我是分隔線--------

mysqlCounter.php

--------我是分隔線--------我是分隔線--------我是分隔線--------

※建立資料集繫結：
名稱：Recordset1(建議先用預設名稱，因之後名稱會被覆蓋)
連線：shop
表格：count
欄：全選
篩選器：id；=；輸入值；?
排序：無
---------------------------------------------------------------------------
加入以下語法：

function sqlCounter($id){
global $database_shop;
global $shop;
//....將前一步驟繫結語法移動至此....
}

--------我是分隔線--------我是分隔線--------我是分隔線--------

<phpmyadmin的配置>---------------------------------------------------------------------------
DATABASE：shop
TABLE：count
COLUMNS：2
頁面編號	id	INT	UNSIGNED	PRIMARY KEY
計數值	counter	INT	UNSIGNED
---------------------------------------------------------------------------
SQL語法(新增Count資料表)：

CREATE TABLE `count` (
`id` INT UNSIGNED NOT NULL COMMENT '頁面編號',
`counter` INT UNSIGNED NOT NULL COMMENT '計數值',
PRIMARY KEY ( `id` ) ) ENGINE = MYISAM ;

--------我是分隔線--------我是分隔線--------我是分隔線--------


<?php if ($totalRows_RecordsetDetails > 0) { // Show if recordset not empty ?>
回應作者：
<h4><?php echo $row_RecordsetDetails['name']; ?></h4>
回應日期：<h5><?php echo $row_RecordsetDetails['newsDate']; ?></h5>
回應主題：<p><?php echo $row_RecordsetDetails['subject']; ?></p>
回應內容：<p><?php echo nl2br($row_RecordsetDetails['memo']); ?></p>
<?php } // Show if recordset not empty ?>
<?php if ($totalRows_RecordsetDetails == 0) { // Show if recordset empty ?>
<h5>目前尚無回應!!!</h5>
<?php } // Show if recordset empty ?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

------ 更新 討論區主題 的回應數以及最後回應時間(寫在 detailsView.php) ------
在 $Result1 = mysql_query($insertSQL, $shop) or die(mysql_error()); 之後，加入此行：
mysql_query("UPDATE titles SET count=count+1,lastNewsDate='".date("Y-m-d H:i:s")."' WHERE titleid=".$_POST['titleid']);

--------我是分隔線--------我是分隔線--------我是分隔線--------

<tr>
<td align="right">主題:</td>
<td colspan="2"><input name="subject" type="text" value="RE:<?php echo $row_RecordsetTitles['subject']; ?>" size="32" readonly="readonly" /></td>
</tr>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>主題瀏覽及回應</h2>
<h3>您可以在此觀賞其它訪客所參與討論內容！</h3>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p> 
<table border="1" width="100%">
<tr>
<th>討論主題~</th>
</tr>
<tr>
<td>
主題作者：<h4><?php echo $row_RecordsetTitles['name']; ?></h4>
建立日期：<h5><?php echo $row_RecordsetTitles['createDate']; ?></h5>
主題：<p><?php echo $row_RecordsetTitles['subject']; ?></p>
內容：<p><?php echo $row_RecordsetTitles['memo']; ?></p>
</td>
</tr>
<tr>
<th>回應內容~</th>
</tr>
<?php do { ?><tr>
<td style="padding:20px;">
回應作者：<h4><?php echo $row_RecordsetDetails['name']; ?></h4>
回應日期：<h5><?php echo $row_RecordsetDetails['newsDate']; ?></h5>
回應主題：<p><?php echo $row_RecordsetDetails['subject']; ?></p>
回應內容：<p><?php echo $row_RecordsetDetails['memo']; ?></p>
<p>&nbsp;</p>
<hr>
<p>&nbsp;</p>
</td>
</tr> <?php } while ($row_RecordsetDetails = mysql_fetch_assoc($RecordsetDetails)); ?>
<tr>
<th>參與討論~</th>
</tr>
<tr>
<td>
<form action="<?php echo $editFormAction; ?>" method="POST" id="form1" name="form1">
<table width="100%">
<tr>
<td align="right">電子<br />郵件:</td>
<td colspan="2"><input type="text" name="email" value="" size="32" /></td>
</tr>
<tr>
<td align="right">姓名:</td>
<td colspan="2"><input type="text" name="name" value="" size="32" /></td>
</tr>
<tr>
<td align="right">主題:</td>
<td colspan="2"><input type="text" name="subject" value="" size="32" /></td>
</tr>
<tr>
<td align="right" valign="top">內容:</td>
<td colspan="2"><textarea name="memo" cols="40" rows="6"></textarea></td>
</tr>
<tr>
<td align="right">&nbsp;</td>
<td colspan="2"><input type="submit" value="我要回應" /></td>
</tr> 
</table> 
<input type="hidden" name="titleid" value="<?php echo $row_RecordsetTitles['titleid']; ?>"> 
<input type="hidden" name="newsDate" value="<?php echo date("Y-m-d H:i:s"); ?>">
<input type="hidden" name="MM_insert" value="form1" />
</form>
</td>
</tr>
</table>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form action="" method="post" id="form1" name="form1">
<table width="100%">
<tr>
<td align="right">電子<br />郵件:</td>
<td colspan="2"><input type="text" name="email" value="" size="32" /></td>
</tr>
<tr>
<td align="right">姓名:</td>
<td colspan="2"><input type="text" name="name" value="" size="32" /></td>
</tr>
<tr>
<td align="right">主題:</td>
<td colspan="2"><input type="text" name="subject" value="" size="32" /></td>
</tr>
<tr>
<td align="right" valign="top">內容:</td>
<td colspan="2"><textarea name="memo" cols="40" rows="6"></textarea></td>
</tr>
<tr>
<td align="right">&nbsp;</td>
<td colspan="2"><input type="submit" value="我要回應" /></td>
</tr> 
</table> 
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

主題作者：<h4><?php echo $row_RecordsetTitles['name']; ?></h4>
建立日期：<h5><?php echo $row_RecordsetTitles['createDate']; ?></h5>
主題：<p><?php echo $row_RecordsetTitles['subject']; ?></p>
內容：<p><?php echo $row_RecordsetTitles['memo']; ?></p>

--------我是分隔線--------我是分隔線--------我是分隔線--------

回應作者：<h4><?php echo $row_RecordsetDetails['name']; ?></h4>
回應日期：<h5><?php echo $row_RecordsetDetails['newsDate']; ?></h5>
回應主題：<p><?php echo $row_RecordsetDetails['subject']; ?></p>
回應內容：<p><?php echo $row_RecordsetDetails['memo']; ?></p>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<a href="detailsView.php?titleid=<?php echo $row_Recordset1['titleid']; ?>"><?php echo $row_Recordset1['subject']; ?></a>

2018/06/11--------我是分隔線--------我是分隔線--------我是分隔線--------
















2018/06/08--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>主題瀏覽及回應</h2>
<h3>您可以在此觀賞其它訪客所參與討論內容！</h3>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

<table border="1" width="100%">
<tr>
<th>討論主題~</th>
</tr>
<tr>
<td>主題作者：<?php echo $row_RecordsetTitles['name']; ?>建立日期：<?php echo $row_RecordsetTitles['createDate']; ?>
主題：<?php echo $row_RecordsetTitles['subject']; ?>
內容：<?php echo $row_RecordsetTitles['memo']; ?></td>
</tr>
<tr>
<th>回應內容~</th>
</tr>
<?php do { ?><tr>
<td>回應作者：<?php echo $row_RecordsetDetails['name']; ?>回應日期：<?php echo $row_RecordsetDetails['newsDate']; ?>
回應主題：<?php echo $row_RecordsetDetails['subject']; ?>
回應內容：<?php echo $row_RecordsetDetails['memo']; ?></td>
</tr> <?php } while ($row_RecordsetDetails = mysql_fetch_assoc($RecordsetDetails)); ?>
<tr>
<th>參與討論~</th>
</tr>
<tr>
<td>
<table>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</table>
</td>
</tr>
</table>

--------我是分隔線--------我是分隔線--------我是分隔線--------

※建立資料集繫結：
名稱：RecordsetTitles(可自訂)
連線：shop
表格：titles
欄：全選
篩選器：titleid；=；URL參數；titleid
排序：無

名稱：RecordsetDetails(可自訂)
連線：shop
表格：details
欄：全選
篩選器：titleid；=；URL參數；titleid
排序：newsDate；遞減

--------我是分隔線--------我是分隔線--------我是分隔線--------

table>tr*5>td^tr>td>table>tr*5>td*2

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>主題瀏覽及回應</h2>
<h3>您可以在此觀賞其它訪客所參與討論內容！</h3>
---------------------------------------------------------------------------
#插入/表格(6*1)
---------------------------------------------------------------------------
討論主題~

主題作者：建立日期：
主題：
內容：
---------------------------------------------------------------------------
回應內容~

回應作者：回應日期：
回應主題：
回應內容：
---------------------------------------------------------------------------
參與討論~

電子郵件:
姓名:
主題:
內容:

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>討論區</h2>
<h3>歡迎您在此提出您的任何疑問，與大家一同討論！</h3>
<p>&nbsp;</p>
<p>&nbsp;</p>
<form name="form1" action="<?php echo $editFormAction; ?>" method="POST" id="form1">
<table>
<tr valign="baseline">
<td align="right">姓名:</td>
<td colspan="2"><input type="text" name="name" value="" size="32" /></td>
</tr>
<tr valign="baseline">
<td align="right">電子郵件:</td>
<td colspan="2"><input type="text" name="email" value="" size="32" /></td>
</tr>
<tr valign="baseline">
<td align="right">主題:</td>
<td colspan="2"><input type="text" name="subject" value="" size="32" /></td>
</tr>
<tr valign="baseline">
<td align="right" valign="top">內容:</td>
<td colspan="2"><textarea name="memo" cols="46" rows="5"></textarea></td>
</tr>
<tr valign="baseline">
<td align="right">&nbsp;</td>
<td colspan="2"><input type="submit" value="新增討論主題" />
</tr>
</table> 
<input type="hidden" name="createDate" value="<?php echo date("Y-m-d H:i:s"); ?>">
<input type="hidden" name="MM_insert" value="form1" /> 
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>討論區</h2>
<h3>歡迎您在此提出您的任何疑問，與大家一同討論！</h3>
<p>&nbsp;</p>
<p>&nbsp;</p>
<form action="" method="post" id="form1">
<table>
<tr valign="baseline">
<td align="right">姓名:</td>
<td colspan="2"><input type="text" name="name" value="" size="32" /></td>
</tr>
<tr valign="baseline">
<td align="right">電子郵件:</td>
<td colspan="2"><input type="text" name="email" value="" size="32" /></td>
</tr>
<tr valign="baseline">
<td align="right">主題:</td>
<td colspan="2"><input type="text" name="subject" value="" size="32" /></td>
</tr>
<tr valign="baseline">
<td align="right" valign="top">內容:</td>
<td colspan="2"><textarea name="memo" cols="46" rows="5"></textarea></td>
</tr>
<tr valign="baseline">
<td align="right">&nbsp;</td>
<td colspan="2"><input type="submit" value="新增討論主題" />
</tr>
</table> 
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>討論區</h2>
<h3>您可以在此瀏覽您有興趣的主題並參與討論！</h3>

<p>&nbsp;</p>
<p>&nbsp;</p>

<table border="1" width="100%">
<tr>
<td>主題名稱</td>
<td>作者姓名</td>
<td>回應數量</td>
<td>建立日期/時間</td>
</tr>
<?php do { ?><tr>
<td><h3><?php echo $row_Recordset1['subject']; ?></h3></td>
<td><h4><?php echo $row_Recordset1['name']; ?></h4></td>
<td><h5><?php echo $row_Recordset1['count']; ?></h5></td>
<td><h6><?php echo $row_Recordset1['createDate']; ?></h6></td>
</tr><?php } while ($row_Recordset1 = mysql_fetch_assoc($Recordset1)); ?>
</table>

<p>&nbsp;</p>
<hr>
<p>&nbsp;</p>

[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, 0, $queryString_Recordset1); ?>">第一頁</a>]
[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, max(0, $pageNum_Recordset1 - 1), $queryString_Recordset1); ?>">上一頁</a>]
[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, min($totalPages_Recordset1, $pageNum_Recordset1 + 1), $queryString_Recordset1); ?>">下一頁</a>]
[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, $totalPages_Recordset1, $queryString_Recordset1); ?>">最後一頁</a>]
第 <?php echo ($startRow_Recordset1 + 1) ?> 筆至第 <?php echo min($startRow_Recordset1 + $maxRows_Recordset1, $totalRows_Recordset1) ?> 筆/共 <?php echo $totalRows_Recordset1 ?>  筆

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>討論區</h2>
<h3>您可以在此瀏覽您有興趣的主題並參與討論！</h3>

<p>&nbsp;</p>
<p>&nbsp;</p>
<table border="1" width="100%">
<tr>
<td>主題名稱</td>
<td>作者姓名</td>
<td>回應數量</td>
<td>建立日期/時間</td>
</tr>
<tr>
<td><?php echo $row_Recordset1['subject']; ?></td>
<td><?php echo $row_Recordset1['name']; ?></td>
<td><?php echo $row_Recordset1['count']; ?></td>
<td><?php echo $row_Recordset1['createDate']; ?></td>
</tr>
</table>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>討論區</h2>
<h3>您可以在此瀏覽您有興趣的主題並參與討論！</h3>

--------我是分隔線--------我是分隔線--------我是分隔線--------

主題名稱
作者姓名
回應數量
建立日期/時間

--------我是分隔線--------我是分隔線--------我是分隔線--------

TABLE：titles
COLUMNS：8
討論主題編號	titleid	INT	NOT NULL	AUTO_INCREMENT	PRIMARY KEY
電子郵件	email	VARCHAR	100	NULL
作者姓名	name	VARCHAR	50	NOT NULL
討論主題	subject	VARCHAR	255	NOT NULL
討論內容	memo	TEXT	NOT NULL
主題討論發起日	createDate	DATETIME	NULL
主題最後討論日	lastNewsDate	DATETIME	NULL
參與討論數量	count	INT	NULL(※注意預設值為0的問題)
---------------------------------------------------------------------------
SQL語法(新增 titles 資料表)：

CREATE TABLE `titles` (
`titleid` INT NOT NULL AUTO_INCREMENT PRIMARY KEY COMMENT '討論主題編號',
`email` VARCHAR( 100 ) NULL COMMENT '電子郵件',
`name` VARCHAR( 50 ) NOT NULL COMMENT '作者姓名',
`subject` VARCHAR( 255 ) NOT NULL COMMENT '討論主題',
`memo` TEXT NOT NULL COMMENT '討論內容',
`createDate` DATETIME NULL COMMENT '主題討論發起日',
`lastNewsDate` DATETIME NULL COMMENT '主題最後討論日',
`count` INT NULL COMMENT '參與討論數量') ENGINE = MYISAM ;
---------------------------------------------------------------------------
SQL語法(匯入 titles 資料表紀錄):

INSERT INTO `titles` VALUES (1, 'prisd@prisd.com.tw', '陳桶一', 'PHP好書推薦', '「PHP與MySQL架設Windows Web資料庫實務」\r\n這是一本不錯的書籍、不知大家有沒有什麼竟見\r\n一起討論？', '2009-06-08 16:28:17', '2009-06-09 08:39:40', 1);
INSERT INTO `titles` VALUES (2, 'ahah@yahoo.com.tw', '阿修羅', 'DevPHP好用的編輯工具', '跟大家分享一個好用的PHP編輯工具\r\nDevPHP不知各位大大有沒有什麼\r\n好的技巧可以一起分享的', '2009-06-09 07:34:16', '2009-06-09 08:53:03', 1);
INSERT INTO `titles` VALUES 
(3, 'gogo199@gmail.com', '困惑的人', '什麼是變數的變數啊?', '有誰可以教教我，關於「可變的變數或是變數的變數」它到底是什麼啊？\r\n\r\n我一直搞不清楚、謝謝', '2009-06-09 07:36:51', NULL, 0);
INSERT INTO `titles` VALUES (4, 'tom@yahoo.com.tw', '湯姆熊', 'DW與PHP', '跟大家分享一本好書\r\nPHP不知各位有沒有什麼\r\n好書可以看的','2009-06-10 08:30:00', NULL, 0);
INSERT INTO `titles` VALUES 
(5, 'alan@gmail.com', '用功的學生', '作品完成', '作業上傳完畢，\r\n\r\n謝謝', '2009-06-11 11:01:05', NULL, 0);

--------我是分隔線--------我是分隔線--------我是分隔線--------

TABLE：details
COLUMNS：7
討論主題編號	titleid	INT	NOT NULL
討論內容編號	detailsid	INT	NOT NULL	AUTO_INCREMENT	PRIMARY KEY
電子郵件	email	VARCHAR	100	NULL
作者姓名	name	VARCHAR	50	NOT NULL
回應主題	subject	VARCHAR	255	NOT NULL
回應內容	memo	TEXT	NOT NULL
回應內容建立日	newsDate	DATETIME	NULL
---------------------------------------------------------------------------
SQL語法(新增 details 資料表)：

CREATE TABLE `details` (
`titleid` INT NOT NULL COMMENT '討論主題編號',
`detailsid` INT NOT NULL AUTO_INCREMENT PRIMARY KEY COMMENT '討論內容編號',
`email` VARCHAR( 100 ) NULL COMMENT '電子郵件',
`name` VARCHAR( 50 ) NOT NULL COMMENT '作者姓名',
`subject` VARCHAR( 255 ) NOT NULL COMMENT '回應主題',
`memo` TEXT NOT NULL COMMENT '回應內容',
`newsDate` DATETIME NULL COMMENT '回應內容建立日') ENGINE = MYISAM ;
---------------------------------------------------------------------------
SQL語法(匯入 details 資料表紀錄)：


INSERT INTO `details` VALUES (1, 1, 'aaron@ms11.url.com.tw', '王太太', 0x46573a504850e5a5bde69bb8e68ea8e896a6, '嗯！\r\n我也覺得這是一本不錯的書籍，\r\n歡迎大家一起分享心得', '2009-06-09 08:39:40');
INSERT INTO `details` VALUES (2, 2, 'test@msa.hinet.net', '好好', 0x46573a504850e5a5bde69bb8e68ea8e896a6, '我也覺得不錯喔！', '2009-06-09 08:53:03');

--------我是分隔線--------我是分隔線--------我是分隔線--------

<td colspan="2">留言內容：<?php echo nl2br($row_Recordset1['memo']); ?></td>

--------我是分隔線--------我是分隔線--------我是分隔線--------

mysql_query("set names 'utf8'");
date_default_timezone_set("Asia/Taipei"); 

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>留言板</h2>
<h3>您可以在此提供對於本網站的任何建議、謝謝您！！</h3>
<p>&nbsp;</p>
<form action="" id="form1">
<table>
<tr>
<td>姓名:</td>
<td><input type="text" name="name"></td>
</tr>
<tr>
<td>電子郵件:</td>
<td><input type="text" name="email"></td>
</tr>
<tr>
<td>主旨:</td>
<td><input type="text" name="subject"></td>
</tr>
<tr>
<td>內容:</td>
<td><textarea name="memo" id="memo" cols="30" rows="10"></textarea></td>
</tr>
<tr>
<input type="hidden" name="date" value="<?php echo date("Y-m-d H:i:s"); ?>">
<td colspan="2"><input type="submit" value="新增留言"></td>
</tr>
</table>
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php echo date("Y-m-d H:i:s"); ?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

http://php.net/manual/en/function.date.php

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>留言板</h2>
<h3>您可以在此提供對於本網站的任何建議、謝謝您！！</h3>
<p>&nbsp;</p>
<form action="">
<table>
<tr>
<td>姓名:</td>
<td><input type="text" name="name"></td>
</tr>
<tr>
<td>電子郵件:</td>
<td><input type="text" name="email"></td>
</tr>
<tr>
<td>主旨:</td>
<td><input type="text" name="subject"></td>
</tr>
<tr>
<td>內容:</td>
<td><textarea name="memo" id="memo" cols="30" rows="10"></textarea></td>
</tr>
<tr>
<td colspan="2"><input type="submit" value="新增留言"></td>
</tr>
</table>
</form>

2018/06/08--------我是分隔線--------我是分隔線--------我是分隔線--------

<guestForm.php>---------------------------------------------------------------------------

<h2>留言板</h2>
<h3>您可以在此提供對於本網站的任何建議、謝謝您！！</h3>

2018/06/08--------我是分隔線--------我是分隔線--------我是分隔線--------









2018/06/06--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php do { ?>
<table border="1">
<tr>
<td>作者：<?php echo $row_Recordset1['name']; ?></td>
<td>電子郵件：<?php echo $row_Recordset1['email']; ?></td>
</tr>
<tr>
<td colspan="2">留言主題：<?php echo $row_Recordset1['subject']; ?></td> 
</tr>
<tr>
<td colspan="2">留言內容：<?php echo $row_Recordset1['memo']; ?></td>
</tr>
<tr>
<td colspan="2">留言時間：<?php echo $row_Recordset1['date']; ?></td>
</tr>
</table>

<p>&nbsp;</p>
<hr>
<p>&nbsp;</p>

<?php } while ($row_Recordset1 = mysql_fetch_assoc($Recordset1)); ?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, 0, $queryString_Recordset1); ?>">第一頁</a>]
[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, max(0, $pageNum_Recordset1 - 1), $queryString_Recordset1); ?>">上一頁</a>]
[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, min($totalPages_Recordset1, $pageNum_Recordset1 + 1), $queryString_Recordset1); ?>">下一頁</a>]
[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, $totalPages_Recordset1, $queryString_Recordset1); ?>">最後一頁</a>]

--------我是分隔線--------我是分隔線--------我是分隔線--------

第 <?php echo ($startRow_Recordset1 + 1) ?> 筆至第 <?php echo min($startRow_Recordset1 + $maxRows_Recordset1, $totalRows_Recordset1) ?> 筆/共 <?php echo $totalRows_Recordset1 ?>  筆

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>留言板</h2>
<h3>底下列出了所有訪客對本網站所提出的所有意見！！</h3>
<p>&nbsp;</p>
<p><a href="??">我要留言</a></p>
<p>&nbsp;</p>
<table>
<tr>
<td>作者：</td>
<td>電子郵件：</td>
</tr>
<tr>
<td colspan="2">留言主題：</td> 
</tr>
<tr>
<td colspan="2">留言內容：</td>
</tr>
<tr>
<td colspan="2">留言時間：</td>
</tr>
</table>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h2>留言板</h2>
<h3>底下列出了所有訪客對本網站所提出的所有意見！！</h3>

<p>我要留言</p>

#插入表格(5列*2攔 或 4列*2攔)

留言編號：(可思考是否列出，如：若需查詢及刪除...)

作者：	電子郵件：
留言主題：
留言內容：
留言時間：

--------我是分隔線--------我是分隔線--------我是分隔線--------

<guestBook.php>(存檔至 Shop 資料夾中)

--------我是分隔線--------我是分隔線--------我是分隔線--------

<phpmyadmin的配置>--------我是分隔線--------我是分隔線--------我是分隔線--------
DATABASE：shop

SQL語法(新增shop資料庫)：
CREATE DATABASE `shop` ;

--------我是分隔線--------我是分隔線--------我是分隔線--------

TABLE：guestbook
COLUMNS：6
留言編號	serial	INT	NOT NULL	AUTO_INCREMENT	PRIMARY KEY
姓名	name	VARCHAR	100	NOT NULL
電子郵件	email	VARCHAR	100	NULL
留言主題	subject	VARCHAR	255	NOT NULL
留言內容	memo	TEXT	NOT NULL
留言日期	date	DATETIME	NULL

--------我是分隔線--------我是分隔線--------我是分隔線--------

SQL語法(新增guestbook資料表)：

CREATE TABLE `guestbook` (
`serial` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,
`name` VARCHAR( 100 ) NOT NULL ,
`email` VARCHAR( 100 ) NULL ,
`subject` VARCHAR( 255 ) NOT NULL ,
`memo` TEXT NOT NULL ,
`date` DATETIME NULL ) ENGINE = MYISAM ;

--------我是分隔線--------我是分隔線--------我是分隔線--------

SQL語法(匯入guestbook資料表紀錄)：

INSERT INTO `guestbook` VALUES (1, '陳巨匠', 'gjun@yahoo.com.tw', 'Dreamweaver真好用', 'Dreamweaver搭配PHP連結至MySQL就是這麼的簡單\r\n您一定要試試看喔！', '2009-06-06 17:26:52');
INSERT INTO `guestbook` VALUES (2, '方大明', 'fun.show@gmail.com', '我覺得巨匠很不錯喔', '很開心新的套課推出了，期待您跟我一起加入巨匠的大家庭喔！', '2009-06-06 17:56:33');
INSERT INTO `guestbook` VALUES (3, '方大明', 'fun.show@gmail.com', '我覺得巨匠很不錯喔', '很開心新的套課推出了，期待您跟我一起加入巨匠的大家庭喔！', '2009-06-06 17:56:33');
INSERT INTO `guestbook` VALUES (4, '方大明', 'fun.show@gmail.com', '我覺得巨匠很不錯喔', '很開心新的套課推出了，期待您跟我一起加入巨匠的大家庭喔！', '2009-06-06 17:56:33');
INSERT INTO `guestbook` VALUES (5, '方大明', 'fun.show@gmail.com', '我覺得巨匠很不錯喔', '很開心新的套課推出了，期待您跟我一起加入巨匠的大家庭喔！', '2009-06-06 17:56:33');
INSERT INTO `guestbook` VALUES (6, '方大明', 'fun.show@gmail.com', '我覺得巨匠很不錯喔', '很開心新的套課推出了，期待您跟我一起加入巨匠的大家庭喔！', '2009-06-06 17:56:33');
INSERT INTO `guestbook` VALUES (7, '方大明', 'fun.show@gmail.com', '我覺得巨匠很不錯喔', '很開心新的套課推出了，期待您跟我一起加入巨匠的大家庭喔！', '2009-06-06 17:56:33');

--------我是分隔線--------我是分隔線--------我是分隔線--------








--------我是分隔線--------我是分隔線--------我是分隔線--------
--------我是分隔線--------我是分隔線--------我是分隔線--------

<form id="form1" name="form1" method="post">
<label for="studno">請輸入欲刪除學生之學號:</label>
<input type="text" name="" id="">
<input type="submit" name="submit" id="submit" value="確認刪除">
<input type="button" value="回上頁" onClick="history.go(-1)">
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form action="dataUpdate.php" method="get">
[請輸入要修改資料的學號：
<input type="text" name="studno" id=""> <input type="submit" value="查詢">
]
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

$insertGoTo = "index.php?meg=資料已新增";

--------我是分隔線--------我是分隔線--------我是分隔線--------

$updateGoTo = "index.php?meg=資料已更新";

--------我是分隔線--------我是分隔線--------我是分隔線--------

<h1 align="center">
<?
echo $_GET['meg'];
?>
</h1>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<label for="studno">學號:</label><?php echo $row_Recordset1['studno']; ?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form action="" id="form1" name="form1" method="POST">
<p>
<label for="studno">學號:</label>
<input name="studno" type="text" id="studno" value="<?php echo $row_Recordset1['studno']; ?>">
</p>
<p>
<label for="name">姓名:</label>
<input name="name" type="text" id="name" value="<?php echo $row_Recordset1['name']; ?>">
</p>
<p>
<label for="phone">電話:</label>
<input name="phone" type="text" id="phone" value="<?php echo $row_Recordset1['phone']; ?>">
</p>
<p>
<label for="address">地址:</label>
<input name="address" type="text" id="address" value="<?php echo $row_Recordset1['address']; ?>">
</p>
<input type="submit" value="修改紀錄">

<input type="button" value="回上頁" onClick="history.go(-1)">
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<td><a href="dataUpdate.php?studno=<?php echo $row_Recordset1['studno']; ?>"><?php echo $row_Recordset1['studno']; ?></a></td>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form action="" id="form1" name="form1" method="POST">
<p>
<label for="studno">學號:</label>
<input name="studno" type="text" id="studno" value="">
</p>
<p>
<label for="name">姓名:</label>
<input name="name" type="text" id="name" value="">
</p>
<p>
<label for="phone">電話:</label>
<input name="phone" type="text" id="phone" value="">
</p>
<p>
<label for="address">地址:</label>
<input name="address" type="text" id="address" value="">
</p>
<input type="submit" value="修改紀錄">

<input type="button" value="回上頁" onClick="history.go(-1)">
</form>

2018/06/06--------我是分隔線--------我是分隔線--------我是分隔線--------









2018/06/04--------我是分隔線--------我是分隔線--------我是分隔線--------

if ((isset($_POST["MM_insert"])) && ($_POST["MM_insert"] == "form1") && ($_POST["studno"]!="")){
....
}

--------我是分隔線--------我是分隔線--------我是分隔線--------

<script>
function inputcheck(){
if(form1.studno.value==""){
alert("請輸入學號 !!!!");
}
}
</script>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<button onClick="history.go(-1)">Back</button>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<input type="submit" value="新增學生資料" onClick="inputcheck()">

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php require_once('Connections/sdb.php'); ?>
<?php
if (!function_exists("GetSQLValueString")) {
function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "") 
{
if (PHP_VERSION < 6) {
$theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;
}

$theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);

switch ($theType) {
case "text":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break; 
case "long":
case "int":
$theValue = ($theValue != "") ? intval($theValue) : "NULL";
break;
case "double":
$theValue = ($theValue != "") ? doubleval($theValue) : "NULL";
break;
case "date":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break;
case "defined":
$theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;
break;
}
return $theValue;
}
}

$editFormAction = $_SERVER['PHP_SELF'];
if (isset($_SERVER['QUERY_STRING'])) {
$editFormAction .= "?" . htmlentities($_SERVER['QUERY_STRING']);
}

if ((isset($_POST["MM_insert"])) && ($_POST["MM_insert"] == "form1")) {
$insertSQL = sprintf("INSERT INTO student (studno, name, phone, address) VALUES (%s, %s, %s, %s)",
GetSQLValueString($_POST['studno'], "text"),
GetSQLValueString($_POST['name'], "text"),
GetSQLValueString($_POST['phone'], "text"),
GetSQLValueString($_POST['address'], "text"));

mysql_select_db($database_sdb, $sdb);
$Result1 = mysql_query($insertSQL, $sdb) or die(mysql_error());

$insertGoTo = "index.php";
if (isset($_SERVER['QUERY_STRING'])) {
$insertGoTo .= (strpos($insertGoTo, '?')) ? "&" : "?";
$insertGoTo .= $_SERVER['QUERY_STRING'];
}
header(sprintf("Location: %s", $insertGoTo));
}
?>
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
</head>

<body>
<form action="<?php echo $editFormAction; ?>" id="form1" name="form1" method="POST">
<p>
<label for="studno">學號:</label>
<input type="text" name="studno" id="studno">
</p>
<p>
<label for="name">姓名:</label>
<input type="text" name="name" id="name">
</p>
<p>
<label for="phone">電話:</label>
<input type="text" name="phone" id="phone">
</p>
<p>
<label for="address">地址:</label>
<input type="text" name="address" id="address">
</p>
<input type="submit" value="新增學生資料">
<input type="hidden" name="MM_insert" value="form1">
</form>


</body>
</html>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php require_once('Connections/sdb.php'); ?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?
mysql_select_db($database_sdb, $sdb);
$qoo="INSERT INTO `student` (`studno`, `name`, `phone`, `address`) VALUES ('99999', 'mary', '0911222333', '新莊市獅球路111巷39號20F')";
mysql_query($qoo);
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form action="" id="form1" name="form1" method="POST">
<p>
<label for="studno">學號:</label>
<input type="text" name="studno" id="studno">
</p>
<p>
<label for="name">姓名:</label>
<input type="text" name="name" id="name">
</p>
<p>
<label for="phone">電話:</label>
<input type="text" name="phone" id="phone">
</p>
<p>
<label for="address">地址:</label>
<input type="text" name="address" id="address">
</p>
<input type="submit" value="新增學生資料">
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php require_once('Connections/sdb.php'); ?>
<?php
$currentPage = $_SERVER["PHP_SELF"];

$maxRows_Recordset1 = 8;
$pageNum_Recordset1 = 0;
if (isset($_GET['pageNum_Recordset1'])) {
$pageNum_Recordset1 = $_GET['pageNum_Recordset1'];
}
$startRow_Recordset1 = $pageNum_Recordset1 * $maxRows_Recordset1;

mysql_select_db($database_sdb, $sdb);
$query_Recordset1 = "SELECT * FROM student ORDER BY studno ASC";
$query_limit_Recordset1 = sprintf("%s LIMIT %d, %d", $query_Recordset1, $startRow_Recordset1, $maxRows_Recordset1);
$Recordset1 = mysql_query($query_limit_Recordset1, $sdb) or die(mysql_error());
$row_Recordset1 = mysql_fetch_assoc($Recordset1);

if (isset($_GET['totalRows_Recordset1'])) {
$totalRows_Recordset1 = $_GET['totalRows_Recordset1'];
} else {
$all_Recordset1 = mysql_query($query_Recordset1);
$totalRows_Recordset1 = mysql_num_rows($all_Recordset1);
}
$totalPages_Recordset1 = ceil($totalRows_Recordset1/$maxRows_Recordset1)-1;

$queryString_Recordset1 = "";
if (!empty($_SERVER['QUERY_STRING'])) {
$params = explode("&", $_SERVER['QUERY_STRING']);
$newParams = array();
foreach ($params as $param) {
if (stristr($param, "pageNum_Recordset1") == false && 
stristr($param, "totalRows_Recordset1") == false) {
array_push($newParams, $param);
}
}
if (count($newParams) != 0) {
$queryString_Recordset1 = "&" . htmlentities(implode("&", $newParams));
}
}
$queryString_Recordset1 = sprintf("&totalRows_Recordset1=%d%s", $totalRows_Recordset1, $queryString_Recordset1);
?>
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>學生資料表</title>
<style>
table{margin: auto;}
caption{font-size: 3em;}
td{padding: .3em;}
</style>
</head>

<body>

<table border="1">
<caption>學生資料表</caption>
<tr>
<td>學號</td>
<td>姓名</td>
<td>電話</td>
<td>地址</td>
</tr>
<?php do { ?>
<tr>
<td><?php echo $row_Recordset1['studno']; ?></td>
<td><?php echo $row_Recordset1['name']; ?></td>
<td><?php echo $row_Recordset1['phone']; ?></td>
<td><?php echo $row_Recordset1['address']; ?></td>
</tr>
<?php } while ($row_Recordset1 = mysql_fetch_assoc($Recordset1)); ?>
<tr>
<td colspan="2">
[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, 0, $queryString_Recordset1); ?>">第一頁</a>]
[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, max(0, $pageNum_Recordset1 - 1), $queryString_Recordset1); ?>">上一頁</a>]
[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, min($totalPages_Recordset1, $pageNum_Recordset1 + 1), $queryString_Recordset1); ?>">下一頁</a>]
[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, $totalPages_Recordset1, $queryString_Recordset1); ?>">最後一頁</a>]
</td>

<td colspan="2">
第 <?php echo ($startRow_Recordset1 + 1) ?> 筆至第 <?php echo min($startRow_Recordset1 + $maxRows_Recordset1, $totalRows_Recordset1) ?> 筆/共 <?php echo $totalRows_Recordset1 ?>  筆
</td>

</tr>
</table> 

</body>
</html>
<?php
mysql_free_result($Recordset1);
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<td colspan="2">
第 <?php echo ($startRow_Recordset1 + 1) ?> 筆至第 <?php echo min($startRow_Recordset1 + $maxRows_Recordset1, $totalRows_Recordset1) ?> 筆/共 <?php echo $totalRows_Recordset1 ?>  筆
</td>

--------我是分隔線--------我是分隔線--------我是分隔線--------

[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, 0, $queryString_Recordset1); ?>">第一頁</a>]
[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, max(0, $pageNum_Recordset1 - 1), $queryString_Recordset1); ?>">上一頁</a>]
[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, min($totalPages_Recordset1, $pageNum_Recordset1 + 1), $queryString_Recordset1); ?>">下一頁</a>]
[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, $totalPages_Recordset1, $queryString_Recordset1); ?>">最後一頁</a>]

--------我是分隔線--------我是分隔線--------我是分隔線--------

<tr>
<td colspan="2">
[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, 0, $queryString_Recordset1); ?>">第一頁</a>]
[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, max(0, $pageNum_Recordset1 - 1), $queryString_Recordset1); ?>">上一頁</a>]
[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, min($totalPages_Recordset1, $pageNum_Recordset1 + 1), $queryString_Recordset1); ?>">下一頁</a>]
[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, $totalPages_Recordset1, $queryString_Recordset1); ?>">最後一頁</a>]
</td>

<td colspan="2">ergergerge</td>

</tr>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php require_once('Connections/sdb.php'); ?>
<?php
$maxRows_Recordset1 = 5;
$pageNum_Recordset1 = 0;
if (isset($_GET['pageNum_Recordset1'])) {
$pageNum_Recordset1 = $_GET['pageNum_Recordset1'];
}
$startRow_Recordset1 = $pageNum_Recordset1 * $maxRows_Recordset1;

mysql_select_db($database_sdb, $sdb);
$query_Recordset1 = "SELECT * FROM student ORDER BY studno ASC";
$query_limit_Recordset1 = sprintf("%s LIMIT %d, %d", $query_Recordset1, $startRow_Recordset1, $maxRows_Recordset1);
$Recordset1 = mysql_query($query_limit_Recordset1, $sdb) or die(mysql_error());
$row_Recordset1 = mysql_fetch_assoc($Recordset1);

if (isset($_GET['totalRows_Recordset1'])) {
$totalRows_Recordset1 = $_GET['totalRows_Recordset1'];
} else {
$all_Recordset1 = mysql_query($query_Recordset1);
$totalRows_Recordset1 = mysql_num_rows($all_Recordset1);
}
$totalPages_Recordset1 = ceil($totalRows_Recordset1/$maxRows_Recordset1)-1;
?>
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
<style>
table{margin: auto;}
caption{font-size: 3em;}
</style>
</head>

<body>

<table border="1">
<caption>學生資料表</caption>
<tr>
<td>學號</td>
<td>姓名</td>
<td>電話</td>
<td>地址</td>
</tr>
<?php do { ?>
<tr>
<td><?php echo $row_Recordset1['studno']; ?></td>
<td><?php echo $row_Recordset1['name']; ?></td>
<td><?php echo $row_Recordset1['phone']; ?></td>
<td><?php echo $row_Recordset1['address']; ?></td>
</tr>
<?php } while ($row_Recordset1 = mysql_fetch_assoc($Recordset1)); ?>
</table> 

</body>
</html>
<?php
mysql_free_result($Recordset1);
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php require_once('Connections/sdb.php'); ?>
<?php
mysql_select_db($database_sdb, $sdb);
$query_Recordset1 = "SELECT * FROM student ORDER BY studno ASC";
$Recordset1 = mysql_query($query_Recordset1, $sdb) or die(mysql_error());
$row_Recordset1 = mysql_fetch_assoc($Recordset1);
$totalRows_Recordset1 = mysql_num_rows($Recordset1);
?>
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
</head>

<body>

<table border="1">
<tr>
<td>學號</td>
<td>姓名</td>
<td>電話</td>
<td>地址</td>
</tr>
<?php do { ?>
<tr>
<td><?php echo $row_Recordset1['studno']; ?></td>
<td><?php echo $row_Recordset1['name']; ?></td>
<td><?php echo $row_Recordset1['phone']; ?></td>
<td><?php echo $row_Recordset1['address']; ?></td>
</tr>
<?php } while ($row_Recordset1 = mysql_fetch_assoc($Recordset1)); ?>
</table> 

</body>
</html>
<?php
mysql_free_result($Recordset1);
?>

2018/06/04--------我是分隔線--------我是分隔線--------我是分隔線--------






2018/06/01--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php require_once('Connections/sdb.php'); ?>
<?php
if (!function_exists("GetSQLValueString")) {
function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "") 
{
if (PHP_VERSION < 6) {
$theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;
}

$theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);

switch ($theType) {
case "text":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break; 
case "long":
case "int":
$theValue = ($theValue != "") ? intval($theValue) : "NULL";
break;
case "double":
$theValue = ($theValue != "") ? doubleval($theValue) : "NULL";
break;
case "date":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break;
case "defined":
$theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;
break;
}
return $theValue;
}
}

mysql_select_db($database_sdb, $sdb);
$query_Recordset1 = "SELECT * FROM student ORDER BY studno ASC";
$Recordset1 = mysql_query($query_Recordset1, $sdb) or die(mysql_error());
$row_Recordset1 = mysql_fetch_assoc($Recordset1);
$totalRows_Recordset1 = mysql_num_rows($Recordset1);
?>
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
</head>

<body>

<table border="1">
<tr>
<td>學號</td>
<td>姓名</td>
<td>電話</td>
<td>地址</td>
</tr>
<?php do { ?>
<tr>
<td><?php echo $row_Recordset1['studno']; ?></td>
<td><?php echo $row_Recordset1['name']; ?></td>
<td><?php echo $row_Recordset1['phone']; ?></td>
<td><?php echo $row_Recordset1['address']; ?></td>
</tr>
<?php } while ($row_Recordset1 = mysql_fetch_assoc($Recordset1)); ?>
</table>


</body>
</html>
<?php
mysql_free_result($Recordset1);
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------


<?php
$link = @mysql_connect("localhost", "root", "00000000");
if (!$link){
die('連線錯誤: ' . mysql_error());
}

$db_selected = mysql_select_db("studentdb",$link);
$sql = "SELECT * from student";
$result = mysql_query($sql,$link);
print_r(mysql_fetch_row($result));

mysql_close($link);
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
$link = mysql_connect("localhost", "root", "00000000");
if (!$link){
die('連線錯誤: ' . mysql_error());
}

$db_selected = mysql_select_db("test_db",$link);
$sql = "SELECT * from student";
$result = mysql_query($sql,$link);
print_r(mysql_fetch_row($result));

mysql_close($link);
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?
mysql_connect("localhost","root","00000000"); //連接伺服器
mysql_select_db("studentdb"); //選擇欲讀取的資料庫名稱
mysql_query("set names utf8"); //將資料設為utf8格式（才能讀取中文）
mysql_query("select * from studentdb"); //從某資料庫中讀取所有的（*）資料表
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

mysql_connect("主機名稱","帳號","密碼"); //連接伺服器
mysql_select_db("資料庫名稱"); //選擇欲讀取的資料庫名稱
mysql_query("set names utf8"); //將資料設為utf8格式（才能讀取中文）
mysql_query("select * from 資料庫名稱"); //從某資料庫中讀取所有的（*）

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?
$userName="root"; //帳號
$password=""; //密碼
$hostName="localhost"; //主機(Server)名稱

if (!(@ $link=mysql_connect($hostName, $userName, $password))){
printf("<Br> 連結主機 %s 發生錯誤 <br>", $hostName);
exit();
}else{
printf("<Br> 連結主機 %s 成功 <br>", $hostName);
exit();
}
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

mysql_connect("主機名稱","帳號","密碼")：連接伺服器
mysql_select_db("資料庫名稱")：選擇欲讀取的資料庫名稱
mysql_query("set names utf8")：將資料設為utf8格式（才能讀取中文）
mysql_query("select * from 資料庫名稱")：從某資料庫中讀取所有的（*）資料表
mysql_num_rows( )：回傳我們的資料有幾個列
mysql_fetch_rows( )：讀取該資料表中列的資料，回傳的是一列資料。

2018/06/01--------我是分隔線--------我是分隔線--------我是分隔線--------












2018/05/30--------我是分隔線--------我是分隔線--------我是分隔線--------

spry:repeat="ds" spry:setrow="ds"



<div spry:region="ds">
<ul>
<li spry:repeat="ds"><a href=""><img src="sheep/{picture}" alt="" width="200"></a></li>
</ul>

<div id="message">
<h1>{subject}</h1>
<p>{description}</p>
</div>
</div>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<style>
ul{list-style-type: none;margin: 0 auto;padding: 0;background: #ccc;width: 50%;text-align: center;}
ul li a{width: 200px;height: 150px;float: left;}
</style>

--------我是分隔線--------我是分隔線--------我是分隔線--------

ul>li*6>a>img[src=http://placeimg.com/200/150]

--------我是分隔線--------我是分隔線--------我是分隔線--------

<script src="SpryAssets/SpryData.js"></script>
<script src="SpryAssets/xpath.js"></script>
<script>
var ds=new Spry.Data.XMLDataSet("xml/photo1.xml","data/sheep");
</script>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
<style>
table{margin: auto;border: 1px solid;width: calc(100%/3); border-collapse: collapse;}
td{border: 1px solid;}
</style>


<script src="SpryAssets/SpryData.js"></script>
<script src="SpryAssets/xpath.js"></script>
<script>
var ds=new Spry.Data.XMLDataSet("xml/photo1.xml","data/sheep");
</script>


</head>

<body>
<div spry:region="ds">
<table>
<tr>
<th>圖片</th>
<th>標題</th>
<th>描述</th>
</tr>
<tr spry:repeat="ds">
<td><img src="sheep/{picture}" alt="" width="200"></td>
<td>{subject}</td>
<td>{description}</td>
</tr>
</table>
</div>
</body>
</html>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<div spry:region="ds">
<table>
<tr>
<th>圖片</th>
<th>標題</th>
<th>描述</th>
</tr>
<tr spry:repeat="ds">
<td>{picture}</td>
<td>{subject}</td>
<td>{description}</td>
</tr>
</table>
</div>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<script>
var ds=new Spry.Data.XMLDataSet("xml/photo1.xml","data/sheep");
</script>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<style>
table{margin: auto;border: 1px solid;width: calc(100%/3); border-collapse: collapse;}
td{border: 1px solid;}
</style>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<script src="SpryAssets/SpryData.js"></script>
<script src="SpryAssets/xpath.js"></script>

--------我是分隔線--------我是分隔線--------我是分隔線--------

table>tr>th*3^tr>td*3
<table>
<tr>
<th>圖片</th>
<th>標題</th>
<th>描述</th>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</table>

--------我是分隔線--------我是分隔線--------我是分隔線--------

https://github.com/adobe/Spry

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php 
$start=$_POST['num1'];
$max=$_POST['num2'];
$p=2;
$t=$_POST['num3'];

for($i=$start;$i<=$max;$i++){
if($i%$p==$t){
$sum+=$i;
}
}

if($t==0){
echo "您輸入的值為 $start ~ $max ，其之間的 偶數 總和為：".$sum;	
}else{
echo "您輸入的值為 $start ~ $max ，其之間的 奇數 總和為：".$sum;
}
?>

--------我是分隔線--------我是分隔線--------我是分隔線-------

<form id="form1" name="form1" method="post" action="hw5-2POST.php">
請輸入從
<input name="num1" type="text" id="num1" size="5" />
到
<input name="num2" type="text" id="num2" size="5" />
的
<select name="num3" id="num3">
<option value="1">奇數</option>
<option value="0" selected>偶數</option>
</select>
<input name="" type="checkbox" id="" checked>我同意
並計算其總和
<input type="submit" name="button" id="button" value="送出" />
</form>

2018/05/30--------我是分隔線--------我是分隔線--------我是分隔線--------


















2018/05/28--------我是分隔線--------我是分隔線--------我是分隔線--------

<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
<style>
.box{
width: 100%;height: 200px;background: #ccc;
display:grid;
grid-template-columns:3fr 2fr 1fr;
}
.box>div{
background: #aaa;
}
</style>
</head>

<body>
<div class="box">
<div>1</div>
<div>2</div>
<div>3</div>	
</div>
</body>
</html>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<title>無標題文件</title>
<style>
body{margin: 0;}
.box{width: 100%;}
.box>img{width: 33vw;margin: 0;float: left;}
</style>
</head>

<body>

<?
for($row=1;$row<=3;$row++){
echo "<div class=\"box\">";

for($col=1;$col<=3;$col++){
echo "<img src=\"http://placeimg.com/500/500\">";	
}


echo "</div>";
}
?>

<!--<div class="box">
<img src="http://placeimg.com/500/500" alt="">
<img src="http://placeimg.com/500/500" alt="">
<img src="http://placeimg.com/500/500" alt="">
</div>
<div class="box">
<img src="http://placeimg.com/500/500" alt="">
<img src="http://placeimg.com/500/500" alt="">
<img src="http://placeimg.com/500/500" alt="">
</div>
<div class="box">
<img src="http://placeimg.com/500/500" alt="">
<img src="http://placeimg.com/500/500" alt="">
<img src="http://placeimg.com/500/500" alt="">
</div>-->

</body>
</html>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
<style>
.box{width: 100%;}
.box>img{width: 33%;margin: 0;float: left;}
</style>
</head>

<body>

<div class="box">
<img src="http://placeimg.com/500/500" alt="">
<img src="http://placeimg.com/500/500" alt="">
<img src="http://placeimg.com/500/500" alt="">
</div>
<div class="box">
<img src="http://placeimg.com/500/500" alt="">
<img src="http://placeimg.com/500/500" alt="">
<img src="http://placeimg.com/500/500" alt="">
</div>
<div class="box">
<img src="http://placeimg.com/500/500" alt="">
<img src="http://placeimg.com/500/500" alt="">
<img src="http://placeimg.com/500/500" alt="">
</div>

</body>
</html>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php 
echo "<table border=\"1\">";
for($row=2;$row<=15;$row++){	
echo "<tr>";
for($col=1;$col<=9;$col++){
echo "<td>".$row."*".$col."=".$row*$col."</td>";
}
echo "</tr>";
}
echo "</table>";
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php 
$a[0]=1;
$a[1]=1;
$i=2;
echo $a[0].",".$a[1].",";
while($i<=20){
$a[$i]=$a[$i-1]+$a[$i-2];
echo $a[$i].",";
$i++;
}
echo "共 21 個數字!!!";
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<p>1. 請撰寫一程式，接受輸入一個整數，並且列出 1 ~ 100 當中，為該整數的被 數分別有哪些？<br>
建議事項：請分別使用for、do … while迴圈完成。<br>
</p>

<form action="hw4_1_1.php" method="post" name="form1" id="form1">
<label for="num">整數倍數：</label>
<input type="number" name="num" id="num">

</form>

轉另一個頁面
<?php
$num=$_POST['num']; //取得整數值$num 
$num2=$_POST['num'];//取得整數值$num2
$sum=100/$num; //總共有幾個該倍數
$sum=(int)$sum; //型態變整數

//$_POST['num']; 存放到二個變數 目的$num +$num2
//$num; 取得整數初始值 //$num<=100; 取得整數值小於等於100 //$num+=$num2 取得整數值$num =$num+$num2

echo "1-100 整數倍數： $num <br> 該整數倍數有 " . $sum . " 個<br>";
for ($num; $num<=100; $num+=$num2){ 

echo "$num ";
}

--------我是分隔線--------我是分隔線--------我是分隔線--------

if(!empty($_POST['n1']))
{
$n1=$_POST['n1'];
echo "用for求: ";
for($i=1;$i<=100;$i++)
{
if($i%$n1==0)
{
echo "{$i},";
}
}
echo "
用while求: ";
$i=1;
while($i<=100)
{
$i++;
if($i%$n1==0)
{
echo "{$i},";
}
}
}

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php 
$num=$_POST['num'];
if($num>100 || $num<=0){
echo "別亂打..返回前一頁";
}else{
for($i=1;$i<=100;$i++){
if($i%$num==0){
echo $i."<br>";
}
}
}
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form id="form1" name="form1" method="post" action="hw4-1POST.php">
<label for="num">請輸入欲找出1-100中，</label>
<input type="text" name="num" id="num" />的倍數。
<input type="submit" name="button" id="button" value="送出" />
</form>

2018/05/28--------我是分隔線--------我是分隔線--------我是分隔線--------







2018/05/25--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
$sum = 0;
$cnt = 0;
$count=1;
echo "分別為 ： <br>";


while(true){
if($count % 3 == 0 && $count % 5 == 0){	
echo $count."<br>";
$cnt++;
if($sum>=5000){break;}
else{$sum += $count;}
}

$count++;
}


echo "<hr>";
echo "1 ~ 500 間的3跟5公倍數 [個數] 為 $cnt<br/>";
echo "1 ~ 500 間的3跟5公倍數 [累加和] 為 $sum<br/>";
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
$sum = 0;
$cnt = 0;
echo "分別為 ： <br>";
for($count=1; $count<=500; $count++){
if($count % 3 == 0 && $count % 5 == 0){	//除以2餘數為1則為奇數
echo $count."<br>";
$cnt++;
$sum += $count;
}
}
echo "<hr>";
echo "1 ~ 500 間的3跟5公倍數 [個數] 為 $cnt<br/>";
echo "1 ~ 500 間的3跟5公倍數 [累加和] 為 $sum<br/>";
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
$t=$_POST['name'];

switch($t){
case a:
echo "蘋果";
break;
case b:
echo "香蕉";
break;
case o:
echo "橘子";
break;
case g:
echo "葡萄";
break;
case p:
echo "鳳梨";
break;
default:
echo "無此水果...";
}
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form id="form1" name="form1" method="post" action="hw3-4POST.php">
<label for="name">請選擇單字：</label>
<select name="name" id="name">
<option value="a">Apple</option>
<option value="b">Banana</option>
<option value="g">Grape</option>
<option value="o">Orange</option>
<option value="p">Pineapple</option>
</select>
<input type="submit" name="button" id="button" value="翻譯" />
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

/*!
Chosen, a Select Box Enhancer for jQuery and Prototype
by Patrick Filler for Harvest, http://getharvest.com

Version 1.6.2
Full source at https://github.com/harvesthq/chosen
Copyright (c) 2011-2016 Harvest http://getharvest.com

MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md
This file is generated by `grunt build`, do not edit it by hand.
*/

(function() {
var $, AbstractChosen, Chosen, SelectParser, _ref,
__hasProp = {}.hasOwnProperty,
__extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

SelectParser = (function() {
function SelectParser() {
this.options_index = 0;
this.parsed = [];
}

SelectParser.prototype.add_node = function(child) {
if (child.nodeName.toUpperCase() === "OPTGROUP") {
return this.add_group(child);
} else {
return this.add_option(child);
}
};

SelectParser.prototype.add_group = function(group) {
var group_position, option, _i, _len, _ref, _results;
group_position = this.parsed.length;
this.parsed.push({
array_index: group_position,
group: true,
label: this.escapeExpression(group.label),
title: group.title ? group.title : void 0,
children: 0,
disabled: group.disabled,
classes: group.className
});
_ref = group.childNodes;
_results = [];
for (_i = 0, _len = _ref.length; _i < _len; _i++) {
option = _ref[_i];
_results.push(this.add_option(option, group_position, group.disabled));
}
return _results;
};

SelectParser.prototype.add_option = function(option, group_position, group_disabled) {
if (option.nodeName.toUpperCase() === "OPTION") {
if (option.text !== "") {
if (group_position != null) {
this.parsed[group_position].children += 1;
}
this.parsed.push({
array_index: this.parsed.length,
options_index: this.options_index,
value: option.value,
text: option.text,
html: option.innerHTML,
title: option.title ? option.title : void 0,
selected: option.selected,
disabled: group_disabled === true ? group_disabled : option.disabled,
group_array_index: group_position,
group_label: group_position != null ? this.parsed[group_position].label : null,
classes: option.className,
style: option.style.cssText
});
} else {
this.parsed.push({
array_index: this.parsed.length,
options_index: this.options_index,
empty: true
});
}
return this.options_index += 1;
}
};

SelectParser.prototype.escapeExpression = function(text) {
var map, unsafe_chars;
if ((text == null) || text === false) {
return "";
}
if (!/[\&\<\>\"\'\`]/.test(text)) {
return text;
}
map = {
"<": "&lt;",
">": "&gt;",
'"': "&quot;",
"'": "&#x27;",
"`": "&#x60;"
};
unsafe_chars = /&(?!\w+;)|[\<\>\"\'\`]/g;
return text.replace(unsafe_chars, function(chr) {
return map[chr] || "&amp;";
});
};

return SelectParser;

})();

SelectParser.select_to_array = function(select) {
var child, parser, _i, _len, _ref;
parser = new SelectParser();
_ref = select.childNodes;
for (_i = 0, _len = _ref.length; _i < _len; _i++) {
child = _ref[_i];
parser.add_node(child);
}
return parser.parsed;
};

AbstractChosen = (function() {
function AbstractChosen(form_field, options) {
this.form_field = form_field;
this.options = options != null ? options : {};
if (!AbstractChosen.browser_is_supported()) {
return;
}
this.is_multiple = this.form_field.multiple;
this.set_default_text();
this.set_default_values();
this.setup();
this.set_up_html();
this.register_observers();
this.on_ready();
}

AbstractChosen.prototype.set_default_values = function() {
var _this = this;
this.click_test_action = function(evt) {
return _this.test_active_click(evt);
};
this.activate_action = function(evt) {
return _this.activate_field(evt);
};
this.active_field = false;
this.mouse_on_container = false;
this.results_showing = false;
this.result_highlighted = null;
this.allow_single_deselect = (this.options.allow_single_deselect != null) && (this.form_field.options[0] != null) && this.form_field.options[0].text === "" ? this.options.allow_single_deselect : false;
this.disable_search_threshold = this.options.disable_search_threshold || 0;
this.disable_search = this.options.disable_search || false;
this.enable_split_word_search = this.options.enable_split_word_search != null ? this.options.enable_split_word_search : true;
this.group_search = this.options.group_search != null ? this.options.group_search : true;
this.search_contains = this.options.search_contains || false;
this.single_backstroke_delete = this.options.single_backstroke_delete != null ? this.options.single_backstroke_delete : true;
this.max_selected_options = this.options.max_selected_options || Infinity;
this.inherit_select_classes = this.options.inherit_select_classes || false;
this.display_selected_options = this.options.display_selected_options != null ? this.options.display_selected_options : true;
this.display_disabled_options = this.options.display_disabled_options != null ? this.options.display_disabled_options : true;
this.include_group_label_in_selected = this.options.include_group_label_in_selected || false;
this.max_shown_results = this.options.max_shown_results || Number.POSITIVE_INFINITY;
return this.case_sensitive_search = this.options.case_sensitive_search || false;
};

AbstractChosen.prototype.set_default_text = function() {
if (this.form_field.getAttribute("data-placeholder")) {
this.default_text = this.form_field.getAttribute("data-placeholder");
} else if (this.is_multiple) {
this.default_text = this.options.placeholder_text_multiple || this.options.placeholder_text || AbstractChosen.default_multiple_text;
} else {
this.default_text = this.options.placeholder_text_single || this.options.placeholder_text || AbstractChosen.default_single_text;
}
return this.results_none_found = this.form_field.getAttribute("data-no_results_text") || this.options.no_results_text || AbstractChosen.default_no_result_text;
};

AbstractChosen.prototype.choice_label = function(item) {
if (this.include_group_label_in_selected && (item.group_label != null)) {
return "<b class='group-name'>" + item.group_label + "</b>" + item.html;
} else {
return item.html;
}
};

AbstractChosen.prototype.mouse_enter = function() {
return this.mouse_on_container = true;
};

AbstractChosen.prototype.mouse_leave = function() {
return this.mouse_on_container = false;
};

AbstractChosen.prototype.input_focus = function(evt) {
var _this = this;
if (this.is_multiple) {
if (!this.active_field) {
return setTimeout((function() {
return _this.container_mousedown();
}), 50);
}
} else {
if (!this.active_field) {
return this.activate_field();
}
}
};

AbstractChosen.prototype.input_blur = function(evt) {
var _this = this;
if (!this.mouse_on_container) {
this.active_field = false;
return setTimeout((function() {
return _this.blur_test();
}), 100);
}
};

AbstractChosen.prototype.results_option_build = function(options) {
var content, data, data_content, shown_results, _i, _len, _ref;
content = '';
shown_results = 0;
_ref = this.results_data;
for (_i = 0, _len = _ref.length; _i < _len; _i++) {
data = _ref[_i];
data_content = '';
if (data.group) {
data_content = this.result_add_group(data);
} else {
data_content = this.result_add_option(data);
}
if (data_content !== '') {
shown_results++;
content += data_content;
}
if (options != null ? options.first : void 0) {
if (data.selected && this.is_multiple) {
this.choice_build(data);
} else if (data.selected && !this.is_multiple) {
this.single_set_selected_text(this.choice_label(data));
}
}
if (shown_results >= this.max_shown_results) {
break;
}
}
return content;
};

AbstractChosen.prototype.result_add_option = function(option) {
var classes, option_el;
if (!option.search_match) {
return '';
}
if (!this.include_option_in_results(option)) {
return '';
}
classes = [];
if (!option.disabled && !(option.selected && this.is_multiple)) {
classes.push("active-result");
}
if (option.disabled && !(option.selected && this.is_multiple)) {
classes.push("disabled-result");
}
if (option.selected) {
classes.push("result-selected");
}
if (option.group_array_index != null) {
classes.push("group-option");
}
if (option.classes !== "") {
classes.push(option.classes);
}
option_el = document.createElement("li");
option_el.className = classes.join(" ");
option_el.style.cssText = option.style;
option_el.setAttribute("data-option-array-index", option.array_index);
option_el.innerHTML = option.search_text;
if (option.title) {
option_el.title = option.title;
}
return this.outerHTML(option_el);
};

AbstractChosen.prototype.result_add_group = function(group) {
var classes, group_el;
if (!(group.search_match || group.group_match)) {
return '';
}
if (!(group.active_options > 0)) {
return '';
}
classes = [];
classes.push("group-result");
if (group.classes) {
classes.push(group.classes);
}
group_el = document.createElement("li");
group_el.className = classes.join(" ");
group_el.innerHTML = group.search_text;
if (group.title) {
group_el.title = group.title;
}
return this.outerHTML(group_el);
};

AbstractChosen.prototype.results_update_field = function() {
this.set_default_text();
if (!this.is_multiple) {
this.results_reset_cleanup();
}
this.result_clear_highlight();
this.results_build();
if (this.results_showing) {
return this.winnow_results();
}
};

AbstractChosen.prototype.reset_single_select_options = function() {
var result, _i, _len, _ref, _results;
_ref = this.results_data;
_results = [];
for (_i = 0, _len = _ref.length; _i < _len; _i++) {
result = _ref[_i];
if (result.selected) {
_results.push(result.selected = false);
} else {
_results.push(void 0);
}
}
return _results;
};

AbstractChosen.prototype.results_toggle = function() {
if (this.results_showing) {
return this.results_hide();
} else {
return this.results_show();
}
};

AbstractChosen.prototype.results_search = function(evt) {
if (this.results_showing) {
return this.winnow_results();
} else {
return this.results_show();
}
};

AbstractChosen.prototype.winnow_results = function() {
var escapedSearchText, option, regex, results, results_group, searchText, startpos, text, zregex, _i, _len, _ref;
this.no_results_clear();
results = 0;
searchText = this.get_search_text();
escapedSearchText = searchText.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&");
zregex = new RegExp(escapedSearchText, 'i');
regex = this.get_search_regex(escapedSearchText);
_ref = this.results_data;
for (_i = 0, _len = _ref.length; _i < _len; _i++) {
option = _ref[_i];
option.search_match = false;
results_group = null;
if (this.include_option_in_results(option)) {
if (option.group) {
option.group_match = false;
option.active_options = 0;
}
if ((option.group_array_index != null) && this.results_data[option.group_array_index]) {
results_group = this.results_data[option.group_array_index];
if (results_group.active_options === 0 && results_group.search_match) {
results += 1;
}
results_group.active_options += 1;
}
option.search_text = option.group ? option.label : option.html;
if (!(option.group && !this.group_search)) {
option.search_match = this.search_string_match(option.search_text, regex);
if (option.search_match && !option.group) {
results += 1;
}
if (option.search_match) {
if (searchText.length) {
startpos = option.search_text.search(zregex);
text = option.search_text.substr(0, startpos + searchText.length) + '</em>' + option.search_text.substr(startpos + searchText.length);
option.search_text = text.substr(0, startpos) + '<em>' + text.substr(startpos);
}
if (results_group != null) {
results_group.group_match = true;
}
} else if ((option.group_array_index != null) && this.results_data[option.group_array_index].search_match) {
option.search_match = true;
}
}
}
}
this.result_clear_highlight();
if (results < 1 && searchText.length) {
this.update_results_content("");
return this.no_results(searchText);
} else {
this.update_results_content(this.results_option_build());
return this.winnow_results_set_highlight();
}
};

AbstractChosen.prototype.get_search_regex = function(escaped_search_string) {
var regex_anchor, regex_flag;
regex_anchor = this.search_contains ? "" : "^";
regex_flag = this.case_sensitive_search ? "" : "i";
return new RegExp(regex_anchor + escaped_search_string, regex_flag);
};

AbstractChosen.prototype.search_string_match = function(search_string, regex) {
var part, parts, _i, _len;
if (regex.test(search_string)) {
return true;
} else if (this.enable_split_word_search && (search_string.indexOf(" ") >= 0 || search_string.indexOf("[") === 0)) {
parts = search_string.replace(/\[|\]/g, "").split(" ");
if (parts.length) {
for (_i = 0, _len = parts.length; _i < _len; _i++) {
part = parts[_i];
if (regex.test(part)) {
return true;
}
}
}
}
};

AbstractChosen.prototype.choices_count = function() {
var option, _i, _len, _ref;
if (this.selected_option_count != null) {
return this.selected_option_count;
}
this.selected_option_count = 0;
_ref = this.form_field.options;
for (_i = 0, _len = _ref.length; _i < _len; _i++) {
option = _ref[_i];
if (option.selected) {
this.selected_option_count += 1;
}
}
return this.selected_option_count;
};

AbstractChosen.prototype.choices_click = function(evt) {
evt.preventDefault();
if (!(this.results_showing || this.is_disabled)) {
return this.results_show();
}
};

AbstractChosen.prototype.keyup_checker = function(evt) {
var stroke, _ref;
stroke = (_ref = evt.which) != null ? _ref : evt.keyCode;
this.search_field_scale();
switch (stroke) {
case 8:
if (this.is_multiple && this.backstroke_length < 1 && this.choices_count() > 0) {
return this.keydown_backstroke();
} else if (!this.pending_backstroke) {
this.result_clear_highlight();
return this.results_search();
}
break;
case 13:
evt.preventDefault();
if (this.results_showing) {
return this.result_select(evt);
}
break;
case 27:
if (this.results_showing) {
this.results_hide();
}
return true;
case 9:
case 38:
case 40:
case 16:
case 91:
case 17:
case 18:
break;
default:
return this.results_search();
}
};

AbstractChosen.prototype.clipboard_event_checker = function(evt) {
var _this = this;
return setTimeout((function() {
return _this.results_search();
}), 50);
};

AbstractChosen.prototype.container_width = function() {
if (this.options.width != null) {
return this.options.width;
} else {
return "" + this.form_field.offsetWidth + "px";
}
};

AbstractChosen.prototype.include_option_in_results = function(option) {
if (this.is_multiple && (!this.display_selected_options && option.selected)) {
return false;
}
if (!this.display_disabled_options && option.disabled) {
return false;
}
if (option.empty) {
return false;
}
return true;
};

AbstractChosen.prototype.search_results_touchstart = function(evt) {
this.touch_started = true;
return this.search_results_mouseover(evt);
};

AbstractChosen.prototype.search_results_touchmove = function(evt) {
this.touch_started = false;
return this.search_results_mouseout(evt);
};

AbstractChosen.prototype.search_results_touchend = function(evt) {
if (this.touch_started) {
return this.search_results_mouseup(evt);
}
};

AbstractChosen.prototype.outerHTML = function(element) {
var tmp;
if (element.outerHTML) {
return element.outerHTML;
}
tmp = document.createElement("div");
tmp.appendChild(element);
return tmp.innerHTML;
};

AbstractChosen.browser_is_supported = function() {
if ("Microsoft Internet Explorer" === window.navigator.appName) {
return document.documentMode >= 8;
}
if (/iP(od|hone)/i.test(window.navigator.userAgent) || /IEMobile/i.test(window.navigator.userAgent) || /Windows Phone/i.test(window.navigator.userAgent) || /BlackBerry/i.test(window.navigator.userAgent) || /BB10/i.test(window.navigator.userAgent) || /Android.*Mobile/i.test(window.navigator.userAgent)) {
return false;
}
return true;
};

AbstractChosen.default_multiple_text = "Select Some Options";

AbstractChosen.default_single_text = "Select an Option";

AbstractChosen.default_no_result_text = "No results match";

return AbstractChosen;

})();

$ = jQuery;

$.fn.extend({
chosen: function(options) {
if (!AbstractChosen.browser_is_supported()) {
return this;
}
return this.each(function(input_field) {
var $this, chosen;
$this = $(this);
chosen = $this.data('chosen');
if (options === 'destroy') {
if (chosen instanceof Chosen) {
chosen.destroy();
}
return;
}
if (!(chosen instanceof Chosen)) {
$this.data('chosen', new Chosen(this, options));
}
});
}
});

Chosen = (function(_super) {
__extends(Chosen, _super);

function Chosen() {
_ref = Chosen.__super__.constructor.apply(this, arguments);
return _ref;
}

Chosen.prototype.setup = function() {
this.form_field_jq = $(this.form_field);
this.current_selectedIndex = this.form_field.selectedIndex;
return this.is_rtl = this.form_field_jq.hasClass("chosen-rtl");
};

Chosen.prototype.set_up_html = function() {
var container_classes, container_props;
container_classes = ["chosen-container"];
container_classes.push("chosen-container-" + (this.is_multiple ? "multi" : "single"));
if (this.inherit_select_classes && this.form_field.className) {
container_classes.push(this.form_field.className);
}
if (this.is_rtl) {
container_classes.push("chosen-rtl");
}
container_props = {
'class': container_classes.join(' '),
'style': "width: " + (this.container_width()) + ";",
'title': this.form_field.title
};
if (this.form_field.id.length) {
container_props.id = this.form_field.id.replace(/[^\w]/g, '_') + "_chosen";
}
this.container = $("<div />", container_props);
if (this.is_multiple) {
this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="' + this.default_text + '" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>');
} else {
this.container.html('<a class="chosen-single chosen-default"><span>' + this.default_text + '</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>');
}
this.form_field_jq.hide().after(this.container);
this.dropdown = this.container.find('div.chosen-drop').first();
this.search_field = this.container.find('input').first();
this.search_results = this.container.find('ul.chosen-results').first();
this.search_field_scale();
this.search_no_results = this.container.find('li.no-results').first();
if (this.is_multiple) {
this.search_choices = this.container.find('ul.chosen-choices').first();
this.search_container = this.container.find('li.search-field').first();
} else {
this.search_container = this.container.find('div.chosen-search').first();
this.selected_item = this.container.find('.chosen-single').first();
}
this.results_build();
this.set_tab_index();
return this.set_label_behavior();
};

Chosen.prototype.on_ready = function() {
return this.form_field_jq.trigger("chosen:ready", {
chosen: this
});
};

Chosen.prototype.register_observers = function() {
var _this = this;
this.container.bind('touchstart.chosen', function(evt) {
_this.container_mousedown(evt);
return evt.preventDefault();
});
this.container.bind('touchend.chosen', function(evt) {
_this.container_mouseup(evt);
return evt.preventDefault();
});
this.container.bind('mousedown.chosen', function(evt) {
_this.container_mousedown(evt);
});
this.container.bind('mouseup.chosen', function(evt) {
_this.container_mouseup(evt);
});
this.container.bind('mouseenter.chosen', function(evt) {
_this.mouse_enter(evt);
});
this.container.bind('mouseleave.chosen', function(evt) {
_this.mouse_leave(evt);
});
this.search_results.bind('mouseup.chosen', function(evt) {
_this.search_results_mouseup(evt);
});
this.search_results.bind('mouseover.chosen', function(evt) {
_this.search_results_mouseover(evt);
});
this.search_results.bind('mouseout.chosen', function(evt) {
_this.search_results_mouseout(evt);
});
this.search_results.bind('mousewheel.chosen DOMMouseScroll.chosen', function(evt) {
_this.search_results_mousewheel(evt);
});
this.search_results.bind('touchstart.chosen', function(evt) {
_this.search_results_touchstart(evt);
});
this.search_results.bind('touchmove.chosen', function(evt) {
_this.search_results_touchmove(evt);
});
this.search_results.bind('touchend.chosen', function(evt) {
_this.search_results_touchend(evt);
});
this.form_field_jq.bind("chosen:updated.chosen", function(evt) {
_this.results_update_field(evt);
});
this.form_field_jq.bind("chosen:activate.chosen", function(evt) {
_this.activate_field(evt);
});
this.form_field_jq.bind("chosen:open.chosen", function(evt) {
_this.container_mousedown(evt);
});
this.form_field_jq.bind("chosen:close.chosen", function(evt) {
_this.input_blur(evt);
});
this.search_field.bind('blur.chosen', function(evt) {
_this.input_blur(evt);
});
this.search_field.bind('keyup.chosen', function(evt) {
_this.keyup_checker(evt);
});
this.search_field.bind('keydown.chosen', function(evt) {
_this.keydown_checker(evt);
});
this.search_field.bind('focus.chosen', function(evt) {
_this.input_focus(evt);
});
this.search_field.bind('cut.chosen', function(evt) {
_this.clipboard_event_checker(evt);
});
this.search_field.bind('paste.chosen', function(evt) {
_this.clipboard_event_checker(evt);
});
if (this.is_multiple) {
return this.search_choices.bind('click.chosen', function(evt) {
_this.choices_click(evt);
});
} else {
return this.container.bind('click.chosen', function(evt) {
evt.preventDefault();
});
}
};

Chosen.prototype.destroy = function() {
$(this.container[0].ownerDocument).unbind("click.chosen", this.click_test_action);
if (this.search_field[0].tabIndex) {
this.form_field_jq[0].tabIndex = this.search_field[0].tabIndex;
}
this.container.remove();
this.form_field_jq.removeData('chosen');
return this.form_field_jq.show();
};

Chosen.prototype.search_field_disabled = function() {
this.is_disabled = this.form_field_jq[0].disabled;
if (this.is_disabled) {
this.container.addClass('chosen-disabled');
this.search_field[0].disabled = true;
if (!this.is_multiple) {
this.selected_item.unbind("focus.chosen", this.activate_action);
}
return this.close_field();
} else {
this.container.removeClass('chosen-disabled');
this.search_field[0].disabled = false;
if (!this.is_multiple) {
return this.selected_item.bind("focus.chosen", this.activate_action);
}
}
};

Chosen.prototype.container_mousedown = function(evt) {
if (!this.is_disabled) {
if (evt && evt.type === "mousedown" && !this.results_showing) {
evt.preventDefault();
}
if (!((evt != null) && ($(evt.target)).hasClass("search-choice-close"))) {
if (!this.active_field) {
if (this.is_multiple) {
this.search_field.val("");
}
$(this.container[0].ownerDocument).bind('click.chosen', this.click_test_action);
this.results_show();
} else if (!this.is_multiple && evt && (($(evt.target)[0] === this.selected_item[0]) || $(evt.target).parents("a.chosen-single").length)) {
evt.preventDefault();
this.results_toggle();
}
return this.activate_field();
}
}
};

Chosen.prototype.container_mouseup = function(evt) {
if (evt.target.nodeName === "ABBR" && !this.is_disabled) {
return this.results_reset(evt);
}
};

Chosen.prototype.search_results_mousewheel = function(evt) {
var delta;
if (evt.originalEvent) {
delta = evt.originalEvent.deltaY || -evt.originalEvent.wheelDelta || evt.originalEvent.detail;
}
if (delta != null) {
evt.preventDefault();
if (evt.type === 'DOMMouseScroll') {
delta = delta * 40;
}
return this.search_results.scrollTop(delta + this.search_results.scrollTop());
}
};

Chosen.prototype.blur_test = function(evt) {
if (!this.active_field && this.container.hasClass("chosen-container-active")) {
return this.close_field();
}
};

Chosen.prototype.close_field = function() {
$(this.container[0].ownerDocument).unbind("click.chosen", this.click_test_action);
this.active_field = false;
this.results_hide();
this.container.removeClass("chosen-container-active");
this.clear_backstroke();
this.show_search_field_default();
return this.search_field_scale();
};

Chosen.prototype.activate_field = function() {
this.container.addClass("chosen-container-active");
this.active_field = true;
this.search_field.val(this.search_field.val());
return this.search_field.focus();
};

Chosen.prototype.test_active_click = function(evt) {
var active_container;
active_container = $(evt.target).closest('.chosen-container');
if (active_container.length && this.container[0] === active_container[0]) {
return this.active_field = true;
} else {
return this.close_field();
}
};

Chosen.prototype.results_build = function() {
this.parsing = true;
this.selected_option_count = null;
this.results_data = SelectParser.select_to_array(this.form_field);
if (this.is_multiple) {
this.search_choices.find("li.search-choice").remove();
} else if (!this.is_multiple) {
this.single_set_selected_text();
if (this.disable_search || this.form_field.options.length <= this.disable_search_threshold) {
this.search_field[0].readOnly = true;
this.container.addClass("chosen-container-single-nosearch");
} else {
this.search_field[0].readOnly = false;
this.container.removeClass("chosen-container-single-nosearch");
}
}
this.update_results_content(this.results_option_build({
first: true
}));
this.search_field_disabled();
this.show_search_field_default();
this.search_field_scale();
return this.parsing = false;
};

Chosen.prototype.result_do_highlight = function(el) {
var high_bottom, high_top, maxHeight, visible_bottom, visible_top;
if (el.length) {
this.result_clear_highlight();
this.result_highlight = el;
this.result_highlight.addClass("highlighted");
maxHeight = parseInt(this.search_results.css("maxHeight"), 10);
visible_top = this.search_results.scrollTop();
visible_bottom = maxHeight + visible_top;
high_top = this.result_highlight.position().top + this.search_results.scrollTop();
high_bottom = high_top + this.result_highlight.outerHeight();
if (high_bottom >= visible_bottom) {
return this.search_results.scrollTop((high_bottom - maxHeight) > 0 ? high_bottom - maxHeight : 0);
} else if (high_top < visible_top) {
return this.search_results.scrollTop(high_top);
}
}
};

Chosen.prototype.result_clear_highlight = function() {
if (this.result_highlight) {
this.result_highlight.removeClass("highlighted");
}
return this.result_highlight = null;
};

Chosen.prototype.results_show = function() {
if (this.is_multiple && this.max_selected_options <= this.choices_count()) {
this.form_field_jq.trigger("chosen:maxselected", {
chosen: this
});
return false;
}
this.container.addClass("chosen-with-drop");
this.results_showing = true;
this.search_field.focus();
this.search_field.val(this.search_field.val());
this.winnow_results();
return this.form_field_jq.trigger("chosen:showing_dropdown", {
chosen: this
});
};

Chosen.prototype.update_results_content = function(content) {
return this.search_results.html(content);
};

Chosen.prototype.results_hide = function() {
if (this.results_showing) {
this.result_clear_highlight();
this.container.removeClass("chosen-with-drop");
this.form_field_jq.trigger("chosen:hiding_dropdown", {
chosen: this
});
}
return this.results_showing = false;
};

Chosen.prototype.set_tab_index = function(el) {
var ti;
if (this.form_field.tabIndex) {
ti = this.form_field.tabIndex;
this.form_field.tabIndex = -1;
return this.search_field[0].tabIndex = ti;
}
};

Chosen.prototype.set_label_behavior = function() {
var _this = this;
this.form_field_label = this.form_field_jq.parents("label");
if (!this.form_field_label.length && this.form_field.id.length) {
this.form_field_label = $("label[for='" + this.form_field.id + "']");
}
if (this.form_field_label.length > 0) {
return this.form_field_label.bind('click.chosen', function(evt) {
if (_this.is_multiple) {
return _this.container_mousedown(evt);
} else {
return _this.activate_field();
}
});
}
};

Chosen.prototype.show_search_field_default = function() {
if (this.is_multiple && this.choices_count() < 1 && !this.active_field) {
this.search_field.val(this.default_text);
return this.search_field.addClass("default");
} else {
this.search_field.val("");
return this.search_field.removeClass("default");
}
};

Chosen.prototype.search_results_mouseup = function(evt) {
var target;
target = $(evt.target).hasClass("active-result") ? $(evt.target) : $(evt.target).parents(".active-result").first();
if (target.length) {
this.result_highlight = target;
this.result_select(evt);
return this.search_field.focus();
}
};

Chosen.prototype.search_results_mouseover = function(evt) {
var target;
target = $(evt.target).hasClass("active-result") ? $(evt.target) : $(evt.target).parents(".active-result").first();
if (target) {
return this.result_do_highlight(target);
}
};

Chosen.prototype.search_results_mouseout = function(evt) {
if ($(evt.target).hasClass("active-result" || $(evt.target).parents('.active-result').first())) {
return this.result_clear_highlight();
}
};

Chosen.prototype.choice_build = function(item) {
var choice, close_link,
_this = this;
choice = $('<li />', {
"class": "search-choice"
}).html("<span>" + (this.choice_label(item)) + "</span>");
if (item.disabled) {
choice.addClass('search-choice-disabled');
} else {
close_link = $('<a />', {
"class": 'search-choice-close',
'data-option-array-index': item.array_index
});
close_link.bind('click.chosen', function(evt) {
return _this.choice_destroy_link_click(evt);
});
choice.append(close_link);
}
return this.search_container.before(choice);
};

Chosen.prototype.choice_destroy_link_click = function(evt) {
evt.preventDefault();
evt.stopPropagation();
if (!this.is_disabled) {
return this.choice_destroy($(evt.target));
}
};

Chosen.prototype.choice_destroy = function(link) {
if (this.result_deselect(link[0].getAttribute("data-option-array-index"))) {
this.show_search_field_default();
if (this.is_multiple && this.choices_count() > 0 && this.search_field.val().length < 1) {
this.results_hide();
}
link.parents('li').first().remove();
return this.search_field_scale();
}
};

Chosen.prototype.results_reset = function() {
this.reset_single_select_options();
this.form_field.options[0].selected = true;
this.single_set_selected_text();
this.show_search_field_default();
this.results_reset_cleanup();
this.form_field_jq.trigger("change");
if (this.active_field) {
return this.results_hide();
}
};

Chosen.prototype.results_reset_cleanup = function() {
this.current_selectedIndex = this.form_field.selectedIndex;
return this.selected_item.find("abbr").remove();
};

Chosen.prototype.result_select = function(evt) {
var high, item;
if (this.result_highlight) {
high = this.result_highlight;
this.result_clear_highlight();
if (this.is_multiple && this.max_selected_options <= this.choices_count()) {
this.form_field_jq.trigger("chosen:maxselected", {
chosen: this
});
return false;
}
if (this.is_multiple) {
high.removeClass("active-result");
} else {
this.reset_single_select_options();
}
high.addClass("result-selected");
item = this.results_data[high[0].getAttribute("data-option-array-index")];
item.selected = true;
this.form_field.options[item.options_index].selected = true;
this.selected_option_count = null;
if (this.is_multiple) {
this.choice_build(item);
} else {
this.single_set_selected_text(this.choice_label(item));
}
if (!((evt.metaKey || evt.ctrlKey) && this.is_multiple)) {
this.results_hide();
}
this.show_search_field_default();
if (this.is_multiple || this.form_field.selectedIndex !== this.current_selectedIndex) {
this.form_field_jq.trigger("change", {
'selected': this.form_field.options[item.options_index].value
});
}
this.current_selectedIndex = this.form_field.selectedIndex;
evt.preventDefault();
return this.search_field_scale();
}
};

Chosen.prototype.single_set_selected_text = function(text) {
if (text == null) {
text = this.default_text;
}
if (text === this.default_text) {
this.selected_item.addClass("chosen-default");
} else {
this.single_deselect_control_build();
this.selected_item.removeClass("chosen-default");
}
return this.selected_item.find("span").html(text);
};

Chosen.prototype.result_deselect = function(pos) {
var result_data;
result_data = this.results_data[pos];
if (!this.form_field.options[result_data.options_index].disabled) {
result_data.selected = false;
this.form_field.options[result_data.options_index].selected = false;
this.selected_option_count = null;
this.result_clear_highlight();
if (this.results_showing) {
this.winnow_results();
}
this.form_field_jq.trigger("change", {
deselected: this.form_field.options[result_data.options_index].value
});
this.search_field_scale();
return true;
} else {
return false;
}
};

Chosen.prototype.single_deselect_control_build = function() {
if (!this.allow_single_deselect) {
return;
}
if (!this.selected_item.find("abbr").length) {
this.selected_item.find("span").first().after("<abbr class=\"search-choice-close\"></abbr>");
}
return this.selected_item.addClass("chosen-single-with-deselect");
};

Chosen.prototype.get_search_text = function() {
return $('<div/>').text($.trim(this.search_field.val())).html();
};

Chosen.prototype.winnow_results_set_highlight = function() {
var do_high, selected_results;
selected_results = !this.is_multiple ? this.search_results.find(".result-selected.active-result") : [];
do_high = selected_results.length ? selected_results.first() : this.search_results.find(".active-result").first();
if (do_high != null) {
return this.result_do_highlight(do_high);
}
};

Chosen.prototype.no_results = function(terms) {
var no_results_html;
no_results_html = $('<li class="no-results">' + this.results_none_found + ' "<span></span>"</li>');
no_results_html.find("span").first().html(terms);
this.search_results.append(no_results_html);
return this.form_field_jq.trigger("chosen:no_results", {
chosen: this
});
};

Chosen.prototype.no_results_clear = function() {
return this.search_results.find(".no-results").remove();
};

Chosen.prototype.keydown_arrow = function() {
var next_sib;
if (this.results_showing && this.result_highlight) {
next_sib = this.result_highlight.nextAll("li.active-result").first();
if (next_sib) {
return this.result_do_highlight(next_sib);
}
} else {
return this.results_show();
}
};

Chosen.prototype.keyup_arrow = function() {
var prev_sibs;
if (!this.results_showing && !this.is_multiple) {
return this.results_show();
} else if (this.result_highlight) {
prev_sibs = this.result_highlight.prevAll("li.active-result");
if (prev_sibs.length) {
return this.result_do_highlight(prev_sibs.first());
} else {
if (this.choices_count() > 0) {
this.results_hide();
}
return this.result_clear_highlight();
}
}
};

Chosen.prototype.keydown_backstroke = function() {
var next_available_destroy;
if (this.pending_backstroke) {
this.choice_destroy(this.pending_backstroke.find("a").first());
return this.clear_backstroke();
} else {
next_available_destroy = this.search_container.siblings("li.search-choice").last();
if (next_available_destroy.length && !next_available_destroy.hasClass("search-choice-disabled")) {
this.pending_backstroke = next_available_destroy;
if (this.single_backstroke_delete) {
return this.keydown_backstroke();
} else {
return this.pending_backstroke.addClass("search-choice-focus");
}
}
}
};

Chosen.prototype.clear_backstroke = function() {
if (this.pending_backstroke) {
this.pending_backstroke.removeClass("search-choice-focus");
}
return this.pending_backstroke = null;
};

Chosen.prototype.keydown_checker = function(evt) {
var stroke, _ref1;
stroke = (_ref1 = evt.which) != null ? _ref1 : evt.keyCode;
this.search_field_scale();
if (stroke !== 8 && this.pending_backstroke) {
this.clear_backstroke();
}
switch (stroke) {
case 8:
this.backstroke_length = this.search_field.val().length;
break;
case 9:
if (this.results_showing && !this.is_multiple) {
this.result_select(evt);
}
this.mouse_on_container = false;
break;
case 13:
if (this.results_showing) {
evt.preventDefault();
}
break;
case 32:
if (this.disable_search) {
evt.preventDefault();
}
break;
case 38:
evt.preventDefault();
this.keyup_arrow();
break;
case 40:
evt.preventDefault();
this.keydown_arrow();
break;
}
};

Chosen.prototype.search_field_scale = function() {
var div, f_width, h, style, style_block, styles, w, _i, _len;
if (this.is_multiple) {
h = 0;
w = 0;
style_block = "position:absolute; left: -1000px; top: -1000px; display:none;";
styles = ['font-size', 'font-style', 'font-weight', 'font-family', 'line-height', 'text-transform', 'letter-spacing'];
for (_i = 0, _len = styles.length; _i < _len; _i++) {
style = styles[_i];
style_block += style + ":" + this.search_field.css(style) + ";";
}
div = $('<div />', {
'style': style_block
});
div.text(this.search_field.val());
$('body').append(div);
w = div.width() + 25;
div.remove();
f_width = this.container.outerWidth();
if (w > f_width - 10) {
w = f_width - 10;
}
return this.search_field.css({
'width': w + 'px'
});
}
};

return Chosen;

})(AbstractChosen);

}).call(this);


--------我是分隔線--------我是分隔線--------我是分隔線--------

/*!
Chosen, a Select Box Enhancer for jQuery and Prototype
by Patrick Filler for Harvest, http://getharvest.com

Version 1.6.2
Full source at https://github.com/harvesthq/chosen
Copyright (c) 2011-2016 Harvest http://getharvest.com

MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md
This file is generated by `grunt build`, do not edit it by hand.
*/

/* @group Base */
.chosen-container {
position: relative;
display: inline-block;
vertical-align: middle;
font-size: 13px;
-webkit-user-select: none;
-moz-user-select: none;
user-select: none;
}
.chosen-container * {
-webkit-box-sizing: border-box;
-moz-box-sizing: border-box;
box-sizing: border-box;
}
.chosen-container .chosen-drop {
position: absolute;
top: 100%;
left: -9999px;
z-index: 1010;
width: 100%;
border: 1px solid #aaa;
border-top: 0;
background: #fff;
box-shadow: 0 4px 5px rgba(0, 0, 0, 0.15);
}
.chosen-container.chosen-with-drop .chosen-drop {
left: 0;
}
.chosen-container a {
cursor: pointer;
}
.chosen-container .search-choice .group-name, .chosen-container .chosen-single .group-name {
margin-right: 4px;
overflow: hidden;
white-space: nowrap;
text-overflow: ellipsis;
font-weight: normal;
color: #999999;
}
.chosen-container .search-choice .group-name:after, .chosen-container .chosen-single .group-name:after {
content: ":";
padding-left: 2px;
vertical-align: top;
}

/* @end */
/* @group Single Chosen */
.chosen-container-single .chosen-single {
position: relative;
display: block;
overflow: hidden;
padding: 0 0 0 8px;
height: 25px;
border: 1px solid #aaa;
border-radius: 5px;
background-color: #fff;
background: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(20%, #ffffff), color-stop(50%, #f6f6f6), color-stop(52%, #eeeeee), color-stop(100%, #f4f4f4));
background: -webkit-linear-gradient(#ffffff 20%, #f6f6f6 50%, #eeeeee 52%, #f4f4f4 100%);
background: -moz-linear-gradient(#ffffff 20%, #f6f6f6 50%, #eeeeee 52%, #f4f4f4 100%);
background: -o-linear-gradient(#ffffff 20%, #f6f6f6 50%, #eeeeee 52%, #f4f4f4 100%);
background: linear-gradient(#ffffff 20%, #f6f6f6 50%, #eeeeee 52%, #f4f4f4 100%);
background-clip: padding-box;
box-shadow: 0 0 3px white inset, 0 1px 1px rgba(0, 0, 0, 0.1);
color: #444;
text-decoration: none;
white-space: nowrap;
line-height: 24px;
}
.chosen-container-single .chosen-default {
color: #999;
}
.chosen-container-single .chosen-single span {
display: block;
overflow: hidden;
margin-right: 26px;
text-overflow: ellipsis;
white-space: nowrap;
}
.chosen-container-single .chosen-single-with-deselect span {
margin-right: 38px;
}
.chosen-container-single .chosen-single abbr {
position: absolute;
top: 6px;
right: 26px;
display: block;
width: 12px;
height: 12px;
background: url('chosen-sprite.png') -42px 1px no-repeat;
font-size: 1px;
}
.chosen-container-single .chosen-single abbr:hover {
background-position: -42px -10px;
}
.chosen-container-single.chosen-disabled .chosen-single abbr:hover {
background-position: -42px -10px;
}
.chosen-container-single .chosen-single div {
position: absolute;
top: 0;
right: 0;
display: block;
width: 18px;
height: 100%;
}
.chosen-container-single .chosen-single div b {
display: block;
width: 100%;
height: 100%;
background: url('chosen-sprite.png') no-repeat 0px 2px;
}
.chosen-container-single .chosen-search {
position: relative;
z-index: 1010;
margin: 0;
padding: 3px 4px;
white-space: nowrap;
}
.chosen-container-single .chosen-search input[type="text"] {
margin: 1px 0;
padding: 4px 20px 4px 5px;
width: 100%;
height: auto;
outline: 0;
border: 1px solid #aaa;
background: white url('chosen-sprite.png') no-repeat 100% -20px;
background: url('chosen-sprite.png') no-repeat 100% -20px;
font-size: 1em;
font-family: sans-serif;
line-height: normal;
border-radius: 0;
}
.chosen-container-single .chosen-drop {
margin-top: -1px;
border-radius: 0 0 4px 4px;
background-clip: padding-box;
}
.chosen-container-single.chosen-container-single-nosearch .chosen-search {
position: absolute;
left: -9999px;
}

/* @end */
/* @group Results */
.chosen-container .chosen-results {
color: #444;
position: relative;
overflow-x: hidden;
overflow-y: auto;
margin: 0 4px 4px 0;
padding: 0 0 0 4px;
max-height: 240px;
-webkit-overflow-scrolling: touch;
}
.chosen-container .chosen-results li {
display: none;
margin: 0;
padding: 5px 6px;
list-style: none;
line-height: 15px;
word-wrap: break-word;
-webkit-touch-callout: none;
}
.chosen-container .chosen-results li.active-result {
display: list-item;
cursor: pointer;
}
.chosen-container .chosen-results li.disabled-result {
display: list-item;
color: #ccc;
cursor: default;
}
.chosen-container .chosen-results li.highlighted {
background-color: #3875d7;
background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(20%, #3875d7), color-stop(90%, #2a62bc));
background-image: -webkit-linear-gradient(#3875d7 20%, #2a62bc 90%);
background-image: -moz-linear-gradient(#3875d7 20%, #2a62bc 90%);
background-image: -o-linear-gradient(#3875d7 20%, #2a62bc 90%);
background-image: linear-gradient(#3875d7 20%, #2a62bc 90%);
color: #fff;
}
.chosen-container .chosen-results li.no-results {
color: #777;
display: list-item;
background: #f4f4f4;
}
.chosen-container .chosen-results li.group-result {
display: list-item;
font-weight: bold;
cursor: default;
}
.chosen-container .chosen-results li.group-option {
padding-left: 15px;
}
.chosen-container .chosen-results li em {
font-style: normal;
text-decoration: underline;
}

/* @end */
/* @group Multi Chosen */
.chosen-container-multi .chosen-choices {
position: relative;
overflow: hidden;
margin: 0;
padding: 0 5px;
width: 100%;
height: auto;
border: 1px solid #aaa;
background-color: #fff;
background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(1%, #eeeeee), color-stop(15%, #ffffff));
background-image: -webkit-linear-gradient(#eeeeee 1%, #ffffff 15%);
background-image: -moz-linear-gradient(#eeeeee 1%, #ffffff 15%);
background-image: -o-linear-gradient(#eeeeee 1%, #ffffff 15%);
background-image: linear-gradient(#eeeeee 1%, #ffffff 15%);
cursor: text;
}
.chosen-container-multi .chosen-choices li {
float: left;
list-style: none;
}
.chosen-container-multi .chosen-choices li.search-field {
margin: 0;
padding: 0;
white-space: nowrap;
}
.chosen-container-multi .chosen-choices li.search-field input[type="text"] {
margin: 1px 0;
padding: 0;
height: 25px;
outline: 0;
border: 0 !important;
background: transparent !important;
box-shadow: none;
color: #999;
font-size: 100%;
font-family: sans-serif;
line-height: normal;
border-radius: 0;
}
.chosen-container-multi .chosen-choices li.search-choice {
position: relative;
margin: 3px 5px 3px 0;
padding: 3px 20px 3px 5px;
border: 1px solid #aaa;
max-width: 100%;
border-radius: 3px;
background-color: #eeeeee;
background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(20%, #f4f4f4), color-stop(50%, #f0f0f0), color-stop(52%, #e8e8e8), color-stop(100%, #eeeeee));
background-image: -webkit-linear-gradient(#f4f4f4 20%, #f0f0f0 50%, #e8e8e8 52%, #eeeeee 100%);
background-image: -moz-linear-gradient(#f4f4f4 20%, #f0f0f0 50%, #e8e8e8 52%, #eeeeee 100%);
background-image: -o-linear-gradient(#f4f4f4 20%, #f0f0f0 50%, #e8e8e8 52%, #eeeeee 100%);
background-image: linear-gradient(#f4f4f4 20%, #f0f0f0 50%, #e8e8e8 52%, #eeeeee 100%);
background-size: 100% 19px;
background-repeat: repeat-x;
background-clip: padding-box;
box-shadow: 0 0 2px white inset, 0 1px 0 rgba(0, 0, 0, 0.05);
color: #333;
line-height: 13px;
cursor: default;
}
.chosen-container-multi .chosen-choices li.search-choice span {
word-wrap: break-word;
}
.chosen-container-multi .chosen-choices li.search-choice .search-choice-close {
position: absolute;
top: 4px;
right: 3px;
display: block;
width: 12px;
height: 12px;
background: url('chosen-sprite.png') -42px 1px no-repeat;
font-size: 1px;
}
.chosen-container-multi .chosen-choices li.search-choice .search-choice-close:hover {
background-position: -42px -10px;
}
.chosen-container-multi .chosen-choices li.search-choice-disabled {
padding-right: 5px;
border: 1px solid #ccc;
background-color: #e4e4e4;
background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(20%, #f4f4f4), color-stop(50%, #f0f0f0), color-stop(52%, #e8e8e8), color-stop(100%, #eeeeee));
background-image: -webkit-linear-gradient(#f4f4f4 20%, #f0f0f0 50%, #e8e8e8 52%, #eeeeee 100%);
background-image: -moz-linear-gradient(#f4f4f4 20%, #f0f0f0 50%, #e8e8e8 52%, #eeeeee 100%);
background-image: -o-linear-gradient(#f4f4f4 20%, #f0f0f0 50%, #e8e8e8 52%, #eeeeee 100%);
background-image: linear-gradient(#f4f4f4 20%, #f0f0f0 50%, #e8e8e8 52%, #eeeeee 100%);
color: #666;
}
.chosen-container-multi .chosen-choices li.search-choice-focus {
background: #d4d4d4;
}
.chosen-container-multi .chosen-choices li.search-choice-focus .search-choice-close {
background-position: -42px -10px;
}
.chosen-container-multi .chosen-results {
margin: 0;
padding: 0;
}
.chosen-container-multi .chosen-drop .result-selected {
display: list-item;
color: #ccc;
cursor: default;
}

/* @end */
/* @group Active */
.chosen-container-active .chosen-single {
border: 1px solid #5897fb;
box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
}
.chosen-container-active.chosen-with-drop .chosen-single {
border: 1px solid #aaa;
-moz-border-radius-bottomright: 0;
border-bottom-right-radius: 0;
-moz-border-radius-bottomleft: 0;
border-bottom-left-radius: 0;
background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(20%, #eeeeee), color-stop(80%, #ffffff));
background-image: -webkit-linear-gradient(#eeeeee 20%, #ffffff 80%);
background-image: -moz-linear-gradient(#eeeeee 20%, #ffffff 80%);
background-image: -o-linear-gradient(#eeeeee 20%, #ffffff 80%);
background-image: linear-gradient(#eeeeee 20%, #ffffff 80%);
box-shadow: 0 1px 0 #fff inset;
}
.chosen-container-active.chosen-with-drop .chosen-single div {
border-left: none;
background: transparent;
}
.chosen-container-active.chosen-with-drop .chosen-single div b {
background-position: -18px 2px;
}
.chosen-container-active .chosen-choices {
border: 1px solid #5897fb;
box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
}
.chosen-container-active .chosen-choices li.search-field input[type="text"] {
color: #222 !important;
}

/* @end */
/* @group Disabled Support */
.chosen-disabled {
opacity: 0.5 !important;
cursor: default;
}
.chosen-disabled .chosen-single {
cursor: default;
}
.chosen-disabled .chosen-choices .search-choice .search-choice-close {
cursor: default;
}

/* @end */
/* @group Right to Left */
.chosen-rtl {
text-align: right;
}
.chosen-rtl .chosen-single {
overflow: visible;
padding: 0 8px 0 0;
}
.chosen-rtl .chosen-single span {
margin-right: 0;
margin-left: 26px;
direction: rtl;
}
.chosen-rtl .chosen-single-with-deselect span {
margin-left: 38px;
}
.chosen-rtl .chosen-single div {
right: auto;
left: 3px;
}
.chosen-rtl .chosen-single abbr {
right: auto;
left: 26px;
}
.chosen-rtl .chosen-choices li {
float: right;
}
.chosen-rtl .chosen-choices li.search-field input[type="text"] {
direction: rtl;
}
.chosen-rtl .chosen-choices li.search-choice {
margin: 3px 5px 3px 0;
padding: 3px 5px 3px 19px;
}
.chosen-rtl .chosen-choices li.search-choice .search-choice-close {
right: auto;
left: 4px;
}
.chosen-rtl.chosen-container-single-nosearch .chosen-search,
.chosen-rtl .chosen-drop {
left: 9999px;
}
.chosen-rtl.chosen-container-single .chosen-results {
margin: 0 0 4px 4px;
padding: 0 4px 0 0;
}
.chosen-rtl .chosen-results li.group-option {
padding-right: 15px;
padding-left: 0;
}
.chosen-rtl.chosen-container-active.chosen-with-drop .chosen-single div {
border-right: none;
}
.chosen-rtl .chosen-search input[type="text"] {
padding: 4px 5px 4px 20px;
background: white url('chosen-sprite.png') no-repeat -30px -20px;
background: url('chosen-sprite.png') no-repeat -30px -20px;
direction: rtl;
}
.chosen-rtl.chosen-container-single .chosen-single div b {
background-position: 6px 2px;
}
.chosen-rtl.chosen-container-single.chosen-with-drop .chosen-single div b {
background-position: -12px 2px;
}

/* @end */
/* @group Retina compatibility */
@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (min-resolution: 144dpi), only screen and (min-resolution: 1.5dppx) {
.chosen-rtl .chosen-search input[type="text"],
.chosen-container-single .chosen-single abbr,
.chosen-container-single .chosen-single div b,
.chosen-container-single .chosen-search input[type="text"],
.chosen-container-multi .chosen-choices .search-choice .search-choice-close,
.chosen-container .chosen-results-scroll-down span,
.chosen-container .chosen-results-scroll-up span {
background-image: url('chosen-sprite@2x.png') !important;
background-size: 52px 37px !important;
background-repeat: no-repeat !important;
}
}
/* @end */


--------我是分隔線--------我是分隔線--------我是分隔線--------

<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>chosen下拉框搜尋</title>
<link rel="stylesheet" href="css/chosen.css" />
<style>
select{
width: 200px;
}
</style>
</head>
<body>

<select name="test" data-placeholder="選擇地址" id="test" class="test"> 
<option value="%">請選擇縣市...</option>
<option value="基隆市" >基隆市</option>
<option value="臺北市" >臺北市</option>
<option value="新北市" >新北市</option>
<option value="桃園市" >桃園市</option>
<option value="新竹市" >新竹市</option>
<option value="新竹縣" >新竹縣</option>
<option value="苗栗縣" >苗栗縣</option>
<option value="臺中市" >臺中市</option>
<option value="彰化縣" >彰化縣</option>
<option value="南投縣" >南投縣</option>
<option value="雲林縣" >雲林縣</option>
<option value="嘉義市" >嘉義市</option>
<option value="嘉義縣" >嘉義縣</option>
<option value="臺南市" >臺南市</option>
<option value="高雄市" >高雄市</option>
<option value="屏東縣" >屏東縣</option>
<option value="臺東縣" >臺東縣</option>
<option value="花蓮縣" >花蓮縣</option>
<option value="宜蘭縣" >宜蘭縣</option>
<option value="澎湖縣" >澎湖縣</option>
<option value="金門縣" >金門縣</option>
<option value="連江縣" >連江縣</option>
<option value="a123">a123</option>
<option value="b345">b345</option>
<option value="c3567">c3567</option>
<option value="d13555">d13555</option>
<option value="f7878">f7878</option>
</select>

<script src="js/jquery.js"></script>
<script src="js/chosen.jquery.js"></script>
<script>
$(function(){
$('.test,.dept_select').chosen({
search_contains: true
});
});
</script>
</body>
</html>

--------我是分隔線--------我是分隔線--------我是分隔線--------

https://harvesthq.github.io/chosen/

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
$m=$_POST['total'];
$a=$m*(9/10);
$b=$m*(85/100);
$c=$m*(8/10);
$d=$m*(75/100);

if($m<2000){
echo "打折後金額為 $a 元";}
elseif($m>=2000){
echo "打折後金額為 $b 元";}
elseif($m>=3000){
echo"打折後金額為 $c 元";}
elseif($m>=5000){
echo "打折後金額為 $d 元";}
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form id="form1" name="form1" method="post" action="hw3-3_1_proc.php">
<p>百貨公司週年慶~消費滿額即打折</p>
<p>購物金額小於2000元打九折<br />
</p>
<p>購物金額滿2000元打八五折</p>
<p>滿3000元打八折</p>
<p>滿5000元打七五折</p>
<p>
<label for="total">購物總金額</label>
<input type="text" name="total" id="total" />
<input type="submit" name="button" id="button" value="送出" />
</p>
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form id="form1" name="form1" method="post">
<fieldset>
<legend>訂購人</legend>
<p>
<label for="user">姓名:</label>
<input type="text" name="user" id="user">
</p>
<p>
<label for="email">Email:</label>
<input type="email" name="email" id="email">
</p>
</fieldset>

<button type="button" onClick="formcheck()">同訂購人</button>

<fieldset>
<legend>收件人</legend>
<p>
<label for="user2">姓名:</label>
<input type="text" name="user2" id="user2">
</p>
<p>
<label for="email2">Email:</label>
<input type="email" name="email2" id="email2">
</p>
</fieldset>
<input type="submit" value="送出">
</form>


<script>
function formcheck(){
var user_element=document.getElementById("user");
var user=user_element.value;
var email_element=document.getElementById("email");
var email=email_element.value;

document.form1.user2.value=user;
document.form1.email2.value=email;
}
</script>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form id="form1" name="form1" method="post">
<fieldset>
<legend>訂購人</legend>
<p>
<label for="user">姓名:</label>
<input type="text" name="user" id="user">
</p>
<p>
<label for="email">Email:</label>
<input type="email" name="email" id="email">
</p>
</fieldset>
<button onClick="formcheck()">同訂購人</button>
<fieldset>
<legend>收件人</legend>
<p>
<label for="user2">姓名:</label>
<input type="text" name="user2" id="user2">
</p>
<p>
<label for="email2">Email:</label>
<input type="email" name="email2" id="email2">
</p>
</fieldset>
<input type="submit" value="送出">
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
$f=$_POST['F'];
$c=($f-35)*5/9;

echo "攝氏為 $c 度";
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
$c=$_POST['C'];
$f=$c*(9/5)+32;

echo "華氏為 $f 度";
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form id="form1" name="form1" method="post" action="hw3-2_f.php">
<p>攝氏轉華氏</p>
<p>
<label for="C">攝氏</label>
<input type="text" name="C" id="C" />
<input type="submit" name="button" id="button" value="送出" />
</p>
</form>
<form id="form2" name="form2" method="post" action="hw3-2_c.php">
<p>華氏轉攝氏
</p>
<p>
<label for="F">華氏</label>
<input type="text" name="F" id="F" />
<input type="submit" name="button2" id="button2" value="送出" />
</p>
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
$a=$_GET['num1'];
$b=$_GET['num2'];
$c=$_GET['num3'];

if($a>=$b && $a>=$c){
echo "整數1: $a 為最大整數<br>";
if($a==$b){
echo "整數2: $b 也為最大整數<br>";
}
if($a==$c){
echo "整數3: $c 也為最大整數<br>";
}
}
elseif($b>=$c && $b>=$a){
echo "整數2: $b 為最大整數<br>";
if($b==$c){
echo "整數3: $c 也為最大整數<br>";
}
if($b==$a){
echo "整數1: $a 也為最大整數<br>";
} 
}
elseif($c>=$a && $c>=$b){
echo "整數3: $c 為最大整數<br>";
if($c==$a){
echo "整數1: $a 也為最大整數<br>";
}
if($c==$b){
echo "整數2: $b 也為最大整數<br>";
} 
} 
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

/* 左宏昌PHP作業 3-1 */ 
<?php
if(isset($_POST["num1"]) && isset($_POST["num2"]) && isset($_POST["num3"]))
{
$n1=$_POST["num1"];
$n2=$_POST["num2"];
$n3=$_POST["num3"];

if($n1 > $n2)
{
$t=$n1;
$n1=$n2;
$n2=$t;
}
if($n2 > $n3)
{
$t=$n2;
$n2=$n3;
$n3=$t;
}
if($n1 > $n2)
{
$t=$n1;
$n1=$n2;
$n2=$t;
}	
echo $n1." < ".$n2." < ".$n3;
}

?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
$a=$_GET['num1'];
$b=$_GET['num2'];
$c=$_GET['num3'];

if($a>$b && $a>$c){
echo "整數1: $a 為最大整數";
}
if($b>$c && $b>$a){
echo "整數2: $b 為最大整數";
}
if($c>$a && $c>$b){
echo "整數3: $c 為最大整數";
} 
?> 

--------我是分隔線--------我是分隔線--------我是分隔線--------

<p>請輸入三個整數：</p>
<form id="form1" name="form1" method="get" action="hw3-1_proc.php">
<p>
<label for="num1">整數 1：</label>
<input type="text" name="num1" id="num1" />
<label for="num2">整數 2：</label>
<input type="text" name="num2" id="num2" />
<label for="num3">整數 3：</label>
<input type="text" name="num3" id="num3" />
</p>
<p>
<label for="button"></label>
<input type="submit" name="button" id="button" value="按下我比較大小" />
<label for="button2"></label>
<input type="submit" name="button2" id="button2" value="再試一次" />
</p>
</form>

2018/05/25--------我是分隔線--------我是分隔線--------我是分隔線--------








2018/05/23--------我是分隔線--------我是分隔線--------我是分隔線--------

<button onClick="history.back()">&larr;</button>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?
$num=$_POST['num'];
echo "您輸入的數字為：".$num."<br>";
if($num%3==0 && $num%5==0){	echo "此數為3跟5的公倍數"."<br>";	}
elseif($num%3==0){	echo "此數為3的倍數"."<br>";	}
elseif($num%5==0){	echo "此數為5的倍數"."<br>";	}
else{echo "此數皆不為3跟5的倍數"."<br>";	}
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?
$num=$_POST['num'];
echo "您輸入的數字為：".$num."<br>";
if($num%2==0){
echo "此數為偶數"."<br>";	
}else{
echo "此數為奇數"."<br>";	
}	
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form id="form1" name="form1" method="post" action="test_proc.php">
<fieldset>
<legend>請輸入一個數字：</legend>
<input type="number" name="num" id="num">

<input type="submit" value="送出">
</fieldset>
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>PHP作業</title>
</head>

<body>
<h1>PHP作業</h1>
<hr>
<h1>第2章作業</h1>
<!--a[href=ch02/hw2-$.php]{題目2-$}*6-->
<a href="ch02/hw2-1.php">題目2-1</a>
<a href="ch02/hw2-2.php">題目2-2</a>
<a href="ch02/hw2-3.php">題目2-3</a>
<a href="ch02/hw2-4.php">題目2-4</a>
<a href="ch02/hw2-5.php">題目2-5</a>
<a href="ch02/hw2-6.php">題目2-6</a>
</body>
</html>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
$name = "阿財"; //姓名(字串 string)
$year	= 4; //年級別(整數integer)
$height	= 150; //身高(整數integer)
define("sex","男");	//常數宣告(常數名稱,內容)

echo "姓名: $name<br/>";
echo "年級別: $year<br/>";
echo "身高: $height<br/>";
echo "性別: ".sex."<br/>";
echo "符合資格否：".($height >= 150 && $year > 4 || sex == "男")."<p>";
echo "<hr/>";	

$name = "小美"; //姓名(字串 string)
$year	= 5; //年級別(整數integer)
$height	= 151; //身高(整數integer)
define("sex1","女");	//常數宣告(常數名稱,內容)

echo "姓名: $name<br/>";
echo "年級別: $year<br/>";
echo "身高: $height<br/>";
echo "性別: ".sex1."<br/>";
echo "符合資格否：".($height >= 150 && $year > 4 || sex1 == "男")."<p>";
echo "<hr/>";

$name = "麗麗"; //姓名(字串 string)
$year	= 4;	//年級別(整數integer)
$height	= 160; //身高(整數integer)
define("sex2","女");	//常數宣告(常數名稱,內容)

echo "姓名: $name<br/>";
echo "年級別: $year<br/>";
echo "身高: $height<br/>";
echo "性別: ".sex2."<br/>";
echo "符合資格否：".($height >= 150 && $year > 4 || sex2 == "男")."<p>";
echo "<hr/>";
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
$s= "Gjun";
$a= 30;
$b= "週年慶感恩回饋活動";
$ans= $s.$a.$b;
echo $ans;
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
$p=$_POST['price'];
$a=$_POST['amount'];
echo "單價為：".$p."元<br>";
echo "數量為：".$a."盒<br>";
$total=$p*$a;
echo "合計為：".$total."元";
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form id="form1" name="form1" method="post" action="hw2-4_POST.php">
<p>
<label for="price">單價：</label>
<input type="text" name="price" id="price" />
<p>
<label for="amount">數量：</label>
<select name="amount" id="amount">
<option>請選擇數量...</option>
<option value="1">1盒</option>
<option value="2">2盒</option>
</select>
</p>
<p>
<label for="button"></label>
<input type="submit" name="button" id="button" value="送出" />
<label for="button2"></label>
<input type="reset" name="button2" id="button2" value="重設" />
</p>
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
$a= 3;
$b= $a++;
echo "a= $a , b= $b";
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
define("Gjun","巨匠電腦認證中心");
echo __FILE__;	//輸出檔案之絕對路徑及檔名
echo "<br />";
echo Gjun;
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>HW 2-1</title>
</head>

<body>
<?php
$age=9;
$year=3;
$height=129;
define("gender","男");
echo "小明今年 $age 歲，就讀巨匠小學 $year 年級感恩班，身高 $height 公分，是個可愛的小".gender."生。";
?>
<hr>
<p><code>&lt;?php<br>
$age=9;<br>
$year=3;<br>
$height=129;<br>
define(&quot;gender&quot;,&quot;男&quot;);<br>
echo &quot;小明今年 $age 歲，就讀巨匠小學 $year 年級感恩班，身高 $height 公分，是個可愛的小&quot;.gender.&quot;生。&quot;;<br>
?&gt;</code></p>
</body>
</html>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?php
$age=9;
$year=3;
$height=129;
define("gender","男");
echo "小明今年 $age 歲，就讀巨匠小學 $year 年級感恩班，身高 $height 公分，是個可愛的小".gender."生。";
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

http://cpanel.byethost.com

2018/05/23--------我是分隔線--------我是分隔線--------我是分隔線--------









2018/05/18--------我是分隔線--------我是分隔線--------我是分隔線--------

<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<title>無標題文件</title>
<link rel="stylesheet" href="css/style.css">
</head>

<body>
<form id="form1" name="form1" method="get" action="test04_Proc.php">
<fieldset>
<legend>滿意度調查</legend>

<p>請留下您的聯絡資訊：</p>
<p>
<label for="user">姓名：</label>
<input name="user" type="text" required="required" id="user" placeholder="必填" tabindex="1" onFocus="MM_setTextOfLayer('useralert','','請輸入8-16個字元~~~')" onBlur="MM_setTextOfLayer('useralert','','')"> <span id="useralert"></span>
</p>
<p>
性別：
<label>
<input type="radio" name="RadioGroup1" value="M" id="RadioGroup1_0">
男</label>

<label>
<input type="radio" name="RadioGroup1" value="F" id="RadioGroup1_1">
女</label>
<br>
</p>
<p>
<label for="url">URL：</label>
<input name="url" type="url" required="required" id="url" tabindex="3">
</p>
<p>
<label for="mail">E-mail：</label>
<input name="mail" type="email" required="required" id="mail" tabindex="2">
</p>
<p>您最喜歡XXX的哪項設計？</p> 
<p>
<label>
<input type="checkbox" name="A" value="Y" id="CheckboxGroup1_0">
版面設計</label>
<br>
<label>
<input type="checkbox" name="B" value="Y" id="CheckboxGroup1_1">
美工圖案</label>
<br>
<label>
<input type="checkbox" name="C" value="Y" id="CheckboxGroup1_2">
文字敘述</label>
<br>
</p>
<p>
select>option[value=$@1900]{$@1900}*100
</p>
<p>
<label for="datetime-local">DateTime-Local:</label>
<input type="datetime-local" name="datetime-local" id="datetime-local">
</p>
<p>
<label for="range">Range:</label>
<input type="range" name="range" id="range">
</p>
<p>
<label for="color">Color:</label>
<input type="color" name="color" id="color">
</p>
<hr>
<label for=""><input type="checkbox" name="agree" id="">我同意</label>



<p>
<input type="submit" name="submit" id="submit" value="送出"> 
</p>




</fieldset>
</form>
<!--<p>姓名： <input type="text" name="user" id="user"></p>-->
<hr>
請問您對XXX的整體滿意度？

　 非常滿意　 滿意　 普通　 不滿意　 非常不滿意



　 

內容編製 　其他： 

請留下您對XXX的看法及建議：






　 

　

訂閱電子報。
<script type="text/javascript">
function MM_setTextOfLayer(objId,x,newText) { //v9.0
with (document) if (getElementById && ((obj=getElementById(objId))!=null))
with (obj) innerHTML = unescape(newText);
}
</script>
</body>
</html>

--------我是分隔線--------我是分隔線--------我是分隔線--------

select>option[value=$@1900]{$@1900}*100

--------我是分隔線--------我是分隔線--------我是分隔線--------

<p>您最喜歡XXX的哪項設計？</p> 
<p>
<label>
<input type="checkbox" name="A" value="Y" id="CheckboxGroup1_0">
版面設計</label>
<br>
<label>
<input type="checkbox" name="B" value="Y" id="CheckboxGroup1_1">
美工圖案</label>
<br>
<label>
<input type="checkbox" name="C" value="Y" id="CheckboxGroup1_2">
文字敘述</label>
<br>
</p>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<p>
性別：
<label>
<input type="radio" name="RadioGroup1" value="M" id="RadioGroup1_0">
男</label>

<label>
<input type="radio" name="RadioGroup1" value="F" id="RadioGroup1_1">
女</label>
<br>
</p>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?
$user=$_GET['user'];
$url=$_GET['url'];
$mail=$_GET['mail'];


echo "姓名： $user"."<br>";
echo "網址： <a href='$url'>$url</a>"."<br>";
echo "E-Mail： <a href='mailto:$mail'>$mail</a>"."<br>";
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<input name="user" type="text" required="required" id="user" placeholder="必填" tabindex="1" onFocus="MM_setTextOfLayer('useralert','','請輸入8-16個字元~~~')" onBlur="MM_setTextOfLayer('useralert','','')">

--------我是分隔線--------我是分隔線--------我是分隔線--------

onBlur="MM_setTextOfLayer('useralert','','')"

--------我是分隔線--------我是分隔線--------我是分隔線--------

<script type="text/javascript">
function MM_setTextOfLayer(objId,x,newText) { //v9.0
with (document) if (getElementById && ((obj=getElementById(objId))!=null))
with (obj) innerHTML = unescape(newText);
}
</script>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form id="form1" name="form1" method="post" action="">
<fieldset>
<legend>滿意度調查</legend>

<p>請留下您的聯絡資訊：</p>
<p>
<label for="user">姓名：</label>
<input name="user" type="text" required="required" id="user" placeholder="必填" tabindex="1" onFocus="MM_setTextOfLayer('useralert','','請輸入8-16個字元~~~')"> <span id="useralert"></span>
</p>
<p>
<label for="url">URL：</label>
<input name="url" type="url" required="required" id="url" tabindex="3">
</p>
<p>
<label for="mail">E-mail：</label>
<input name="mail" type="email" required="required" id="mail" tabindex="2">
</p>
<p>
<input type="submit" name="submit" id="submit" value="送出"> 
</p>

</fieldset>	
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

label:before{content:"*";}

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form id="form1" name="form1" method="post" action="">
<fieldset>
<legend>滿意度調查</legend>

<p>請留下您的聯絡資訊：</p>
<p>
<label for="user">姓名：</label>
<input name="user" type="text" required="required" id="user" placeholder="必填" tabindex="1">
</p>
<p>
<label for="url">URL：</label>
<input name="url" type="url" id="url" tabindex="3">
</p>
<p>
<label for="mail">E-mail： </label>
<input name="mail" type="email" id="mail" tabindex="2">
</p>
<p>
<input type="submit" name="submit" id="submit" value="送出"> 
</p>

</fieldset>	
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form id="form1" name="form1" method="post" action="">
<fieldset>
<legend>滿意度調查</legend>

<p>請留下您的聯絡資訊：</p>
<p>
<label for="user">姓名：</label>
<input type="text" name="user" id="user">
</p>
<p>
<label for="url">URL：</label>
<input type="url" name="url" id="url">
</p>
<p>
<label for="mail">E-mail： </label>
<input type="email" name="mail" id="mail">
</p>
<p>
<input type="submit" name="submit" id="submit" value="送出"> 
</p>

<!--<p>姓名： <input type="text" name="user" id="user"></p>-->



</fieldset>	
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form id="form1" name="form1" method="post" action="">
<fieldset>
<legend>滿意度調查</legend>

<p>請留下您的聯絡資訊：</p>
<p>
<label for="user">姓名：</label>
<input type="text" name="user" id="user">
</p>
<p>
<label for="url">URL：</label>
<input type="url" name="url" id="url">
</p>
<p>
<label for="mail">E-mail： </label>
<input type="email" name="mail" id="mail">
</p>

<!--<p>姓名： <input type="text" name="user" id="user"></p>-->



</fieldset>	
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<p>請留下您的聯絡資訊：</p>
<p>
<label for="user">姓名：</label>
<input type="text" name="user" id="user">
</p>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form id="form1" name="form1" method="post" action="">
<fieldset>
<legend>基本資料</legend>
</fieldset>	
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form id="form1" name="form1" method="post" action="">
</form>

2018/05/18--------我是分隔線--------我是分隔線--------我是分隔線--------









2018/05/16--------我是分隔線--------我是分隔線--------我是分隔線--------

<?
$name=$_GET['user'];
$mail=$_GET['mail'];

echo "您的姓名".$name."<br>";
echo "您的e-mail".$mail."<br>";
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form action="test03_GET.php">
姓名： <input type="text" name="user" id=""> <br>
E-Mail： <input type="email" name="mail" id=""> <br>
<input type="submit" value="送出"> <br>
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<form action="">
姓名： <input type="text" name="" id=""> <br>
E-Mail： <input type="mail" name="" id=""> <br>
<input type="submit" value="送出"> <br>
</form>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<!--<script>
var age=window.prompt("How OLD R U??");

document.write("yes"+age);
</script>-->


<?
//echo "How OLD R U??";

$age=10;

echo "$age";
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------

<?
echo "<h1>HELLO</h1>";
?>

--------我是分隔線--------我是分隔線--------我是分隔線--------


https://www.adobe.com/tw/products/xd.html

--------我是分隔線--------我是分隔線--------我是分隔線--------

(marquee>h${標題$}*6)+(marquee[direction=right]>h$@-{標題$@-}*6)

marquee>h${標題$}*6^marquee[direction=right]>h$@-{標題$@-}*6

--------我是分隔線--------我是分隔線--------我是分隔線--------

marquee[direction=right]>h${標題$}*6
<marquee direction="right">
<h1>標題1</h1>
<h2>標題2</h2>
<h3>標題3</h3>
<h4>標題4</h4>
<h5>標題5</h5>
<h6>標題6</h6>
</marquee>

--------我是分隔線--------我是分隔線--------我是分隔線--------

https://docs.emmet.io/cheat-sheet/

--------我是分隔線--------我是分隔線--------我是分隔線--------

marquee>h1{標題1}+p{lorem}

2018/05/16--------我是分隔線--------我是分隔線--------我是分隔線--------
































































































































2017/03/26----------我是分隔線----------我是分隔線----------我是分隔線

orderShipment.php(存檔至 Admin 資料夾中)-----------------------------------------------
使用者驗證(限制存取頁面)
使用者名稱、密碼和存取層級：Y
前往：index.php

<h2>訂單出貨完成</h2>
<h5>該訂單已經完成出貨處理，畫面稍後自動轉回訂單處理。</h5>

※插入表單(文字欄位ID為oid、state)

繫結名稱：RecordShipment
表格：orders

※更新紀錄
更新表格~orders
O_id~整數
shipment~文字
更新後前往：orderForm.php

※更新語法，設計停轉頁面：
header(sprintf("refresh: 3; url=%s", $updateGoTo));

----------我是分隔線----------我是分隔線----------我是分隔線

<?php if ($totalRows_orderDetailsList > 0) { // Show if recordset not empty ?>
<h6>訂單編號：<?php echo $row_orderDetailsList['O_id']; ?></h6>
<form id="form1" method="post" action="">
<table width="100%" border="1" cellspacing="0" cellpadding="0" class="tt">
<tr>
<th scope="col"><p>商品編號</p></th>
<th scope="col"><p>商品名稱</p></th>
<th scope="col"><p>訂購量</p></th>
<th scope="col"><p>單價</p></th>
<th scope="col"><p>小計</p></th>
</tr>
<?php do { ?>
<tr>
<th scope="row"><?php echo $row_orderDetailsList['D_pid']; ?></th>
<td><p><?php echo $row_orderDetailsList['name']; ?></p></td>
<td><h4><?php echo $row_orderDetailsList['D_qty']; ?></h4></td>
<td><h5><?php echo $row_orderDetailsList['D_price']; ?></h5></td>
<td><h5><?php echo $row_orderDetailsList['subtotal']; ?></h5></td>
</tr>
<?php } while ($row_orderDetailsList = mysql_fetch_assoc($orderDetailsList)); ?>
<tr>
<td colspan="5" align="center"><input type="submit" name="button" id="button" value="確定出貨" /></td>
</tr>
</table>
</form>
<?php } // Show if recordset not empty ?>
<?php if ($totalRows_orderDetailsList == 0) { // Show if recordset empty ?>
<table width="100%" border="0">
<tr>
<th scope="col"><h5>資料庫目前尚無訂單！</h5></th>
</tr>
</table>
<?php } // Show if recordset empty ?>

----------我是分隔線----------我是分隔線----------我是分隔線


繫結名稱：orderDetailsList
進階-->SQL語法：(計算小計欄位)
SELECT orderdetail.*,name, (D_qty * D_price) as subtotal
FROM orderdetail, product
WHERE orderdetail.D_pid = product.id AND orderdetail.O_id=oid
ORDER BY D_id ASC

變數的參數設定：
　　名稱(欄位名稱)：oid
　　類型：Integer
　　預設值：0
　　執行階段值：$_REQUEST['oid']

orderProcess.php(存檔至 Admin 資料夾中)--------------------------------------------

使用者驗證(限制存取頁面)
使用者名稱、密碼和存取層級：Y
前往：index.php
----------------------------------------------------------------------------------------------
<h2>訂單詳細/出貨</h2>
<h3>查看訂單詳細資料，同時可以將該訂單設定為出貨。</h3>
<p>&nbsp;</p>
<h6>訂單編號：</h6>
<form id="form1" method="post" action="">
<table width="100%" border="1" cellspacing="0" cellpadding="0" class="tt">
<tr>
<th scope="col"><p>商品編號</p></th>
<th scope="col"><p>商品名稱</p></th>
<th scope="col"><p>訂購量</p></th>
<th scope="col"><p>單價</p></th>
<th scope="col"><p>小計</p></th>
</tr>
<tr>
<th scope="row"></th>
<td><p>&nbsp;</p></td>
<td><h4></h4></td>
<td><h5></h5></td>
<td><h5></h5></td>
</tr>
<tr>
<td colspan="5" align="center">
<input type="submit" name="button" id="button" value="確定出貨" /></td>
</tr>
</table>
</form>


<table width="100%" border="0">
<tr>
<th scope="col"><h5>資料庫目前尚無訂單！</h5></th>
</tr>
</table>

----------我是分隔線----------我是分隔線----------我是分隔線

※插入表格(2*5)
※置換表格第一列語法：
<tr>
<th align="center"><p>訂單編號</p></th>
<th align="center"><p>會員ID</p></th>
<th align="center"><p>訂購日期</p></th>
<th align="center"><p>出貨否</p></th>
<th align="center"><p>出貨/詳細</p></th>
</tr>

※置換表格第二列語法，而最後一格置入為表單按鈕：
<tr>
<td align="center"><p><?php echo $row_ordersList['O_id']; ?></p></td>
<td align="center"><p><?php echo $row_ordersList['userid']; ?></p></td>
<td align="center"><h4><?php echo $row_ordersList['orderDate']; ?></h4></td>
<td align="center"><h5><?php echo $row_ordersList['shipment']; ?></h5></td>
<td align="center"><button type="submit">出貨/詳細</button></td>
</tr>

※將表單語法包覆第二列：
<form id="form1" method="POST" action=""> 
<tr>
<td align="center"><p><?php echo $row_ordersList['O_id']; ?></p></td>
<td align="center"><p><?php echo $row_ordersList['userid']; ?></p></td>
<td align="center"><h4><?php echo $row_ordersList['orderDate']; ?></h4></td>
<td align="center"><h5><?php echo $row_ordersList['shipment']; ?></h5></td>
<td align="center"><button type="submit">出貨/詳細</button></td>
</tr>
</form>
----------------------------------------------------------------------------------------------
※注意重複及空值的語法位置問題！
----------------------------------------------------------------------------------------------
※若無資料集紀錄：
<table width="100%" border="0">
<tr>
<th scope="col"><h5>資料庫目前尚無訂單！</h5></th>
</tr>
</table>
----------------------------------------------------------------------------------------------
※插入隱藏欄位oid(來自$row_ordersList['O_id'])：

<input name="oid" type="hidden" id="oid" value="<?php echo $row_ordersList['O_id']; ?>" />
----------------------------------------------------------------------------------------------
語法完成後：

<?php if ($totalRows_ordersList > 0) { // Show if recordset not empty ?>
<table width="100%" border="1" cellspacing="0" cellpadding="0">
<tr>
<th align="center"><p>訂單編號</p></th>
<th align="center"><p>會員ID</p></th>
<th align="center"><p>訂購日期</p></th>
<th align="center"><p>出貨否</p></th>
<th align="center"><p>出貨/詳細</p></th>
</tr>
<?php do { ?>
<form id="form1" method="POST" action="orderProcess.php"> 
<tr>
<td align="center"><p><?php echo $row_ordersList['O_id']; ?></p><input name="oid" type="hidden" id="oid" value="<?php echo $row_ordersList['O_id']; ?>" /></td>
<td align="center"><p><?php echo $row_ordersList['userid']; ?></p></td>
<td align="center"><h4><?php echo $row_ordersList['orderDate']; ?></h4></td>
<td align="center"><h5><?php echo $row_ordersList['shipment']; ?></h5></td>
<td align="center"><button type="submit">出貨/詳細</button></td>
</tr>
</form>
<?php } while ($row_ordersList = mysql_fetch_assoc($ordersList)); ?>
</table>
<?php } // Show if recordset not empty ?>
<p>&nbsp;</p>
<?php if ($totalRows_ordersList == 0) { // Show if recordset empty ?>
<table width="100%" border="0">
<tr>
<th scope="col"><h5>資料庫目前尚無訂單！</h5></th>
</tr>
</table>
<?php } // Show if recordset empty ?>

orderForm.php(存檔至 Admin 資料夾中)------------------------------------------------
使用者驗證(限制存取頁面)
使用者名稱、密碼和存取層級：Y
前往：index.php

<h2>會員訂單瀏覽</h2>
<h3>依訂單日期遞減排序，出貨處理或查看訂單細目請按下「出貨」按鈕。</h3>

繫結名稱：ordersList
表格：orders
篩選器：無
排序：orderDate;遞減

----------我是分隔線----------我是分隔線----------我是分隔線

建立 orders 訂單主檔資料表：----------------------------------------------------------------
(收件人聯絡電話 及 收件人行動電話 中文問題，各取代為phone及cellphone)

CREATE TABLE `orders` (
`O_id` int(11) NOT NULL auto_increment COMMENT '訂單主檔編號',
`O_name` varchar(20) NOT NULL COMMENT '收件人姓名',
`O_phone` varchar(13) default NULL COMMENT '收件人聯絡電話',
`O_cellphone` varchar(13) default NULL COMMENT '收件人行動電話',
`O_address` varchar(60) NOT NULL COMMENT '收件人地址',
`shipment` enum('Y','N') default 'N' COMMENT '出貨否',
`userid` varchar(20) NOT NULL COMMENT '訂購人會員ID',
`orderDate` datetime NOT NULL COMMENT '訂購日期',
PRIMARY KEY (`O_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=3 ;

-- 
-- 列出以下資料庫的數據： `orders`
-- 

INSERT INTO `orders` VALUES (1, '陳巨匠', '06-2200940', '0934-291130', '台南市公園路108號', 'N', 'weill', '2009-06-10 14:42:51');
INSERT INTO `orders` VALUES (2, '李家明', '04-2314320', '0912-211112', '台中市中正路一段15巷7號', 'N', 'irock', '2009-06-22 14:43:42');
----------------------------------------------------------------------------------------------

建立 orderdetail 訂單明細資料表：-----------------------------------------------------------

CREATE TABLE `orderdetail` (
`O_id` int(11) NOT NULL COMMENT '訂單編號',
`D_id` int(11) NOT NULL auto_increment COMMENT '訂單細目編號',
`D_pid` int(11) NOT NULL COMMENT '商品編號',
`D_qty` int(11) NOT NULL COMMENT '訂購數量',
`D_price` int(11) NOT NULL COMMENT '訂購金額',
PRIMARY KEY (`D_id`),
KEY `O_id` (`O_id`,`D_pid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=6 ;

-- 
-- 列出以下資料庫的數據： `orderdetail`
-- 

INSERT INTO `orderdetail` VALUES (1, 1, 14, 1, 680);
INSERT INTO `orderdetail` VALUES (1, 2, 12, 1, 1050);
INSERT INTO `orderdetail` VALUES (2, 3, 1, 1, 1470);
INSERT INTO `orderdetail` VALUES (2, 4, 5, 2, 1400);
INSERT INTO `orderdetail` VALUES (2, 5, 7, 1, 2150);
-----------------------------------------------------------------------------------------------

確認 product.php(在 Shop 資料夾中)-----------------------------------------------

訂購 按鈕設定：
連結至 ~
cart.php
參數 ~
id=<?php echo $row_productList['id']
add=additem

----------我是分隔線----------我是分隔線----------我是分隔線

設定 移除 按鈕：

連結至~
cart.php
參數~
id=<?php echo $item['id'];?>
remove=removeitem
----------------------------------------------------------------------------------------------
設定 清空購物車 按鈕：

連結至~
cart.php
參數~
empty=emptyitem

----------我是分隔線----------我是分隔線----------我是分隔線

※檢查是否空值的語法：
在 <table> 之前 ~

<?php
if($cart->itemcount > 0){
?>

在 </table> 之後 ~

<?php
}else{
echo "<h5>目前購物車中無任何商品！</h5>";
}
?>
----------------------------------------------------------------------------------------------
※個別放入資料繫結欄位：
在 <form method="get"> 之後 ~
<input type="hidden" name="id" value="<?php echo $item['id'];?>"/>

在 第二列前五格<td> 之中 ~
<td><?php echo $item['id']; ?></td>
<td><?php echo $item['info']; ?></td>
<td><input style="size:portrait" type="text" name="qty" value="<?php echo $item['qty'];?>" size="1"/></td>
<td><?php echo $item['price'];?></td>
<td><?php echo $item['subtotal'];?></td>

在 第三列清空購物車按鈕 之前 ~
<?php echo "<h5>總計:".$cart->total."</h5>"; ?>
----------------------------------------------------------------------------------------------
在 <form> 之前加入：

<?php
foreach($cart->get_contents() as $item){	
?>
----------------------------------------------------------------------------------------------
在 </form> 之後加入：
<?php
}
?>

----------我是分隔線----------我是分隔線----------我是分隔線

※在第二列前後，插入表單語法，並將方法改為 GET：
<form method="get">
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>
<button name="edit" value="更新" type="submit">更新</button>
<button value="移除" type="button">移除</button>
</td>
</tr>
</form>

----------我是分隔線----------我是分隔線----------我是分隔線


cart.php(存檔至 Shop 資料夾中)-----------------------------------------------

<h2>購物車</h2>
<h3>底下將列出您所購買的商品。</h3>

<table width="100%" border="0">
<tr>
<th scope="col"><p>商品編號</p></th>
<th scope="col"><p>商品名稱</p></th>
<th scope="col"><p>數量</p></th>
<th scope="col"><p>單價</p></th>
<th scope="col"><p>小計</p></th>
<th scope="col"><p>操作</p></th>
</tr> 
<tr>
<td align="center" scope="row">&nbsp;</td>
<td align="center">&nbsp;</td>
<td align="center">&nbsp;</td>
<td align="center">&nbsp;</td>
<td align="center">&nbsp;</td>
<td align="center">
<button name="edit" value="更新" type="submit">更新</button>
<button value="移除" type="button">移除</button></td>
</tr>
<tr>
<th colspan="6" align="center">
<button value="清空購物車" type="button">清空購物車</button>
<button value="結帳" type="button">結帳</button></th>
</tr>
</table>

----------我是分隔線----------我是分隔線----------我是分隔線

替換第一列語法：

<?php session_start();?>
<?php require_once('../Connections/shop.php'); ?>

成為~

<?php
require_once('../Connections/shop.php'); 
include('../cart/wfcart.php');
@session_start();
//將$cart的指標指向 Session
$cart =& $_SESSION['wfcart']; 
//若$cart不為物件，重新建立一個新的$cart物件
if(!is_object($cart)) $cart = new wfCart();
?>

在 <h2>購物車</h2> 之前，加入：

<?php
//檢查是否有項目要加入購物車
if($_GET['add'] && $_GET['id']!=NULL){
//查詢資料表資料並且加入購物車中
if($resource=mysql_query("select * from product where id=".$_GET['id'])){
$row = mysql_fetch_assoc($resource);	
$cart->add_item($row['id'],1,$row['price'],$row['name']);
}
}
//檢查購物車是否有數量要更新
if($_GET['edit'] && $_GET['id']!=NULL){
$rid = intval($_GET['id']);	
$qty = intval($_GET['qty']);
$cart->edit_item($rid,$qty);
}
//檢查購物車是否有項目要移除
if($_GET['remove'] && $_GET['id']!=NULL) {	
$rid = intval($_GET['id']);
$cart->del_item($rid);
}
//檢查是否要清空購物車
if($_GET['empty']!=NULL){
$cart->empty_cart();
}
?>
----------------------------------------------------------------------------------------------
※檢查是否空值的語法：
在 <table> 之前 ~

<?php
if($cart->itemcount > 0){
?>

在 </table> 之後 ~

<?php
}else{
echo "<h5>目前購物車中無任何商品！</h5>";
}
?>
2017/03/26----------我是分隔線----------我是分隔線----------我是分隔線












2017/03/19----------我是分隔線----------我是分隔線----------我是分隔線

if ((isset($_GET["MM_update"])) && ($_GET["MM_update"] == "form1")) {
$updateSQL = sprintf("UPDATE product SET `state`=%s WHERE id=%s",
GetSQLValueString($_GET['state'], "int"),
GetSQLValueString($_GET['id'], "int"));

----------我是分隔線----------我是分隔線----------我是分隔線

<button type="button" onclick="location.href='productStateProcess.php?id=<?php echo $row_productList['id']; ?>&state=1&MM_update=form1'">上架</button>

<button type="button" onclick="location.href='productStateProcess.php?id=<?php echo $row_productList['id']; ?>&state=0&MM_update=form1'">下架</button>

----------我是分隔線----------我是分隔線----------我是分隔線

productStateProcess.php(存檔至 Admin 資料夾中)------------------------------------------

使用者驗證(限制存取頁面)
使用者名稱、密碼和存取層級：Y
前往：index.php
----------------------------------------------------------------------------------------------
(※也可不作繫結)
繫結名稱：productList
表格：product
欄：思考全選 或 只選id及state
篩選器：無
排序：無
----------------------------------------------------------------------------------------------
※插入表單及兩個文字欄位(ID為id、state)

更新紀錄：
id及state 確認是否 送出為：整數
前往：productState.php

更新紀錄傳址語法設定：
將 POST 改為 GET

※思考表單 form1 是否有刪除必要!!

----------我是分隔線----------我是分隔線----------我是分隔線


<table width="100%" border="0">
<tr>
<th scope="col"><p>商品編號</p></th>
<th scope="col"><p>商品名稱</p></th>
<th align="right" scope="col"><p>狀態</p></th>
<th align="center" scope="col"><p>上架</p></th>
<th align="center" scope="col"><p>下架`</p></th>
</tr>
<?php do { ?>
<tr>
<th align="center" scope="row"><?php echo $row_productList['id']; ?></th>
<td><h4><?php echo $row_productList['name']; ?></h4></td>
<td align="right"><p><? if($row_productList['state']==0){echo '<h5>已下架</h5>';}else{echo '<h4>上架</h4>';} ?></p></td>
<td align="center"><button type="button" onclick="location.href='productStateProcess.php?xxxxx=0'">上架</button></td>
<td align="center"><button type="button" onclick="location.href='productStateProcess.php?xxxxx=1'">下架</button></td>
</tr>
<?php } while ($row_productList = mysql_fetch_assoc($productList)); ?>
</table>

----------我是分隔線----------我是分隔線----------我是分隔線

<table width="100%" border="0">
<tr>
<th scope="col"><p>商品編號</p></th>
<th scope="col"><p>商品名稱</p></th>
<th align="right" scope="col"><p>狀態</p></th>
<th align="center" scope="col"><p>上架</p></th>
<th align="center" scope="col"><p>下架`</p></th>
</tr>
<?php do { ?>
<tr>
<th align="center" scope="row"><?php echo $row_productList['id']; ?></th>
<td><h4><?php echo $row_productList['name']; ?></h4></td>
<td align="right"><p><?php echo $row_productList['state']; ?></p></td>
<td align="center"><button type="button">上架</button></td>
<td align="center"><button type="button">下架</button></td>
</tr>
<?php } while ($row_productList = mysql_fetch_assoc($productList)); ?>
</table>


----------我是分隔線----------我是分隔線----------我是分隔線



<table width="100%" border="0">
<tr>
<th scope="col"><p>商品編號</p></th>
<th scope="col"><p>商品名稱</p></th>
<th align="right" scope="col"><p>狀態</p></th>
<th align="center" scope="col"><p>上架</p></th>
<th align="center" scope="col"><p>下架`</p></th>
</tr>
<tr>
<th align="center" scope="row"></th>
<td></td>
<td align="right"></td>
<td align="center"><button type="button">上架</button></td>
<td align="center"><button type="button">下架</button></td>
</tr>
</table>

----------我是分隔線----------我是分隔線----------我是分隔線

productState.php(存檔至 Admin 資料夾中)-----------------------------------------------

※使用者驗證(限制存取頁面)
使用者名稱、密碼和存取層級：Y
前往：index.php
-------------------------------------------------------------------------------------------
<h2>商品上/下架處理</h2>
<h3>透過商品上/下架處理，可以決定商品目前是否提供訂購。</h3>
-------------------------------------------------------------------------------------------
繫結名稱：productList
表格：product
欄：全選
篩選器：無
排序：id;遞減

----------我是分隔線----------我是分隔線----------我是分隔線

productAddProcess.php(存檔至 Admin 資料夾中)--------------------------------------------

使用者驗證(限制存取頁面)
使用者名稱、密碼和存取層級：Y
前往：index.php
-------------------------------------------------------------------------------------------
<h2>商品新增處理已完成</h2>
<h3>商品圖片將存放至picture資料夾，副檔名統一採用「jpg」存放。</h3>
-------------------------------------------------------------------------------------------
在第1列加入：

<?php session_start();?>
<?php require_once('../Connections/shop.php'); ?>
-------------------------------------------------------------------------------------------
在 <h3> 後加入：

<?php 
//取得前一頁面傳遞的商品資料
$pname = $_POST['productName'];	//名稱
$pinfo = $_POST['productInfo'];	//詳細
$pprice = $_POST['productPrice'];	//單價
$pqty = $_POST['productQty'];	//數量

mysql_select_db($database_shop, $shop);

$sqlstr = "insert into product (name,introduce,price,qty) values('$pname','$pinfo',$pprice,$pqty)";
if(mysql_query($sqlstr)){
echo "<h5>記錄新增成功!</h5>";
}	
$pid = mysql_insert_id();	//取得剛新增記錄的自動編號


//透過$_FILES['xxx']讀取上傳檔案資料
$userfile = $_FILES["productImage"];
fileCopy($userfile,$pid);
deleteFile($userfile);
?>
-------------------------------------------------------------------------------------------
在 </html> 後加入：

<?php
//將上傳至暫存區中的檔案存至實際欲存放的目錄下
function fileCopy($file,$pid){
if(copy($file['tmp_name'],"../Shop/picture/$pid.jpg")){
echo "<h5>檔案上傳成功!</h5>";
}
}

//將檔案複製至實際目錄後，接著將暫存檔案刪除
function deleteFile($file){
unlink($file['tmp_name']);
}
?>

----------我是分隔線----------我是分隔線----------我是分隔線

※插入表單
※動作：productAddProcess.php
※方法：POST
※編碼類型：multipart/form-data
<form action="productAddProcess.php" method="post" enctype="multipart/form-data" id="form1">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<th width="25%" align="right" scope="col"><p>商品編號</p></th>
<th align="left" valign="middle" scope="col"><h5>採用自動編號、不需要填！</h5></th>
</tr>
<tr>
<th width="25%" align="right" scope="row"><p>商品名稱</p></th>
<td align="left" valign="top"><label>
<input name="productName" type="text" id="productName" size="36" />
</label></td>
</tr>
<tr>
<th width="25%" align="right" scope="row"><p>商品詳細介紹</p></th>
<td align="left" valign="top">
<textarea name="productInfo" id="productInfo" cols="40" rows="10"></textarea>
</td>
</tr>
<tr>
<th width="25%" align="right" scope="row"><p>單價</p></th>
<td align="left" valign="top">
<input name="productPrice" type="text" id="productPrice" size="10" />
</td>
</tr>
<tr>
<th width="25%" align="right" scope="row"><p>庫存量</p></th>
<td align="left" valign="top"><label>
<input name="productQty" type="text" id="productQty" size="6" />
</label></td>
</tr>
<tr>
<th width="25%" align="right" scope="row"><p>商品圖片</p></th>
<td align="left" valign="top">
<input type="file" name="productImage" id="productImage" />
</td>
</tr>
<tr>
<th width="25%" align="right" scope="row"><p>&nbsp;</p></th>
<td align="left" valign="top"><button type="submit">上傳新增</button></td>
</tr>
</table>
</form>

----------我是分隔線----------我是分隔線----------我是分隔線

productAdd.php(存檔至 Admin 資料夾中)------------------------------------------------

※使用者驗證(限制存取頁面)
使用者名稱、密碼和存取層級：Y
前往：index.php
-------------------------------------------------------------------------------------------
<h2>商品項目新增</h2>
<h3>請依序填入商品相關資料以及「瀏覽」並選取商品圖片後上傳。</h3>


----------我是分隔線----------我是分隔線----------我是分隔線


3秒後將自動轉向產品瀏覽頁面語法：

將 header(sprintf("Location: %s", $deleteGoTo));
改為 header(sprintf("refresh: 3; url=%s", $deleteGoTo));

----------我是分隔線----------我是分隔線----------我是分隔線

<button name="button" value="刪除" type="button" id="button" onclick="javascript:if(window.confirm('確定刪除?'))location.href='productDelete.php?id=<?php echo $row_productBrowser['id']; ?>';">刪除</button>

----------我是分隔線----------我是分隔線----------我是分隔線

<button name="button" value="刪除" type="button" id="button" onclick="location.href='productDelete.php?id=<?php echo $row_productBrowser['id']; ?>'">刪除</button>

----------我是分隔線----------我是分隔線----------我是分隔線

productDelete.php(存檔至 Admin 資料夾中)------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Admin 資料夾中)

使用者驗證(限制存取頁面)
使用者名稱、密碼和存取層級：Y
前往：index.php
----------------------------------------------------------------------------------------------
檢查是否已在第1列加入：
<?php require_once('../Connections/shop.php'); ?>

刪除紀錄：
先檢查是否定義了變數為：主索引鍵值
表格：product
主索引鍵欄位：id
主索引鍵值：URL參數=id
前往：productBrowser.php
----------------------------------------------------------------------------------------------
<h2>產品刪除</h2>
<h5>此筆記錄已刪除，3秒後將自動轉向產品瀏覽頁面。</h5>

----------我是分隔線----------我是分隔線----------我是分隔線


-- 列出以下資料庫的數據： `product`
-- 

INSERT INTO `product` VALUES (14, '【彰化肉圓劉】肉圓(2盒20粒入)', '★商品特色\r\n超有名地方小吃肉圓劉員林肉圓金字招牌─肉圓劉。外皮獨

特的水Q軟嫩帶點透明感，老頭家每天一早嚴選新鮮豬後腿肉及鮮甜筍角加上7種家傳秘方香料調製成美味內餡，內餡瘦肉', 680, 10, 1);
INSERT INTO `product` VALUES (13, '【起士公爵】草莓甜心乳酪蛋糕7吋(草莓季含運) ', '★商品特色\r\n法國進口的鮮釀草莓漿果，一向是搭配細

緻的起士蛋糕的完美食材；清新可口的鮮釀漿果鮮嫩欲滴，絲毫沒有果醬的人工甜味，彷彿冬日的暖陽那樣叫人心曠神怡！再搭配經過特殊', 560, 

10, 1);
INSERT INTO `product` VALUES (11, '【方王媽媽】乳酪饅頭20個', '★商品特色\r\n方王媽媽堅果饅頭是用特選麵粉做的，可以促進腸胃蠕動，並使

用有驅散風寒等效用的黑糖。此外，饅頭也加入乳酪、黑糖、黃金豆\r\n。早餐食用方王媽媽堅果饅頭，可以促進腸胃', 700, 10, 1);
INSERT INTO `product` VALUES (12, '【方王媽媽】紅莓堅果饅頭30個', '★商品特色\r\n方王媽媽堅果饅頭是用特選麵粉做的，可以促進腸胃蠕動，

並使用有驅散風寒等效用的黑糖。此外，饅頭也加入 紅麴、蔓越莓、松子、腰果、核桃、杏仁、南瓜子、葵瓜子、葡萄乾', 1050, 10, 1);
INSERT INTO `product` VALUES (8, ' 【福利麵包】墨西哥玉米片組合 ', '★可可布丁+杏仁布丁+芒果布丁+鮮奶布丁每組1種口味有3盒布丁，12個/

組(單個約170g)。此組合含4組共48個布丁。\r\n\r\n★保存期限：未開封冷藏0∼7℃保存下14天，常溫下勿超過4小時。\r\n', 490, 10, 1);
INSERT INTO `product` VALUES (7, '【依蕾特】綜合口味布丁(4盒)', '★商品特色\r\n\r\n依蕾特布丁奶酪系列－最受歡迎的作品:鮮奶布丁濃郁的鮮

奶滲和鮮美的蛋汁，透著嬌黃鮮嫩的綿密布丁倒在平盤上時，香氣襲人的焦糖醬汁亦隨之緩緩留下，是視覺、嗅覺與味覺', 1560, 10, 1);
INSERT INTO `product` VALUES (6, '【黎記】-冰糖醬鴨-辣味(3盒含運)', '★商品說明\r\n說到滷味要透要入味，功夫做得最最徹底的，當是屏東『

黎記冰糖醬鴨』莫屬。在屏東店內的廚房裡，數十支炒菜鍋兩邊擺開，眷村媽媽們人手一鏟，忙著在大火中為滷味收汁，直', 599, 10, 1);
INSERT INTO `product` VALUES (5, '【阿姿調味海鮮】精選無辣組合(燒酒螺、風螺、九層螺，各2盒)', '★商品特色\r\n1. 燒酒螺 : 採新鮮燒酒螺，

再加上蒜頭、辣椒、特製醬油調配而成，味道讓略微辛辣，讓燒酒螺更加好風味。\r\n2. 風螺 : 新鮮的風螺搭配著風味獨特的阿姿醬料，再經過阿

姿調味海', 700, 10, 1);
INSERT INTO `product` VALUES (4, '【純新】Milk17牛奶棒禮盒10包裝(巧克力)', '★商品特色\r\n長如42cm的竹筷子又俗稱〝筷子餅乾〞，5支包裝

一包，一盒5包裝，共計11種口味，每種口味蜠有香純牛乳味，是值得品嚐點心。\r\n\r\n\r\n★商品成分\r\n麵粉、牛奶、糖 ', 599, 10, 1);
INSERT INTO `product` VALUES (3, '【純新】Milk17牛奶棒禮盒10包裝(原味)', '★商品特色\r\n長如42cm的竹筷子又俗稱〝筷子餅乾〞，5支包裝一

包，一盒5包裝，共計11種口味，每種口味蜠有香純牛乳味，是值得品嚐點心。\r\n\r\n\r\n★商品成分\r\n麵粉、牛奶、糖 ', 599, 10, 1);
INSERT INTO `product` VALUES (1, '【龍和餐廳】蔥油餅(6包60入)', '★商品說明\r\n蔥油餅煎法說明：\r\n平底鍋中火燒熱約15秒，加入一大匙清

油，轉小火放入蔥油餅，煎至皮成軟狀時，約2分鐘後翻面，再開中小火煎約2分鐘，再翻面各煎一分鐘，煎至兩面金黃色即', 1470, 10, 0);
INSERT INTO `product` VALUES (2, '【純新】Milk17牛奶棒禮盒10包裝(海苔)', '★商品特色\r\n長如42cm的竹筷子又俗稱〝筷子餅乾〞，5支包裝一

包，一盒5包裝，共計11種口味，每種口味蜠有香純牛乳味，是值得品嚐點心。\r\n\r\n\r\n★商品成分\r\n麵粉、牛奶、糖 ', 599, 10, 1);
INSERT INTO `product` VALUES (18, '【蘿拉手工果醬】葡萄果醬+紅豆牛奶抹醬(各1瓶)-含運費', '★商品特色\r\n葡萄果醬-\r\n粒粒黑紫玉中，融

入少少清新檸檬汁，滋味甜蜜爽口，讓你有如沉浸在晨曦露水中那樣美妙滿足。\r\n\r\n紅豆牛奶抹醬-\r\n細火慢燉熬煮的紅豆，呈現綿密柔軟的

觸感，搭配香', 580, 10, 1);
INSERT INTO `product` VALUES (19, '【新美珍】原味布丁蛋榚(5個)', '★商品特色\r\n只用蛋和鮮奶製作，不加一滴水，品質有保證，\r\n口感真的

很贊，因為材料用得好，蛋榚吃起來非\r\n常的綿密水有彈性，咬下一口後，蛋榚彈性良好\r\n，還會回 復原來的形狀。\r\n', 583, 10, 1);

----------我是分隔線----------我是分隔線----------我是分隔線

<h2>商品瀏覽</h2>
<h3>提供所有商品進行分頁瀏覽。</h3>
<p>&nbsp;</p>
<?php if ($totalRows_productBrowser > 0) { // Show if recordset not empty ?>
<form id="form1" action="">

<table width="100%" border="0">
<tr>
<th scope="col"><p>商品編號</p></th>
<th scope="col"><p>商品名稱</p></th>
<th align="right" scope="col"><p>庫存量</p></th>
<th align="right" scope="col"><p>單價</p></th>
<th align="center" scope="col"><p>功能</p></th>
</tr>
<?php do { ?>
<tr>
<th scope="row"><?php echo $row_productBrowser['id']; ?></th>
<td><?php echo $row_productBrowser['name']; ?></td>
<td align="right"><h4><?php echo $row_productBrowser['qty']; ?></h4></td>
<td align="right"><h5><?php echo $row_productBrowser['price']; ?></h5></td>
<td align="right"><button name="button" value="刪除" type="button" id="button">刪除</button></td>
</tr>
<?php } while ($row_productBrowser = mysql_fetch_assoc($productBrowser)); ?>
</table>

</form>
<? } ?>


<?php if ($totalRows_productBrowser == 0) { // Show if recordset empty ?>
<table width="90%" border="0">
<tr>
<th scope="col"><h5>資料庫目前尚無商品！</h5></th>
</tr>
</table>
<?php } // Show if recordset empty ?>
<p>&nbsp;</p>


----------我是分隔線----------我是分隔線----------我是分隔線


<form id="form1" action="">
<table width="100%" border="0">
<tr>
<th scope="col"><p>商品編號</p></th>
<th scope="col"><p>商品名稱</p></th>
<th align="right" scope="col"><p>庫存量</p></th>
<th align="right" scope="col"><p>單價</p></th>
<th align="center" scope="col"><p>功能</p></th>
</tr>
<tr>
<th scope="row"><?php echo $row_productBrowser['id']; ?></th>
<td><?php echo $row_productBrowser['name']; ?></td>
<td align="right"><h4><?php echo $row_productBrowser['qty']; ?></h4></td>
<td align="right"><h5><?php echo $row_productBrowser['price']; ?></h5></td>
<td align="right"><button name="button" value="刪除" type="button" id="button">刪除</button></td>
</tr>
</table>
</form>

<table width="90%" border="0">
<tr>
<th scope="col"><h5>資料庫目前尚無商品！</h5></th>
</tr>
</table>

----------我是分隔線----------我是分隔線----------我是分隔線

productBrowser.php(存檔至 Admin 資料夾中)------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Admin 資料夾中)

※建立資料集繫結：
繫結名稱：productBrowser
連線：shop
表格：product
欄：全選
篩選器：無
排序：id；遞減
----------------------------------------------------------------------------------------------
<h2>商品瀏覽</h2>
<h3>提供所有商品進行分頁瀏覽。</h3>


----------我是分隔線----------我是分隔線----------我是分隔線


新增 index.php(存檔至 Admin 資料夾中)-----------------------------------------------------------

※開新檔案/來自範本(ShopAdmin)的頁面/存檔(存檔至 Admin 資料夾中)

<h2>後台管理系統</h2>
<h3>您必須是具備管理身分才可以使用各項功能。</h3>

loginCheck.php(存檔至 Admin 資料夾中)-----------------------------------------------------
※插入表單(ID為user、password)

使用者驗證(登入使用者)：
前往：index.php
層級來源：admin

logout.php(存檔至 Admin 資料夾中)----------------------------------------------------------
使用者驗證(登出使用者)：
前往：index.php

----------我是分隔線----------我是分隔線----------我是分隔線

修改 ShopAdmin.dwt.php------------------------------------------------------------------------
在第1列加入：

<?php session_start(); ?>

在 <h3>管理員登入</h3> 前加入：

<?php if(!isset($_SESSION['MM_Username'])){?>

在 </form> 後加入：

<?php }else{ ?>
<h3>管理員服務</h3>
<form action="logout.php" method="post">
<p>歡迎 <?php echo $_SESSION['MM_Username'];?> 您光臨</p>
<p><button type="submit">登出</button></p>
</form>
<?php }?>

----------我是分隔線----------我是分隔線----------我是分隔線

<a href="productDetail.php?id=<?php echo $row_Recordset1['id']; ?>"><img src="picture/<?php echo $row_Recordset1['id']; ?>.jpg" width="180" alt=""></a>

<button onclick="location.href='productDetail.php?id=<?php echo $row_Recordset1['id']; ?>'">詳細</button>

----------我是分隔線----------我是分隔線----------我是分隔線

<form id="form1" action="">
<table width="90%%" border="0">
<tr>
<th colspan="2" align="center" scope="col"><img src="picture/<?php echo $row_productDetail['id']; ?>.jpg" width="360" alt=""></th>
</tr>
<tr>
<th align="right" scope="row"><p>商品名稱：</p></th>
<td><h4><?php echo $row_productDetail['name']; ?></h4></td>
</tr>
<tr>
<th align="right" scope="row"><p>單價：</p></th>
<td><h5><?php echo $row_productDetail['price']; ?></h5></td>
</tr>
<tr>
<th align="right" scope="row"><p>庫存量：</p></th>
<td><p><?php echo $row_productDetail['qty']; ?></p></td>
</tr>
<tr>
<th align="right" valign="top" scope="row"><p>商品介紹：</p></th>
<td><p><?php echo $row_productDetail['introduce']; ?></p></td>
</tr>
<tr>
<th colspan="2" align="center" scope="row"><button name="button" value="確認訂購" type="submit" id="button">訂購</button></th>
</tr>
</table>
</form>

----------我是分隔線----------我是分隔線----------我是分隔線

<form id="form1" action="">
<table width="90%%" border="0">
<tr>
<th colspan="2" align="center" scope="col"></th>
</tr>
<tr>
<th align="right" scope="row"><p>商品名稱：</p></th>
<td></td>
</tr>
<tr>
<th align="right" scope="row"><p>單價：</p></th>
<td></td>
</tr>
<tr>
<th align="right" scope="row"><p>庫存量：</p></th>
<td></td>
</tr>
<tr>
<th align="right" valign="top" scope="row"><p>商品介紹：</p></th>
<td></td>
</tr>
<tr>
<th colspan="2" align="center" scope="row"><button name="button" value="確認訂購" type="submit" id="button">訂購</button></th>
</tr>
</table>
</form>

----------我是分隔線----------我是分隔線----------我是分隔線


<productDetail.php>---------------------------------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Shop 資料夾中)

※建立資料集繫結：
繫結名稱：productDetail
連線：shop
表格：product
欄：全選
篩選器：URL參數；id
排序：無
----------------------------------------------------------------------------------------------
<h2>商品詳細資料</h2>
<h3>點選「訂購」按鈕可將該商品加入購物車中。</h3>
2017/03/19----------我是分隔線----------我是分隔線----------我是分隔線













2017/03/12----------我是分隔線----------我是分隔線----------我是分隔線

<?php if ($totalRows_Recordset1 > 0) { // Show if recordset not empty ?> 
<p align="center">[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, 0, $queryString_Recordset1); ?>">第一頁</a>][<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, max(0, $pageNum_Recordset1 - 1), $queryString_Recordset1); ?>">上一頁</a>][<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, min($totalPages_Recordset1, $pageNum_Recordset1 + 1), $queryString_Recordset1); ?>">下一頁</a>][<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, $totalPages_Recordset1, $queryString_Recordset1); ?>">最後一頁</a>] 第 <?php echo ($startRow_Recordset1 + 1) ?> 筆/到第 <?php echo min($startRow_Recordset1 + $maxRows_Recordset1, $totalRows_Recordset1) ?> 筆/共 <?php echo $totalRows_Recordset1 ?> 筆</p>
<?php do { ?>
<table class="tt">
<tr>
<td colspan="2" align="center">
<img src="picture/<?php echo $row_Recordset1['id']; ?>.jpg" width="180" alt="">
</td>
</tr>
<tr>
<td align="right"><p>商品名稱：</p></td>
<td><h4><?php echo $row_Recordset1['name']; ?></h4></td>
</tr>
<tr>
<td align="right"><p>單價：</p></td>
<td><h5><?php echo $row_Recordset1['price']; ?></h5></td>
</tr>
<tr>
<td align="center" colspan="2">
<button>詳細</button><button>訂購</button>
</td>
</tr>
</table> 
<?php } while ($row_Recordset1 = mysql_fetch_assoc($Recordset1)); ?> 
<p align="center">[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, 0, $queryString_Recordset1); ?>">第一頁</a>][<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, max(0, $pageNum_Recordset1 - 1), $queryString_Recordset1); ?>">上一頁</a>][<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, min($totalPages_Recordset1, $pageNum_Recordset1 + 1), $queryString_Recordset1); ?>">下一頁</a>][<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, $totalPages_Recordset1, $queryString_Recordset1); ?>">最後一頁</a>] 第 <?php echo ($startRow_Recordset1 + 1) ?> 筆/到第 <?php echo min($startRow_Recordset1 + $maxRows_Recordset1, $totalRows_Recordset1) ?> 筆/共 <?php echo $totalRows_Recordset1 ?> 筆</p> 
<?php } // Show if recordset not empty ?>



<?php if ($totalRows_Recordset1 == 0) { // Show if recordset empty ?>
<h5 align="center">資料庫目前尚無商品！</h5>
<?php } // Show if recordset empty ?>

----------我是分隔線----------我是分隔線----------我是分隔線

<?php if ($totalRows_Recordset1 > 0) { // Show if recordset not empty ?> 
<?php do { ?>
<table class="tt">
<tr>
<td colspan="2" align="center">
<img src="picture/1.jpg" width="180" alt="">
</td>
</tr>
<tr>
<td align="right"><p>商品名稱：</p></td>
<td><h4><?php echo $row_Recordset1['name']; ?></h4></td>
</tr>
<tr>
<td align="right"><p>單價：</p></td>
<td><h5><?php echo $row_Recordset1['price']; ?></h5></td>
</tr>
<tr>
<td align="center" colspan="2">
<button>詳細</button><button>訂購</button>
</td>
</tr>
</table>
<?php } while ($row_Recordset1 = mysql_fetch_assoc($Recordset1)); ?> 
<?php } // Show if recordset not empty ?>




<?php if ($totalRows_Recordset1 == 0) { // Show if recordset empty ?>
<h5 align="center">資料庫目前尚無商品！</h5>
<?php } // Show if recordset empty ?>

----------我是分隔線----------我是分隔線----------我是分隔線

<h2>商品瀏覽</h2>
<h3>點「詳細」按鈕可以獲得詳細的商品說明，點「訂購」可加入購物車中。</h3>
<p>&nbsp;</p>
<p><table class="tt">
<tr>
<td colspan="2">
<img src="" alt="">
</td>
</tr>
<tr>
<td align="right"><p>商品名稱：</p></td>
<td><h4><?php echo $row_Recordset1['name']; ?></h4></td>
</tr>
<tr>
<td align="right"><p>單價：</p></td>
<td><h5><?php echo $row_Recordset1['price']; ?></h5></td>
</tr>
<tr>
<td align="center" colspan="2">
<button>詳細</button><button>訂購</button>
</td>
</tr>
</table></p>

----------我是分隔線----------我是分隔線----------我是分隔線

<product.php>----------------------------------------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Shop 資料夾中)

※建立資料集繫結：
名稱：productList
連線：shop
表格：product
欄：全選
篩選器：無
排序：id；遞減
----------------------------------------------------------------------------------------------
<h2>商品瀏覽</h2>
<h3>點「詳細」按鈕可以獲得詳細的商品說明，點「訂購」可加入購物車中。</h3>


----------我是分隔線----------我是分隔線----------我是分隔線


建立 product 產品資料表：-------------------------------------------------------------------------

CREATE TABLE `product` (
`id` int(11) NOT NULL auto_increment COMMENT '產品編號',
`name` varchar(200) NOT NULL COMMENT '產品名稱',
`introduce` text COMMENT '產品內容',
`price` int(11) default '0' COMMENT '產品單價',
`qty` int(11) default '0' COMMENT '產品庫存量',
`state` boolean default '1' COMMENT '產品上架否',
PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=20 ;

-- 
-- 列出以下資料庫的數據： `product`
-- 

INSERT INTO `product` VALUES (14, '【彰化肉圓劉】肉圓(2盒20粒入)', '★商品特色\r\n超有名地方小吃肉圓劉員林肉圓金字招牌─肉圓劉。外皮獨特的水Q軟嫩帶點透明感，老頭家每天一早嚴選新鮮豬後腿肉及鮮甜筍角加上7種家傳秘方香料調製成美味內餡，內餡瘦肉', 680, 10, 1);
INSERT INTO `product` VALUES (13, '【起士公爵】草莓甜心乳酪蛋糕7吋(草莓季含運) ', '★商品特色\r\n法國進口的鮮釀草莓漿果，一向是搭配細緻的起士蛋糕的完美食材；清新可口的鮮釀漿果鮮嫩欲滴，絲毫沒有果醬的人工甜味，彷彿冬日的暖陽那樣叫人心曠神怡！再搭配經過特殊', 560, 10, 1);
INSERT INTO `product` VALUES (11, '【方王媽媽】乳酪饅頭20個', '★商品特色\r\n方王媽媽堅果饅頭是用特選麵粉做的，可以促進腸胃蠕動，並使用有驅散風寒等效用的黑糖。此外，饅頭也加入乳酪、黑糖、黃金豆\r\n。早餐食用方王媽媽堅果饅頭，可以促進腸胃', 700, 10, 1);
INSERT INTO `product` VALUES (12, '【方王媽媽】紅莓堅果饅頭30個', '★商品特色\r\n方王媽媽堅果饅頭是用特選麵粉做的，可以促進腸胃蠕動，並使用有驅散風寒等效用的黑糖。此外，饅頭也加入 紅麴、蔓越莓、松子、腰果、核桃、杏仁、南瓜子、葵瓜子、葡萄乾', 1050, 10, 1);
INSERT INTO `product` VALUES (8, ' 【福利麵包】墨西哥玉米片組合 ', '★可可布丁+杏仁布丁+芒果布丁+鮮奶布丁每組1種口味有3盒布丁，12個/組(單個約170g)。此組合含4組共48個布丁。\r\n\r\n★保存期限：未開封冷藏0∼7℃保存下14天，常溫下勿超過4小時。\r\n', 490, 10, 1);
INSERT INTO `product` VALUES (7, '【依蕾特】綜合口味布丁(4盒)', '★商品特色\r\n\r\n依蕾特布丁奶酪系列－最受歡迎的作品:鮮奶布丁濃郁的鮮奶滲和鮮美的蛋汁，透著嬌黃鮮嫩的綿密布丁倒在平盤上時，香氣襲人的焦糖醬汁亦隨之緩緩留下，是視覺、嗅覺與味覺', 1560, 10, 1);
INSERT INTO `product` VALUES (6, '【黎記】-冰糖醬鴨-辣味(3盒含運)', '★商品說明\r\n說到滷味要透要入味，功夫做得最最徹底的，當是屏東『黎記冰糖醬鴨』莫屬。在屏東店內的廚房裡，數十支炒菜鍋兩邊擺開，眷村媽媽們人手一鏟，忙著在大火中為滷味收汁，直', 599, 10, 1);
INSERT INTO `product` VALUES (5, '【阿姿調味海鮮】精選無辣組合(燒酒螺、風螺、九層螺，各2盒)', '★商品特色\r\n1. 燒酒螺 : 採新鮮燒酒螺，再加上蒜頭、辣椒、特製醬油調配而成，味道讓略微辛辣，讓燒酒螺更加好風味。\r\n2. 風螺 : 新鮮的風螺搭配著風味獨特的阿姿醬料，再經過阿姿調味海', 700, 10, 1);
INSERT INTO `product` VALUES (4, '【純新】Milk17牛奶棒禮盒10包裝(巧克力)', '★商品特色\r\n長如42cm的竹筷子又俗稱〝筷子餅乾〞，5支包裝一包，一盒5包裝，共計11種口味，每種口味蜠有香純牛乳味，是值得品嚐點心。\r\n\r\n\r\n★商品成分\r\n麵粉、牛奶、糖 ', 599, 10, 1);
INSERT INTO `product` VALUES (3, '【純新】Milk17牛奶棒禮盒10包裝(原味)', '★商品特色\r\n長如42cm的竹筷子又俗稱〝筷子餅乾〞，5支包裝一包，一盒5包裝，共計11種口味，每種口味蜠有香純牛乳味，是值得品嚐點心。\r\n\r\n\r\n★商品成分\r\n麵粉、牛奶、糖 ', 599, 10, 1);
INSERT INTO `product` VALUES (1, '【龍和餐廳】蔥油餅(6包60入)', '★商品說明\r\n蔥油餅煎法說明：\r\n平底鍋中火燒熱約15秒，加入一大匙清油，轉小火放入蔥油餅，煎至皮成軟狀時，約2分鐘後翻面，再開中小火煎約2分鐘，再翻面各煎一分鐘，煎至兩面金黃色即', 1470, 10, 0);
INSERT INTO `product` VALUES (2, '【純新】Milk17牛奶棒禮盒10包裝(海苔)', '★商品特色\r\n長如42cm的竹筷子又俗稱〝筷子餅乾〞，5支包裝一包，一盒5包裝，共計11種口味，每種口味蜠有香純牛乳味，是值得品嚐點心。\r\n\r\n\r\n★商品成分\r\n麵粉、牛奶、糖 ', 599, 10, 1);
INSERT INTO `product` VALUES (18, '【蘿拉手工果醬】葡萄果醬+紅豆牛奶抹醬(各1瓶)-含運費', '★商品特色\r\n葡萄果醬-\r\n粒粒黑紫玉中，融入少少清新檸檬汁，滋味甜蜜爽口，讓你有如沉浸在晨曦露水中那樣美妙滿足。\r\n\r\n紅豆牛奶抹醬-\r\n細火慢燉熬煮的紅豆，呈現綿密柔軟的觸感，搭配香', 580, 10, 1);
INSERT INTO `product` VALUES (19, '【新美珍】原味布丁蛋榚(5個)', '★商品特色\r\n只用蛋和鮮奶製作，不加一滴水，品質有保證，\r\n口感真的很贊，因為材料用得好，蛋榚吃起來非\r\n常的綿密水有彈性，咬下一口後，蛋榚彈性良好\r\n，還會回 復原來的形狀。\r\n', 583, 10, 1);

----------我是分隔線----------我是分隔線----------我是分隔線

if ((isset($_POST["MM_update"])) && ($_POST["MM_update"] == "form1")) {
$updateSQL = sprintf("UPDATE `user` SET sex=%s, age=%s, mail=%s, address=%s WHERE userid=%s",
GetSQLValueString($_POST['sex'], "text"),
GetSQLValueString($_POST['age'], "int"),
GetSQLValueString($_POST['mail'], "text"),
GetSQLValueString($_POST['address'], "text"),
GetSQLValueString($_POST['userid'], "text"));

mysql_select_db($database_shop, $shop);
$Result1 = mysql_query($updateSQL, $shop) or die(mysql_error());

?>
<script>
alert("更新成功");
</script>
<?

}

----------我是分隔線----------我是分隔線----------我是分隔線

<form action="<?php echo $editFormAction; ?>" name="form1" method="POST">
<table class="tt">
<tr>
<th align="right" scope="col">帳號：</th>
<th align="left" scope="col"><h5><?php echo $row_Recordset1['userid']; ?></h5></th>
</tr> 
<tr>
<th align="right" scope="row">性別：</th>
<td align="left"><label>
<select name="sex" id="sex">
<option value="M" <?php if (!(strcmp("M", $row_Recordset1['sex']))) {echo "selected=\"selected\"";} ?>>男</option>
<option value="F" <?php if (!(strcmp("F", $row_Recordset1['sex']))) {echo "selected=\"selected\"";} ?>>女</option>
</select>
</label></td>
</tr>
<tr>
<th align="right" scope="row">年齡：</th>
<td align="left"><input name="age" type="text" id="age" value="<?php echo $row_Recordset1['age']; ?>" /></td>
</tr>
<tr>
<th align="right" scope="row">電子郵件：</th>
<td align="left"><input name="mail" type="text" id="mail" value="<?php echo $row_Recordset1['mail']; ?>" /></td>
</tr>
<tr>
<th align="right" scope="row">通訊地址：</th>
<td align="left"><input name="address" type="text" id="address" value="<?php echo $row_Recordset1['address']; ?>" /></td>
</tr>
<tr>
<th colspan="2" align="center" scope="row"><button type="submit" name="button" id="button" value="確認修改">確認修改</button>
</th>
</tr>
</table>
<input type="hidden" name="userid" value="<?php echo $row_Recordset1['userid']; ?>">
<input type="hidden" name="MM_update" value="form1" />
</form>


----------我是分隔線----------我是分隔線----------我是分隔線


<select name="sex" id="sex">
<option value="M" <?php if (!(strcmp("M", $row_Recordset1['sex']))) {echo "selected=\"selected\"";} ?>>男</option>
<option value="F" <?php if (!(strcmp("F", $row_Recordset1['sex']))) {echo "selected=\"selected\"";} ?>>女</option>
</select>

----------我是分隔線----------我是分隔線----------我是分隔線

<form action="" name="form1" method="post">
<table class="tt">
<tr>
<th align="right" scope="col">帳號：</th>
<th align="left" scope="col"></th>
</tr> 
<tr>
<th align="right" scope="row">性別：</th>
<td align="left"><label>
<select name="sex" id="sex">
<option value="M">男</option>
<option value="F">女</option>
</select>
</label></td>
</tr>
<tr>
<th align="right" scope="row">年齡：</th>
<td align="left"><input name="age" type="text" id="age" value="" /></td>
</tr>
<tr>
<th align="right" scope="row">電子郵件：</th>
<td align="left"><input name="mail" type="text" id="mail" value="" /></td>
</tr>
<tr>
<th align="right" scope="row">通訊地址：</th>
<td align="left"><input name="address" type="text" id="address" value="" /></td>
</tr>
<tr>
<th colspan="2" align="center" scope="row"><button type="submit" name="button" id="button" value="確認修改">確認修改</button>
</th>
</tr>
</table>
</form>

<modifydata.php>-----------------------------------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Shop 資料夾中)

※建立資料集繫結：
名稱：Recordset1(可自訂，此處建議用預設名稱)
欄：排除選取 admin、auth、register
篩選器：Session變數；MM_Username
排序：無
----------------------------------------------------------------------------------------------
<h2>會員基本資料更新</h2>
<h3>會員基本資料更新、填寫完畢請按送出即可！</h3>
----------------------------------------------------------------------------------------------
※更新記錄
※表單欄位

您的會員帳號：(文字)
密碼：password(密碼欄位；文字)
性別：sex(選單 或 選項按鈕；文字)
年齡：age(文字欄位；數字)
電子郵件：mail(文字欄位；文字)
通訊地址：address(文字欄位；文字)
admin：(移除欄位)
auth：(移除欄位)
register：(移除欄位)

----------我是分隔線----------我是分隔線----------我是分隔線

<?php
if ((isset($_POST["check"])) && ($_POST["check"] == "form1")){
if($row_Recordset1['userid']!=NULL){
//呼叫 sendmail(...)傳遞使用者帳號與郵件發送確認信
sendmail($row_Recordset1['userid'],$row_Recordset1['mail']);
?>
<script language="javascript" type="text/javascript">
alert("確認信件已寄出!");
</script>
<?php 
}else{
?>
<script language="javascript" type="text/javascript">
alert("查無此帳號!");
</script>
<?
}}
?>

----------我是分隔線----------我是分隔線----------我是分隔線

在 <form> 前加入：

<?php
if($row_Recordset1['userid']!=NULL){
//呼叫 sendmail(...)傳遞使用者帳號與郵件發送確認信
sendmail($row_Recordset1['userid'],$row_Recordset1['mail']);
?>
<script language="javascript" type="text/javascript">
alert("確認信件已寄出!");
</script>
<?php 
}
?>

----------我是分隔線----------我是分隔線----------我是分隔線

在
</html>
<?php
mysql_free_result($Recordset1); (可自訂，此處建議用預設名稱)
?>
之後加入：

<?php
///接收會員帳號與郵件地址進行郵件發送
function sendmail($uid,$mail){
$to = $mail;
$subject = "=?UTF-8?B?".base64_encode("會員功能啟用重發確認信件通知")."?=";
//透過md5(...)函式將會員帳號進行訊息數位演算，以提高複雜度
//留意網站資料夾路徑 php_incomplete/Shop	
$message = "啟用會員功能通知：<br/>"
."<a href=\"http://localhost/xxx/auth_user.php?uid="
.md5($uid)."\">點此超連結啟用會員功能</a><br/>"; 
$headers = "MIME-Version: 1.0\r\n";
$headers .= "Content-type: text/html; charset=utf-8\r\n";
$headers .= "From: xxx@xxx.xxx \r\n"; //改為發信者地址，如：services@pcschool.com.tw
$headers .= "Reply-To: xxx@xxx.xxx \r\n"; //改為發信者地址，如：services@pcschool.com.tw
$headers .= "X-Mailer: PHP/" . phpversion();	

@mail($to, $subject, $message, $headers);
}
?>

----------我是分隔線----------我是分隔線----------我是分隔線
<form action="" name="form1" method="post">
<fieldset>
<legend>請輸入您的會員帳號：</legend>
<p>&nbsp;</p>
&nbsp;&nbsp;<input type="text" name="userid">
<input type="submit" value="確認重發"><p>&nbsp;</p>
</fieldset> 
</form>

<reconfirm.php>-------------------------------------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Shop 資料夾中)

※建立資料集繫結：
名稱：Recordset1(可自訂，此處建議用預設名稱)
欄：選取 userid、mail
篩選器：表單變數；userid
----------------------------------------------------------------------------------------------
<h2>重發確認信件</h2>
<h3>確認信件將寄至您申請時所留的E-Mail</h3>


<auth_user.php>-------------------------------------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Shop 資料夾中)

在 第一行 確認：
<?php require_once('../Connections/shop.php'); ?>

在 <body> 後加入：
<?php
$uid = $_GET['uid'];
//將user資料表中的userid欄位,使用md5( )函式數位演算後與接收到的$uid進行比較
$sqlstr="update user set auth='Y' where md5(userid)='$uid'";
if(mysql_query($sqlstr)){
echo "<h5>會員功能啟用成功、歡迎您的加入!!</h5>";	
}else{	
echo "<h5>會員功能啟用失敗!!</h5>";	
}
?>

----------我是分隔線----------我是分隔線----------我是分隔線

在語法 $insertGoTo = "index.php"; 之前，放入以下語法：

sendmail($_POST['userid'],$_POST['mail']);	//呼叫 sendmail(...)傳遞使用者帳號與郵件發送確認信

----------我是分隔線----------我是分隔線----------我是分隔線

修改<registerUser.php>-----------------------------------------------------------------------------

在 最後一行 後加入：

方法一：

<?php
//接收會員帳號與郵件地址進行郵件發送
function sendmail($uid,$mail){
$to = $mail;
$subject = "=?UTF-8?B?".base64_encode("會員功能啟用通知(方法一)")."?=";
//透過md5(...)函式將會員帳號進行訊息數位演算，以提高複雜度
$message = "啟用會員功能通知：<br/>"."<a href=\"http://localhost/php_incomplete/Shop/auth_user.php?uid=".md5($uid)."\">點此超連結啟用會員功能</a><br/>";
$headers = "MIME-Version: 1.0\r\n";
$headers .= "Content-type: text/html; charset=utf-8\r\n";
$headers .= "From: services@pcschool.com.tw \r\n";
$headers .= "Reply-To: services@pcschool.com.tw \r\n";
$headers .= "X-Mailer: PHP/" . phpversion();	

@mail($to, $subject, $message, $headers);
}
?>

----------------------------------------------------------------------------------------------

方法二：

<?php
//接收會員帳號與郵件地址進行郵件發送
function sendmail($uid,$mail){
$to = $mail;
$subject = "=?UTF-8?B?".base64_encode("會員功能啟用通知(方法二)")."?=";
$message = '啟用會員功能方法一：'."\r\n".'<a href=\"http://localhost/php_incomplete/Shop/auth_user.php?uid=".md5($uid)."\">點此超連結啟用會員功能</a>'."\r\n".'啟用會員功能方法二：'."\r\n".'將下列網址複製到瀏覽器的網址列中，按下ENTER按鍵進行啟用會員功能'."\r\n".'http://localhost/php_incomplete/Shop/auth_user.php?uid='.md5($uid);
$headers = 'From: services@pcschool.com.tw' . "\r\n".'Reply-To:services@pcschool.com.tw'."\r\n".'X-Mailer: PHP/'. phpversion();

@mail($to, $subject, $message, $headers);
}
?>

----------我是分隔線----------我是分隔線----------我是分隔線

<input type="password" name="password2" onblur="passwordCheck()">
<span id="message"></span>

----------我是分隔線----------我是分隔線----------我是分隔線

<script language="javascript" type="text/javascript">
function passwordCheck(){
//先尋找message Div標籤
var msg=document.getElementById('message');
//判斷密碼欄位與確認密碼欄位是否相同
if(form1.password.value!=form1.password2.value){
//在Div欄位上顯示提示文字
msg.innerHTML="<font color=red>密碼與確認密碼不符！</font>";
form1.password.value=""; //文字欄位清空
form1.password2.value=""; //文字欄位清空
form1.password.focus();	//取得焦點，將游標停留在 密碼欄位 中
}else{
msg.innerHTML="";
}
}
</script>
2017/03/12----------我是分隔線----------我是分隔線----------我是分隔線




2017/03/05----------我是分隔線----------我是分隔線----------我是分隔線
meta:vp

<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
----------我是分隔線----------我是分隔線----------我是分隔線

<meta name="keywords" content="輸入關鍵字字串" />
<meta http-equiv="refresh" content="3;url=registerUser.php" />

----------我是分隔線----------我是分隔線----------我是分隔線

※補充資料(新增 registerError.php 頁面，存在Shop資料夾下)--------------------------------------------

會員管理中心
使用者帳號已使用，請返回上一頁重新挑選一個！
返回上一頁

<h2>會員管理中心</h2>
<h5>使用者帳號~ <? echo $_GET['requsername']; ?> 已使用，請返回上一頁重新挑選一個！</h5><br />
[<a href="javascript:history.back();">返回上一頁</a>]

----------我是分隔線----------我是分隔線----------我是分隔線

<form name="form1" id="form1" method="POST" action="<?php echo $editFormAction; ?>">
<table class="tt">
<tr>
<td align="right" valign="baseline">帳號:</td>
<td><input name="userid" type="text" placeholder="EX:alan" title="請輸入8-12字" onfocus="MM_setTextOfLayer('useridmsg','','您的姓名需要:請輸入8-12字\n')" onblur="MM_setTextOfLayer('useridmsg','','\n')"><span id="useridmsg"></span></td>
</tr>
<tr>
<td align="right" valign="baseline">密碼:</td>
<td><input type="password" name="password"></td>
</tr>
<tr>
<td align="right" valign="baseline">確認密碼:</td>
<td><input type="password" name="password2"></td>
</tr>
<tr>
<td align="right" valign="baseline">性別:</td>
<td>
<!--<input type="radio" name="sex" value="M">男 <input type="radio" name="sex" value="F">女-->
<select name="sex" id="">
<option value="M">男</option>
<option value="F">女</option>
</select>
</td>
</tr>
<tr>
<td align="right" valign="baseline">年齡:</td>
<td><input type="number" name="age"></td>
</tr>
<tr>
<td align="right" valign="baseline">電子郵件:</td>
<td><input type="email" name="mail"></td>
</tr>
<tr>
<td align="right" valign="baseline">送貨地址:</td>
<td><input type="text" name="address"></td>
</tr>
<tr>
<td colspan="2" align="center"><input type="submit" value="確認申請"></td>
</tr>
</table>
<input type="hidden" name="register" value="<?php echo date("Y-m-d H:i:s"); ?>">
<input type="hidden" name="MM_insert" value="form1" />
</form>

----------我是分隔線----------我是分隔線----------我是分隔線

列舉 (Enumeration) 資料型別 ~
http://shenfive.pixnet.net/blog/post/48099206-%E5%88%97%E8%88%89-(enumeration)-%E8%B3%87%E6%96%99%E5%9E%8B%E5%88%A5

----------我是分隔線----------我是分隔線----------我是分隔線

https://www.w3schools.com/js/js_validation.asp

https://sizzlejs.com/

https://static.adobelogin.com/renga-idprovider/resources/fda3bb0c31d8a7d3dd194ca1a7e9d7a8/spectrum/script/spectrum_body.js
https://static.adobelogin.com/renga-idprovider/resources/fda3bb0c31d8a7d3dd194ca1a7e9d7a8/spectrum/script/spectrum_capsindicator.js

https://dotblogs.com.tw/easonwei/2012/09/20/74926

http://sky940811.pixnet.net/blog/post/111315737-javascript-%E8%A1%A8%E5%96%AE%E9%A9%97%E8%AD%89

https://blog.25sprout.com/%E8%A1%A8%E5%96%AE%E9%A9%97%E8%AD%89%E5%B0%B1%E9%9D%A0-validation-8751c1d85cd1#.wtsbf21xt

----------我是分隔線----------我是分隔線----------我是分隔線

<form id="form1" method="post" action="">
<table class="tt">
<tr>
<td align="right" valign="baseline">帳號:</td>
<td><input name="userid" type="text" placeholder="EX:alan" title="請輸入8-12字" onfocus="MM_setTextOfLayer('useridmsg','','您的姓名需要:請輸入8-12字\n')" onblur="MM_setTextOfLayer('useridmsg','','\n')"><span id="useridmsg"></span></td>
</tr>
<tr>
<td align="right" valign="baseline">密碼:</td>
<td><input type="password" name="password"></td>
</tr>
<tr>
<td align="right" valign="baseline">確認密碼:</td>
<td><input type="password" name="password2"></td>
</tr>
<tr>
<td align="right" valign="baseline">性別:</td>
<td>
<!--<input type="radio" name="sex" value="M">男 <input type="radio" name="sex" value="F">女-->
<select name="sex" id="">
<option value="M">男</option>
<option value="F">女</option>
</select>
</td>
</tr>
<tr>
<td align="right" valign="baseline">年齡:</td>
<td><input type="number" name="age"></td>
</tr>
<tr>
<td align="right" valign="baseline">電子郵件:</td>
<td><input type="email" name="mail"></td>
</tr>
<tr>
<td align="right" valign="baseline">送貨地址:</td>
<td><input type="text" name="address"></td>
</tr>
<tr>
<td colspan="2" align="center"><input type="submit" value="確認申請"></td>
</tr>
</table>
</form>

----------我是分隔線----------我是分隔線----------我是分隔線

<form id="form1" method="post" action="">
<table class="tt">
<tr>
<td align="right" valign="baseline">帳號:</td>
<td><input name="userid" type="text" placeholder="EX:alan" title="請輸入8-12字" onfocus="MM_setTextOfLayer('useridmsg','','您的姓名需要:請輸入8-12字\n')"><span id="useridmsg"></span></td>
</tr>
<tr>
<td align="right" valign="baseline">密碼:</td>
<td></td>
</tr>
<tr>
<td align="right" valign="baseline">確認密碼:</td>
<td></td>
</tr>
<tr>
<td align="right" valign="baseline">性別:</td>
<td></td>
</tr>
<tr>
<td align="right" valign="baseline">年齡:</td>
<td></td>
</tr>
<tr>
<td align="right" valign="baseline">電子郵件:</td>
<td></td>
</tr>
<tr>
<td align="right" valign="baseline">送貨地址:</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</table>
</form>

----------我是分隔線----------我是分隔線----------我是分隔線

<registerUser.php>---------------------------------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Shop 資料夾中)

<h2>會員註冊</h2>
<h3>提供會員進行註冊，註冊後別了透過電子郵件回覆啟用會員功能。</h3>

index.php?msgcode=您已成功註冊會員，請即刻登入！！！

會員帳號：userid(文字欄位；文字)
密碼：password(確認密碼：password2)(密碼欄位；文字)
性別：sex(選單；文字 男 M；女 F)
年齡：age(文字欄位；整數)
電子郵件：mail(文字欄位；文字)
通訊地址：address(文字欄位；文字)
管理員權限：admin(移除欄位)
會員是否驗證：auth(移除欄位)
register(隱藏欄位；日期)	預設值：<?php echo date("Y-m-d H:i:s"); ?>

----------我是分隔線----------我是分隔線----------我是分隔線

<logout.php>---------------------------------------------------------------------------

※開新檔案/空白頁面；PHP/存檔(存檔至 Shop 資料夾中)
※插入/資料/使用者驗證/登出使用者

如果登出成功，即前往：
index.php

※並修改 logout.php ，"如果登出成功，即前往"：
index.php?msgcode=您已成功登出！！！

----------我是分隔線----------我是分隔線----------我是分隔線

※若需在 index.php 加入提示文字，則可在 Shop.dwt.php 的 <h3>登入</h3> 後加入：
<h5><? echo $_GET['msgcode']; ?></h5>

※並修改 loginCheck.php ，"如果登入失敗，即前往"：
index.php?msgcode=帳號密碼錯誤！！！


----------我是分隔線----------我是分隔線----------我是分隔線

<loginCheck.php>---------------------------------------------------------------------------

※開新檔案/空白頁面；PHP/存檔(存檔至 Shop 資料夾中)
※插入表單/插入表單文字欄位(id 為 user 及 password)
※插入/資料/使用者驗證/登入使用者

如果登入成功，即前往：
index.php

如果登入失敗，即前往：
index.php

<logout.php>---------------------------------------------------------------------------

※開新檔案/空白頁面；PHP/存檔(存檔至 Shop 資料夾中)
※插入/資料/使用者驗證/登出使用者

如果登出成功，即前往：
index.php

----------我是分隔線----------我是分隔線----------我是分隔線

<製作 index.php 前，必須先修改 Shop.dwt.php>---------------------------------------
第一行加入：

<?php session_start();?>

在 <h3>登入</h3> 前加入：

<?php if(!isset($_SESSION['MM_Username'])){?>

在 </form> 後加入：

<?php }else{ ?>
<h3>會員服務</h3>
<form action="logout.php" method="post">
<p>歡迎 <?php echo $_SESSION['MM_Username'];?> 您光臨</p>
<p><button type="submit">登出</button></p>
</form>
<?php }?>

----------我是分隔線----------我是分隔線----------我是分隔線

<phpmyadmin的配置>---------------------------------------------------------------------------
DATABASE：shop
TABLE：user
COLUMNS：9
會員帳號	userid	varchar(20)	NOT NULL	PRIMARY KEY
密碼	password	varchar(20)	NOT NULL
性別	sex	enum('F','M')	NOT NULL default 'F'
年齡	age	int(11)	NOT NULL
電子郵件	mail	varchar(50)	default NULL
通訊地址	address	varchar(100)	default NULL
管理員權限	admin	enum('Y','N')	NOT NULL default 'N'
會員是否驗證	auth	enum('Y','N')	NOT NULL default 'N'
註冊日期 register	datetime	NOT NULL
---------------------------------------------------------------------------
SQL語法(新增 user 資料表)：

CREATE TABLE `user` (
`userid` varchar(20) NOT NULL COMMENT '會員帳號',
`password` varchar(20) NOT NULL COMMENT '密碼',
`sex` enum('F','M') NOT NULL default 'F' COMMENT '性別',
`age` int(11) NOT NULL COMMENT '年齡',
`mail` varchar(50) default NULL COMMENT '電子郵件',
`address` varchar(100) default NULL COMMENT '通訊地址',
`admin` enum('Y','N') NOT NULL default 'N' COMMENT '管理員權限',
`auth` enum('Y','N') NOT NULL default 'N' COMMENT '會員是否驗證',
`register` datetime NOT NULL COMMENT '註冊日期',
PRIMARY KEY (`userid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

---------------------------------------------------------------------------------------
SQL語法(新增 user 資料紀錄)：

INSERT INTO `user` VALUES ('weill', 'weill', 'M', 30, 'weill@gjun.com', '台北市100公園路30號', 'Y', 'Y', '2011-06-19 02:36:56');
INSERT INTO `user` VALUES ('irock', 'irock', 'F', 20, 'irock@gjun.com', '台南市700中華路108號', 'N', 'Y', '2011-06-19 17:49:34');
INSERT INTO `user` VALUES ('alan', 'alan', 'M', 25, 'alan@gjun.com', '台中市500中正路200號', 'N', 'N', '2011-06-20 10:11:12');

----------我是分隔線----------我是分隔線----------我是分隔線

--------- 計數器 計數人數 不會 因為 網頁重整 而累積人數 -----------------------------
(一)
第一行改為：

<?php
session_start();	//加入啟動session
require_once('../Connections/shop.php'); //連結資料庫
?>

(二)
在 mysql_select_db($database_shop, $shop); 之後、mysql_free_result($Recordset1); 之前改為：

$query_Recordset1 = "SELECT * FROM `count` WHERE id = $id";
$Recordset1 = mysql_query($query_Recordset1, $shop) or die(mysql_error());
if(mysql_num_rows($Recordset1)<1){
$query_Recordset1 = "INSERT INTO `count` VALUES($id,1)";
mysql_query($query_Recordset1, $shop) or die(mysql_error());
return sprintf("%06d",1);
}elseif(!$_SESSION['counter']){
$row_Recordset1 = mysql_fetch_assoc($Recordset1);
$totalRows_Recordset1 = mysql_num_rows($Recordset1);
$query_Recordset1 = "UPDATE `count` SET counter=".($row_Recordset1['counter']+1)." WHERE id = $id";
mysql_query($query_Recordset1, $shop) or die(mysql_error());
mysql_free_result($Recordset1);
$_SESSION['counter']=TRUE;
return sprintf("%06d",$row_Recordset1['counter']+1);
}else{
$row_Recordset1 = mysql_fetch_assoc($Recordset1);
$totalRows_Recordset1 = mysql_num_rows($Recordset1);
mysql_free_result($Recordset1);
return sprintf("%06d",$row_Recordset1['counter']);
}

----------我是分隔線----------我是分隔線----------我是分隔線

在index.php中 的 第一行 加入：

<?php require("mysqlCounter.php"); ?>

----------------------------------------------------------------------------------------
在index.php中 的 計數器位置 加入：

<blockquote>
<p>自(自行輸入日期)以來，您是第 <?php echo sqlCounter(1); ?> 位參觀訪客</p>
</blockquote>

----------我是分隔線----------我是分隔線----------我是分隔線

--------- 計數器 計數人數會因為網頁重整而累積人數 -----------------------------
(一)
第一行確認：

<?php
require_once('../Connections/shop.php'); //連結資料庫
?>

(二)
在 mysql_select_db($database_shop, $shop); 之後、mysql_free_result($Recordset1); 之前改為：

$query_Recordset1 = "SELECT * FROM `count` WHERE id = $id";
$Recordset1 = mysql_query($query_Recordset1, $shop) or die(mysql_error());
if(mysql_num_rows($Recordset1)<1){
$query_Recordset1 = "INSERT INTO `count` VALUES($id,1)";
mysql_query($query_Recordset1, $shop) or die(mysql_error());
return sprintf("%06d",1);
}else{
$row_Recordset1 = mysql_fetch_assoc($Recordset1);
$totalRows_Recordset1 = mysql_num_rows($Recordset1);
$query_Recordset1 = "UPDATE `count` SET counter=".($row_Recordset1['counter']+1)." WHERE id = $id";
mysql_query($query_Recordset1, $shop) or die(mysql_error());
mysql_free_result($Recordset1);
return sprintf("%06d",$row_Recordset1['counter']+1);
}

----------我是分隔線----------我是分隔線----------我是分隔線

加入以下語法：

function sqlCounter($id){
global $database_shop;
global $shop;
//....將前一步驟繫結語法移動至此....
}

----------我是分隔線----------我是分隔線----------我是分隔線

<mysqlCounter.php>---------------------------------------------------------------------------
※開新檔案/空白頁面；PHP/存檔(存檔至 Shop 資料夾中)
※清空所有內容
※確認MySQL連線
※建立資料集繫結：
名稱：Recordset1(建議先用預設名稱，因之後名稱會被覆蓋)
連線：shop
表格：count
欄：全選
篩選器：id；=；輸入值；?
排序：無

----------我是分隔線----------我是分隔線----------我是分隔線

CREATE TABLE `count` (
`id` INT UNSIGNED NOT NULL COMMENT '頁面編號',
`counter` INT UNSIGNED NOT NULL COMMENT '計數值',
PRIMARY KEY ( `id` ) ) ENGINE = MYISAM ;

2017/03/05----------我是分隔線----------我是分隔線----------我是分隔線







2017/02/19----------我是分隔線----------我是分隔線----------我是分隔線
C:/Users/student/AppData/Local/Temp
----------我是分隔線----------我是分隔線----------我是分隔線
------ 更新 討論區主題 的回應數以及最後回應時間(寫在 detailsView.php) ------
在 $Result1 = mysql_query($insertSQL, $shop) or die(mysql_error()); 之後，加入此行：
mysql_query("UPDATE titles SET count=count+1,lastNewsDate='".date("Y-m-d H:i:s")."' WHERE titleid=".$_POST['titleid']);
----------我是分隔線----------我是分隔線----------我是分隔線
<input type="hidden" name="titleid" value="<?php echo $row_RecordsetTitles['titleid']; ?>">
<input type="hidden" name="newsDate" value="<?php echo date("Y-m-d H:i:s"); ?>">

----------我是分隔線----------我是分隔線----------我是分隔線

<input name="subject" type="text" value="RE:<?php echo $row_RecordsetTitles['subject']; ?>" size="32" readonly="readonly" />
----------我是分隔線----------我是分隔線----------我是分隔線
參與討論~

※插入紀錄

連線：shop
表格：details
插入後，請前往：不輸入(※維持空白並重整頁面)

表單欄位~
titleid：(隱藏欄位；整數)	預設值：<?php echo $row_RecordsetTitles['titleid']; ?>
detailsid：(移除欄位)
電子郵件：(文字欄位；文字)
作者姓名：(文字欄位；文字)
回應主題：(文字欄位；文字)	預設值：RE:<?php echo $row_RecordsetTitles['subject']; ?>
回應內容：(文字區域；文字)
newsDate：(隱藏欄位；日期)	預設值：<?php echo date("Y-m-d H:i:s"); ?>
----------我是分隔線----------我是分隔線----------我是分隔線
<form action="" method="post" name="form1">
<table width="95%">
<tr valign="baseline">
<td align="right">電子郵件:</td>
<td colspan="2"><input type="email" name="email" value="" size="32" /></td>
</tr>
<tr valign="baseline">
<td align="right">姓名:</td>
<td colspan="2"><input type="text" name="name" value="" size="32" /></td>
</tr>
<tr valign="baseline">
<td align="right">主題:</td>
<td colspan="2"><input type="text" name="subject" size="32" /></td>
</tr>
<tr valign="baseline">
<td align="right" valign="top">內容:</td>
<td colspan="2"><textarea name="memo" cols="40" rows="6"></textarea></td>
</tr>
<tr valign="baseline">
<td align="right">&nbsp;</td>
<td colspan="2"><input type="submit" value="新增回應" /></td>
</tr> 
</table>
</form>
----------我是分隔線----------我是分隔線----------我是分隔線
(如果資料集是不是空的，即顯示...)

<?php if ($totalRows_RecordsetDetails > 0) { // Show if recordset not empty ?>
<tr>
<td> <p>回應作者：<?php echo $row_RecordsetDetails['name']; ?>回應日期：<?php echo $row_RecordsetDetails['newsDate']; ?><br />
回應主題：<?php echo $row_RecordsetDetails['subject']; ?><br />
回應內容：<br />
<?php echo nl2br($row_RecordsetDetails['memo']); ?></p></td>
</tr>
<?php } // Show if recordset not empty ?>


----------我是分隔線----------我是分隔線----------我是分隔線
(如果資料集是空的，即顯示...)

<?php if ($totalRows_RecordsetDetails == 0) { // Show if recordset empty ?>
<tr>
<td align="center"><h5>目前尚未有任何回應 ， 歡迎踴躍留言回覆喔 ！！</h5></td>
</tr>
<?php } // Show if recordset empty ?>
----------我是分隔線----------我是分隔線----------我是分隔線
顯示區域：(如果資料集是空的，即顯示...)
目前尚未有任何回應 ， 歡迎踴躍留言回覆喔 ！！
----------我是分隔線----------我是分隔線----------我是分隔線
<table class="tt">
<tr>
<td><h6>討論主題~</h6></td>
</tr>
<tr>
<td><p>主題作者：<?php echo $row_RecordsetTitles['name']; ?>建立日期：<?php echo $row_RecordsetTitles['createDate']; ?><br />
主題：<?php echo $row_RecordsetTitles['subject']; ?><br />
內容：<br />
<?php echo nl2br($row_RecordsetTitles['memo']); ?></p></td>
</tr>
<tr>
<td><h6>回應內容~</h6></td>
</tr>
<tr>
<td> <p>回應作者：<?php echo $row_RecordsetDetails['name']; ?>回應日期：<?php echo $row_RecordsetDetails['newsDate']; ?><br />
回應主題：<?php echo $row_RecordsetDetails['subject']; ?><br />
回應內容：<br />
<?php echo nl2br($row_RecordsetDetails['memo']); ?></p></td>
</tr>
<tr>
<td><h6>參與討論~</h6></td>
</tr>
<tr>
<td>插入表單</td>
</tr>
</table>

----------我是分隔線----------我是分隔線----------我是分隔線

<h2>主題瀏覽及回應</h2>
<h3>您可以在此觀賞其它訪客所參與討論內容！</h3>
<p>&nbsp;</p>
<table class="tt">
<tr>
<td><h6>討論主題~</h6></td>
</tr>
<tr>
<td><p>主題作者：建立日期：<br />
主題：<br />
內容：</p></td>
</tr>
<tr>
<td><h6>回應內容~</h6></td>
</tr>
<tr>
<td> <p>回應作者：回應日期：<br />
回應主題：<br />
回應內容：</p></td>
</tr>
<tr>
<td><h6>參與討論~</h6></td>
</tr>
<tr>
<td><p>...</p></td>
</tr>
</table>
----------我是分隔線----------我是分隔線----------我是分隔線
#插入/表格(6*1)
---------------------------------------------------------------------------
討論主題~

主題作者：建立日期：
主題：
內容：
---------------------------------------------------------------------------
回應內容~

回應作者：回應日期：
回應主題：
回應內容：
---------------------------------------------------------------------------
參與討論~

※插入紀錄

連線：shop
表格：details
插入後，請前往：不輸入(※維持空白並重整頁面)

表單欄位~
titleid：(隱藏欄位；整數)	預設值：<?php echo $row_RecordsetTitles['titleid']; ?>
detailsid：(移除欄位)
電子郵件：(文字欄位；文字)
作者姓名：(文字欄位；文字)
回應主題：(文字欄位；文字)	預設值：RE:<?php echo $row_RecordsetTitles['subject']; ?>
回應內容：(文字區域；文字)
newsDate：(隱藏欄位；日期)	預設值：<?php echo date("Y-m-d H:i:s"); ?>
----------我是分隔線----------我是分隔線----------我是分隔線
<h2>主題瀏覽及回應</h2>
<h3>您可以在此觀賞其它訪客所參與討論內容！</h3>
----------我是分隔線----------我是分隔線----------我是分隔線
※確認MySQL連線
---------------------------------------------------------------------------
※建立資料集繫結：
名稱：RecordsetTitles(可自訂)
連線：shop
表格：titles
欄：全選
篩選器：titleid；=；URL參數；titleid
排序：無

名稱：RecordsetDetails(可自訂)
連線：shop
表格：details
欄：全選
篩選器：titleid；=；URL參數；titleid
排序：newsDate；遞減
----------我是分隔線----------我是分隔線----------我是分隔線
<detailsView.php>---------------------------------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Shop 資料夾中)
----------我是分隔線----------我是分隔線----------我是分隔線
<phpmyadmin的配置>---------------------------------------------------------------------------
DATABASE：shop
TABLE：details
COLUMNS：7
討論主題編號	titleid	INT	NOT NULL
討論內容編號	detailsid	INT	NOT NULL	AUTO_INCREMENT	PRIMARY KEY
電子郵件	email	VARCHAR	100	NULL
作者姓名	name	VARCHAR	50	NOT NULL
回應主題	subject	VARCHAR	255	NOT NULL
回應內容	memo	TEXT	NOT NULL
回應內容建立日	newsDate	DATETIME	NULL
---------------------------------------------------------------------------
SQL語法(新增 details 資料表)：

CREATE TABLE `details` (
`titleid` INT NOT NULL COMMENT '討論主題編號',
`detailsid` INT NOT NULL AUTO_INCREMENT PRIMARY KEY COMMENT '討論內容編號',
`email` VARCHAR( 100 ) NULL COMMENT '電子郵件',
`name` VARCHAR( 50 ) NOT NULL COMMENT '作者姓名',
`subject` VARCHAR( 255 ) NOT NULL COMMENT '回應主題',
`memo` TEXT NOT NULL COMMENT '回應內容',
`newsDate` DATETIME NULL COMMENT '回應內容建立日') ENGINE = MYISAM ;
---------------------------------------------------------------------------
SQL語法(匯入 details 資料表紀錄)：


INSERT INTO `details` VALUES (1, 1, 'aaron@ms11.url.com.tw', '王太太', 0x46573a504850e5a5bde69bb8e68ea8e896a6, '嗯！\r\n我也覺得這是

一本不錯的書籍，\r\n歡迎大家一起分享心得', '2009-06-09 08:39:40');
INSERT INTO `details` VALUES (2, 2, 'test@msa.hinet.net', '好好', 0x46573a504850e5a5bde69bb8e68ea8e896a6, '我也覺得不錯喔！', '2009-

06-09 08:53:03');

<detailsView.php>---------------------------------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Shop 資料夾中)
---------------------------------------------------------------------------
----------我是分隔線----------我是分隔線----------我是分隔線
<form action="<?php echo $editFormAction; ?>" name="form1" method="POST">
<table class="tt">
<tr>
<td align="right">姓名:</td>
<td><input name="name" type="text" required="required" placeholder="*必填" maxlength="50"></td>
</tr>
<tr>
<td align="right">電子郵件:</td>
<td><input type="email" name="email" placeholder="" maxlength="100"></td>
</tr>
<tr>
<td align="right">主題:</td>
<td><input name="subject" type="text" required="required" placeholder="*必填" maxlength="255"></td>
</tr>
<tr>
<td align="right">內容:</td>
<td><textarea name="memo" cols="45" rows="10" required="required" placeholder="*必填"></textarea></td>
</tr>
<tr>
<td align="right">&nbsp;</td>
<td><input type="submit" value="新增主題" />
</tr> 
</table>
<input type="hidden" name="createDate" value="<? echo date("Y-m-d H:i:s"); ?>">
<input type="hidden" name="MM_insert" value="form1" />
</form>
----------我是分隔線----------我是分隔線----------我是分隔線
※插入紀錄

連線：shop
表格：titles
插入後，請前往：titleView.php

表單欄位~
titleid：(移除欄位)
電子郵件：(文字欄位；文字)	※思考是否有與 作者姓名 交換的必要性
作者姓名：(文字欄位；文字)	※思考是否有與 電子郵件 交換的必要性
討論主題：(文字欄位；文字)
討論內容：(文字區域；文字)
createDate：(隱藏欄位；日期)	預設值：<?php echo date("Y-m-d H:i:s"); ?>
lastNewsDate：(移除欄位)
count：(移除欄位)
----------我是分隔線----------我是分隔線----------我是分隔線
<form action="">
<table class="tt">
<tr>
<td align="right">姓名:</td>
<td><input name="name" type="text" required="required" placeholder="*必填" maxlength="50"></td>
</tr>
<tr>
<td align="right">電子郵件:</td>
<td><input type="text" name="email" placeholder="" maxlength="100"></td>
</tr>
<tr>
<td align="right">主題:</td>
<td><input name="subject" type="text" required="required" placeholder="*必填" maxlength="255"></td>
</tr>
<tr>
<td align="right">內容:</td>
<td><textarea name="memo" cols="45" rows="10" required="required" placeholder="*必填"></textarea></td>
</tr>
<tr>
<td align="right">&nbsp;</td>
<td><input type="submit" value="新增主題" />
</tr> 
</table>
</form>
----------我是分隔線----------我是分隔線----------我是分隔線
<h2>討論主題新增區</h2>
<h3>歡迎您在此提出您的任何疑問，與大家一同討論！</h3>
<p>&nbsp;</p>
<form action="">
<table class="tt">
<tr>
<td align="right">姓名:</td>
<td><input type="text" name="name" placeholder="*必填"></td>
</tr>
<tr>
<td align="right">電子郵件:</td>
<td><input type="text" name="email" placeholder="*必填"></td>
</tr>
<tr>
<td align="right">主題:</td>
<td><input type="text" name="subject" placeholder="*必填"></td>
</tr>
<tr>
<td align="right">內容:</td>
<td><textarea name="memo" cols="45" rows="10"></textarea></td>
</tr>
<tr>
<td align="right">&nbsp;</td>
<td><input type="submit" value="新增主題" />
</tr> 
</table>
</form>
----------我是分隔線----------我是分隔線----------我是分隔線
<h2>討論主題新增區</h2>
<h3>歡迎您在此提出您的任何疑問，與大家一同討論！</h3>
----------我是分隔線----------我是分隔線----------我是分隔線
<createTitle.php>---------------------------------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Shop 資料夾中)
----------我是分隔線----------我是分隔線----------我是分隔線
<table class="tt">
<tr>
<th align="center" scope="col"><h6>主題名稱</h6></th>
<th align="center" scope="col"><h6>作者</h6></th>
<th align="center" scope="col"><h6>回應數量</h6></th>
<th align="center" scope="col"><h6>建立日期/時間</h6></th>
</tr>
<?php do { ?><tr>
<td align="center"><p><?php echo $row_Recordset1['subject']; ?></p></td>
<td align="center"><p><?php echo $row_Recordset1['name']; ?></p></td>
<td align="center"><p><?php echo $row_Recordset1['count']; ?></p></td>
<td align="center"><p><?php echo $row_Recordset1['createDate']; ?></p></td>
</tr><?php } while ($row_Recordset1 = mysql_fetch_assoc($Recordset1)); ?>
<tr>
<td colspan="2" align="center"><p>第 <?php echo ($startRow_Recordset1 + 1) ?> 筆/到第 <?php echo min($startRow_Recordset1 + $maxRows_Recordset1, $totalRows_Recordset1) ?> 筆/共 <?php echo $totalRows_Recordset1 ?> 筆</p></td>
<td colspan="2" align="center"><p>[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, 0, $queryString_Recordset1); ?>">第一頁</a>][<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, max(0, $pageNum_Recordset1 - 1), $queryString_Recordset1); ?>">上一頁</a>][<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, min($totalPages_Recordset1, $pageNum_Recordset1 + 1), $queryString_Recordset1); ?>">下一頁</a>][<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, $totalPages_Recordset1, $queryString_Recordset1); ?>">最後一頁</a>]</p></td>
</tr>
</table>

----------我是分隔線----------我是分隔線----------我是分隔線

<tr>
<td colspan="2" align="center"><p>第 <?php echo ($startRow_Recordset1 + 1) ?> 筆/到第 <?php echo min($startRow_Recordset1 + $maxRows_Recordset1, $totalRows_Recordset1) ?> 筆/共 <?php echo $totalRows_Recordset1 ?> 筆</p></td>
<td colspan="2" align="center"><p>[<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, 0, $queryString_Recordset1); ?>">第一頁</a>][<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, max(0, $pageNum_Recordset1 - 1), $queryString_Recordset1); ?>">上一頁</a>][<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, min($totalPages_Recordset1, $pageNum_Recordset1 + 1), $queryString_Recordset1); ?>">下一頁</a>][<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, $totalPages_Recordset1, $queryString_Recordset1); ?>">最後一頁</a>]</p></td>
</tr>

----------我是分隔線----------我是分隔線----------我是分隔線

<tr>
<th scope="col"><h6>主題名稱</h6></th>
<th scope="col"><h6>作者</h6></th>
<th scope="col"><h6>回應數量</h6></th>
<th scope="col"><h6>建立日期/時間</h6></th>
</tr>
----------我是分隔線----------我是分隔線----------我是分隔線
<h2>討論區</h2>
<h3>您可以在此瀏覽您有興趣的主題並參與討論！</h3>
----------我是分隔線----------我是分隔線----------我是分隔線
※建立資料集繫結：
名稱：Recordset1(可自訂)
連線：shop
表格：titles
欄：全選
篩選器：無
排序：createDate；遞減
----------我是分隔線----------我是分隔線----------我是分隔線
TABLE：titles
COLUMNS：8
討論主題編號	titleid	INT	NOT NULL	AUTO_INCREMENT	PRIMARY KEY
電子郵件	email	VARCHAR	100	NULL
作者姓名	name	VARCHAR	50	NOT NULL
討論主題	subject	VARCHAR	255	NOT NULL
討論內容	memo	TEXT	NOT NULL
主題討論發起日	createDate	DATETIME	NULL
主題最後討論日	lastNewsDate	DATETIME	NULL
參與討論數量	count	INT	NULL(※注意預設值為0的問題)
----------我是分隔線----------我是分隔線----------我是分隔線
SQL語法(新增 titles 資料表)：

CREATE TABLE `titles` (
`titleid` INT NOT NULL AUTO_INCREMENT PRIMARY KEY COMMENT '討論主題編號',
`email` VARCHAR( 100 ) NULL COMMENT '電子郵件',
`name` VARCHAR( 50 ) NOT NULL COMMENT '作者姓名',
`subject` VARCHAR( 255 ) NOT NULL COMMENT '討論主題',
`memo` TEXT NOT NULL COMMENT '討論內容',
`createDate` DATETIME NULL COMMENT '主題討論發起日',
`lastNewsDate` DATETIME NULL COMMENT '主題最後討論日',
`count` INT NULL COMMENT '參與討論數量') ENGINE = MYISAM ;
----------我是分隔線----------我是分隔線----------我是分隔線
SQL語法(匯入 titles 資料表紀錄):

INSERT INTO `titles` VALUES (1, 'prisd@prisd.com.tw', '陳桶一', 'PHP好書推薦', '「PHP與MySQL架設Windows Web資料庫實務」\r\n這是一本不錯的書籍、不知大家有沒有什麼竟見\r\n一起討論？', '2009-06-08 16:28:17', '2009-06-09 08:39:40', 1);
INSERT INTO `titles` VALUES (2, 'ahah@yahoo.com.tw', '阿修羅', 'DevPHP好用的編輯工具', '跟大家分享一個好用的PHP編輯工具\r\nDevPHP不知各位大大有沒有什麼\r\n好的技巧可以一起分享的', '2009-06-09 07:34:16', '2009-06-09 08:53:03', 1);
INSERT INTO `titles` VALUES 
(3, 'gogo199@gmail.com', '困惑的人', '什麼是變數的變數啊?', '有誰可以教教我，關於「可變的變數或是變數的變數」它到底是什麼啊？\r\n\r\n我一直搞不清楚、謝謝', '2009-06-09 07:36:51', NULL, 0);
INSERT INTO `titles` VALUES (4, 'tom@yahoo.com.tw', '湯姆熊', 'DW與PHP', '跟大家分享一本好書\r\nPHP不知各位有沒有什麼\r\n好書可以看的','2009-06-10 08:30:00', NULL, 0);
INSERT INTO `titles` VALUES 
(5, 'alan@gmail.com', '用功的學生', '作品完成', '作業上傳完畢，\r\n\r\n謝謝', '2009-06-11 11:01:05', NULL, 0);
----------我是分隔線----------我是分隔線----------我是分隔線
<?php echo nl2br($row_Recordset1['memo']); ?>
2017/02/19----------我是分隔線----------我是分隔線----------我是分隔線









2017/02/12----------我是分隔線----------我是分隔線----------我是分隔線
<h2>留言板</h2>
<h3>您可以在此提供對於本網站的任何建議、謝謝您！！</h3>
<p>&nbsp;</p>
<p><form action="">
<p>姓名: <input name="name" type="text" required="required" placeholder="*必填欄位"></p>
<p>電子郵件: <input type="email" name="email"></p>
<p>主旨: <input type="text" name="subject" required="required" placeholder="*必填欄位"></p>
<p>內容: <br> <textarea name="memo" id="memo" cols="50" rows="10" required="required" placeholder="*必填欄位"></textarea></p>
<input type="submit" value="新增留言">
</form></p>
----------我是分隔線----------我是分隔線----------我是分隔線

表單欄位~
serial：(移除欄位)
姓名：(文字欄位；文字)
電子郵件：(電子郵件欄位；文字)
留言主題：(文字欄位；文字)
留言內容：(文字區域；文字)
date：(隱藏欄位；日期)	預設值：<?php echo date("Y-m-d H:i:s"); ?>

----------我是分隔線----------我是分隔線----------我是分隔線

<h2>留言板</h2>
<h3>您可以在此提供對於本網站的任何建議、謝謝您！！</h3>

----------我是分隔線----------我是分隔線----------我是分隔線

<guestForm.php>---------------------------------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Shop 資料夾中)
----------我是分隔線----------我是分隔線----------我是分隔線
<button onclick="MM_goToURL('parent','guestForm.php');return document.MM_returnValue">我要留言</button>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php do { ?>
<table class="tt" border="1">
<tr>
<td align="left"><h3>作者：<?php echo $row_Recordset1['name']; ?></h3></td>
<td align="left"><h4>電子郵件：<?php echo $row_Recordset1['email']; ?></h4></td>
</tr>
<tr>
<td colspan="2" align="left"><h3>留言主題：<?php echo $row_Recordset1['subject']; ?></h3></td>
</tr>
<tr>
<td align="left" colspan="2"><h3>留言內容：<?php echo $row_Recordset1['memo']; ?></h3></td>
</tr>
<tr>
<td></td>
<td align="left"><h5>留言時間：<?php echo $row_Recordset1['date']; ?></h5></td>
</tr>
</table>
<p>&nbsp;</p>
<hr>
<p>&nbsp;</p>
<?php } while ($row_Recordset1 = mysql_fetch_assoc($Recordset1)); ?>
----------我是分隔線----------我是分隔線----------我是分隔線
<table class="tt">
<tr>
<td align="left"><h3>作者：<?php echo $row_Recordset1['name']; ?></h3></td>
<td align="left"><h4>電子郵件：<?php echo $row_Recordset1['email']; ?></h4></td>
</tr>
<tr>
<td colspan="2" align="left"><h3>留言主題：<?php echo $row_Recordset1['subject']; ?></h3></td>
</tr>
<tr>
<td align="left" colspan="2"><h3>留言內容：<?php echo $row_Recordset1['memo']; ?></h3></td>
</tr>
<tr>
<td></td>
<td align="left"><h5>留言時間：<?php echo $row_Recordset1['date']; ?></h5></td>
</tr>
</table>
----------我是分隔線----------我是分隔線----------我是分隔線
※建立資料集繫結：
名稱：Recordset1(可自訂)
連線：shop
表格：guestbook
欄：全選
篩選器：無
排序：date；遞減
----------我是分隔線----------我是分隔線----------我是分隔線
.tt{width: 90%; margin:auto; border: 1px solid #333; border-collapse:collapse;}
.tt td{border: 1px dashed #333;}
----------我是分隔線----------我是分隔線----------我是分隔線
<table class="tt">
<tr>
<td align="left">作者：</td>
<td align="left">電子郵件：</td>
</tr>
<tr>
<td align="left">留言主題：</td>
<td></td>
</tr>
<tr>
<td align="left" colspan="2">留言內容：</td>
</tr>
<tr>
<td></td>
<td align="left">留言時間：</td>
</tr>
</table>
----------我是分隔線----------我是分隔線----------我是分隔線
#插入表格(5列*2攔 或 4列*2攔)

留言編號：(可思考是否列出，如：若需查詢及刪除...)

作者：	電子郵件：
留言主題：
留言內容：
留言時間：
----------我是分隔線----------我是分隔線----------我是分隔線
<h2>留言板</h2>
<h3>底下列出了所有訪客對網站所提出的所有意見！</h3>
<p>&nbsp;</p>
<p>&nbsp;</p>
<table class="tt">
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</table>

----------我是分隔線----------我是分隔線----------我是分隔線
mysql_query("SET NAMES utf8");
mysql_query("CHARACTER SET utf8");
mysql_query("SET CHARACTER_SET_CLIENT =utf8");
mysql_query("SET COLLATION_CONNECTION=utf8_general_ci");
mysql_query("SET CHARACTER_SET_RESULTS =utf8");
mysql_query("SET CHARACTER_SET_SERVER = utf8");
mysql_query("SET character_set_connection=utf8");
----------我是分隔線----------我是分隔線----------我是分隔線
※建立MySQL連線：
連線名稱：shop
MySQL伺服器：localhost
使用者名稱：root
密碼：(自訂密碼)
資料庫：shop(建議用選取的)
----------我是分隔線----------我是分隔線----------我是分隔線
<guestBook.php>(存檔至 Shop 資料夾中)---------------------------------------------------------------------------

※開新檔案/來自範本的頁面/存檔(存檔至 Shop 資料夾中)
----------我是分隔線----------我是分隔線----------我是分隔線
SQL語法(匯入guestbook資料表紀錄)：

INSERT INTO `guestbook` VALUES (1, '陳巨匠', 'gjun@yahoo.com.tw', 'Dreamweaver真好用', 'Dreamweaver搭配PHP連結至MySQL就是這麼的簡單\r\n您一定要試試看喔！', '2009-06-06 17:26:52');
INSERT INTO `guestbook` VALUES (2, '方大明', 'fun.show@gmail.com', '我覺得巨匠很不錯喔', '很開心新的套課推出了，期待您跟我一起加入巨匠的大家庭喔！', '2009-06-06 17:56:33');
INSERT INTO `guestbook` VALUES (3, '方大明', 'fun.show@gmail.com', '我覺得巨匠很不錯喔', '很開心新的套課推出了，期待您跟我一起加入巨匠的大家庭喔！', '2009-06-06 17:56:33');
INSERT INTO `guestbook` VALUES (4, '方大明', 'fun.show@gmail.com', '我覺得巨匠很不錯喔', '很開心新的套課推出了，期待您跟我一起加入巨匠的大家庭喔！', '2009-06-06 17:56:33');
INSERT INTO `guestbook` VALUES (5, '方大明', 'fun.show@gmail.com', '我覺得巨匠很不錯喔', '很開心新的套課推出了，期待您跟我一起加入巨匠的大家庭喔！', '2009-06-06 17:56:33');
INSERT INTO `guestbook` VALUES (6, '方大明', 'fun.show@gmail.com', '我覺得巨匠很不錯喔', '很開心新的套課推出了，期待您跟我一起加入巨匠的大家庭喔！', '2009-06-06 17:56:33');
INSERT INTO `guestbook` VALUES (7, '方大明', 'fun.show@gmail.com', '我覺得巨匠很不錯喔', '很開心新的套課推出了，期待您跟我一起加入巨匠的大家庭喔！', '2009-06-06 17:56:33');
----------我是分隔線----------我是分隔線----------我是分隔線
SQL語法(新增guestbook資料表)：

CREATE TABLE `guestbook` (
`serial` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,
`name` VARCHAR( 100 ) NOT NULL ,
`email` VARCHAR( 100 ) NULL ,
`subject` VARCHAR( 255 ) NOT NULL ,
`memo` TEXT NOT NULL ,
`date` DATETIME NULL ) ENGINE = MYISAM ;
<phpmyadmin的配置>---------------------------------------------------------------------------
DATABASE：shop

SQL語法(新增shop資料庫)：
CREATE DATABASE `shop` ;
---------------------------------------------------------------------------
TABLE：guestbook
COLUMNS：6
留言編號	serial	INT	NOT NULL	AUTO_INCREMENT	PRIMARY KEY
姓名	name	VARCHAR	100	NOT NULL
電子郵件	email	VARCHAR	100	NULL
留言主題	subject	VARCHAR	255	NOT NULL
留言內容	memo	TEXT	NOT NULL
留言日期	date	DATETIME	NULL
----------我是分隔線----------我是分隔線----------我是分隔線
mysql_query("SET NAMES utf8");
mysql_query("CHARACTER SET utf8");
mysql_query("SET CHARACTER_SET_CLIENT =utf8");
mysql_query("SET COLLATION_CONNECTION=utf8_general_ci");
mysql_query("SET CHARACTER_SET_RESULTS =utf8");
mysql_query("SET CHARACTER_SET_SERVER = utf8");
mysql_query("SET character_set_connection=utf8");
----------我是分隔線----------我是分隔線----------我是分隔線
<?php require_once('Connections/stud.php'); ?>
<?php
if (!function_exists("GetSQLValueString")) {
function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "") 
{
if (PHP_VERSION < 6) {
$theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;
}

$theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);

switch ($theType) {
case "text":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break; 
case "long":
case "int":
$theValue = ($theValue != "") ? intval($theValue) : "NULL";
break;
case "double":
$theValue = ($theValue != "") ? doubleval($theValue) : "NULL";
break;
case "date":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break;
case "defined":
$theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;
break;
}
return $theValue;
}
}

if ((isset($_POST['studno'])) && ($_POST['studno'] != "")) {
$deleteSQL = sprintf("DELETE FROM student WHERE studno=%s",
GetSQLValueString($_POST['studno'], "text"));

mysql_select_db($database_stud, $stud);
$Result1 = mysql_query($deleteSQL, $stud) or die(mysql_error());

$deleteGoTo = "index.php?msg=資料刪除成功";
if (isset($_SERVER['QUERY_STRING'])) {
$deleteGoTo .= (strpos($deleteGoTo, '?')) ? "&" : "?";
$deleteGoTo .= $_SERVER['QUERY_STRING'];
}
header(sprintf("Location: %s", $deleteGoTo));
}
?>
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
</head>

<body>
<form action="" name="form1" method="post">
請輸入欲刪除學號：<input type="text" name="studno">
<input type="submit" value="確認刪除">
</form>
</body>
</html>
----------我是分隔線----------我是分隔線----------我是分隔線
<form action="" name="form1" method="post">
請輸入欲刪除學號：<input type="text" name="studno">
<input type="submit" value="確認刪除">
</form>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php require_once('Connections/stud.php'); ?>
<?php
if (!function_exists("GetSQLValueString")) {
function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "") 
{
if (PHP_VERSION < 6) {
$theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;
}

$theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);

switch ($theType) {
case "text":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break; 
case "long":
case "int":
$theValue = ($theValue != "") ? intval($theValue) : "NULL";
break;
case "double":
$theValue = ($theValue != "") ? doubleval($theValue) : "NULL";
break;
case "date":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break;
case "defined":
$theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;
break;
}
return $theValue;
}
}

$editFormAction = $_SERVER['PHP_SELF'];
if (isset($_SERVER['QUERY_STRING'])) {
$editFormAction .= "?" . htmlentities($_SERVER['QUERY_STRING']);
}

if ((isset($_POST["MM_update"])) && ($_POST["MM_update"] == "form1")) {
$updateSQL = sprintf("UPDATE student SET name=%s, phone=%s, address=%s WHERE studno=%s",
GetSQLValueString($_POST['name'], "text"),
GetSQLValueString($_POST['phone'], "text"),
GetSQLValueString($_POST['address'], "text"),
GetSQLValueString($_POST['studno'], "text"));

mysql_select_db($database_stud, $stud);
$Result1 = mysql_query($updateSQL, $stud) or die(mysql_error());

$updateGoTo = "index.php";
if (isset($_SERVER['QUERY_STRING'])) {
$updateGoTo .= (strpos($updateGoTo, '?')) ? "&" : "?";
$updateGoTo .= $_SERVER['QUERY_STRING'];
}
header(sprintf("Location: %s", $updateGoTo));
}

$colname_Recordset1 = "-1";
if (isset($_GET['studno'])) {
$colname_Recordset1 = $_GET['studno'];
}
mysql_select_db($database_stud, $stud);
$query_Recordset1 = sprintf("SELECT * FROM student WHERE studno = %s", GetSQLValueString($colname_Recordset1, "text"));
$Recordset1 = mysql_query($query_Recordset1, $stud) or die(mysql_error());
$row_Recordset1 = mysql_fetch_assoc($Recordset1);
$totalRows_Recordset1 = mysql_num_rows($Recordset1);
?>
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
</head>

<body>
<form method="POST" action="<?php echo $editFormAction; ?>" name="form1">
<p>學號：&nbsp;<?php echo $row_Recordset1['studno']; ?> <input type="hidden" name="studno" value="<?php echo $row_Recordset1['studno']; ?>"></p>
<p>姓名： <input name="name" type="text" value="<?php echo $row_Recordset1['name']; ?>"></p>
<p>電話： <input name="phone" type="text" value="<?php echo $row_Recordset1['phone']; ?>"></p>
<p>地址： <input name="address" type="text" value="<?php echo $row_Recordset1['address']; ?>"></p>
<input type="submit" value="更新紀錄">
<input type="hidden" name="MM_update" value="form1">
</form>
</body>
</html>
<?php
mysql_free_result($Recordset1);
?>

----------我是分隔線----------我是分隔線----------我是分隔線

<button onClick="MM_goToURL('parent','dataUpdate.php?studno=<?php echo $row_Recordset1['studno']; ?>');return document.MM_returnValue">修改紀錄</button>

----------我是分隔線----------我是分隔線----------我是分隔線

<?php require_once('Connections/stud.php'); ?>
<?php
if (!function_exists("GetSQLValueString")) {
function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "") 
{
if (PHP_VERSION < 6) {
$theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;
}

$theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);

switch ($theType) {
case "text":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break; 
case "long":
case "int":
$theValue = ($theValue != "") ? intval($theValue) : "NULL";
break;
case "double":
$theValue = ($theValue != "") ? doubleval($theValue) : "NULL";
break;
case "date":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break;
case "defined":
$theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;
break;
}
return $theValue;
}
}

$colname_Recordset1 = "-1";
if (isset($_GET['studno'])) {
$colname_Recordset1 = $_GET['studno'];
}
mysql_select_db($database_stud, $stud);
$query_Recordset1 = sprintf("SELECT * FROM student WHERE studno = %s", GetSQLValueString($colname_Recordset1, "text"));
$Recordset1 = mysql_query($query_Recordset1, $stud) or die(mysql_error());
$row_Recordset1 = mysql_fetch_assoc($Recordset1);
$totalRows_Recordset1 = mysql_num_rows($Recordset1);
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<form action="">
<p>學號：</p>
<p>姓名： <input type="text" name="name"></p>
<p>電話： <input type="text" name="phone"></p>
<p>地址： <input type="text" name="address"></p>
<input type="submit" value="更新紀錄">
</form>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php require_once('Connections/stud.php'); ?>
<?php
if (!function_exists("GetSQLValueString")) {
function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "") 
{
if (PHP_VERSION < 6) {
$theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;
}

$theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);

switch ($theType) {
case "text":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break; 
case "long":
case "int":
$theValue = ($theValue != "") ? intval($theValue) : "NULL";
break;
case "double":
$theValue = ($theValue != "") ? doubleval($theValue) : "NULL";
break;
case "date":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break;
case "defined":
$theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;
break;
}
return $theValue;
}
}

$colname_Recordset1 = "-1";
if (isset($_POST['studno'])) {
$colname_Recordset1 = $_POST['studno'];
}
mysql_select_db($database_stud, $stud);
$query_Recordset1 = sprintf("SELECT * FROM student WHERE studno = %s", GetSQLValueString($colname_Recordset1, "text"));
$Recordset1 = mysql_query($query_Recordset1, $stud) or die(mysql_error());
$row_Recordset1 = mysql_fetch_assoc($Recordset1);
$totalRows_Recordset1 = mysql_num_rows($Recordset1);
?>
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
</head>

<body>
<form action="" name="form1" method="post">
<p>學號: <input name="studno" type="text" value="<?php echo $row_Recordset1['studno']; ?>"></p>
<input type="submit" value="查詢">
</form>
<p>姓名：<?php echo $row_Recordset1['name']; ?></p>
<p>電話：<?php echo $row_Recordset1['phone']; ?></p>
<p>地址：<?php echo $row_Recordset1['address']; ?></p>
</body>
</html>
<?php
mysql_free_result($Recordset1);
?>

----------我是分隔線----------我是分隔線----------我是分隔線

<form action="" name="form1" method="post">
<p>學號: <input type="text" name="studno"></p>
<input type="submit" value="查詢">
</form>
<p>姓名：</p>
<p>電話：</p>
<p>地址：</p>
2017/02/12----------我是分隔線----------我是分隔線----------我是分隔線






2017/02/05----------我是分隔線----------我是分隔線----------我是分隔線
<td><a href="dataQuery.php?studno=<?php echo $row_Recordset1['studno']; ?>" target="query"><?php echo $row_Recordset1['studno']; ?></a></td>
----------我是分隔線----------我是分隔線----------我是分隔線
<iframe src="dataQuery.php" width="50%" height="300" name="query" frameborder="0"></iframe> 
----------我是分隔線----------我是分隔線----------我是分隔線
<td><a href="dataQuery.php?studno=<?php echo $row_Recordset1['studno']; ?>"><?php echo $row_Recordset1['studno']; ?></a></td>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php require_once('Connections/stud.php'); ?>
<?php
if (!function_exists("GetSQLValueString")) {
function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "") 
{
if (PHP_VERSION < 6) {
$theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;
}

$theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);

switch ($theType) {
case "text":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break; 
case "long":
case "int":
$theValue = ($theValue != "") ? intval($theValue) : "NULL";
break;
case "double":
$theValue = ($theValue != "") ? doubleval($theValue) : "NULL";
break;
case "date":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break;
case "defined":
$theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;
break;
}
return $theValue;
}
}

$colname_Recordset1 = "-1";
if (isset($_GET['studno'])) {
$colname_Recordset1 = $_GET['studno'];
}
mysql_select_db($database_stud, $stud);
$query_Recordset1 = sprintf("SELECT * FROM student WHERE studno = %s", GetSQLValueString($colname_Recordset1, "text"));
$Recordset1 = mysql_query($query_Recordset1, $stud) or die(mysql_error());
$row_Recordset1 = mysql_fetch_assoc($Recordset1);
$totalRows_Recordset1 = mysql_num_rows($Recordset1);
?>
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
</head>

<body>
<h1>學生資料查詢</h1>
<table>
<tr>
<td>學號：<?php echo $row_Recordset1['studno']; ?></td>
</tr>
<tr>
<td>姓名：<?php echo $row_Recordset1['name']; ?></td>
</tr>
<tr>
<td>電話：<?php echo $row_Recordset1['phone']; ?></td>
</tr>
<tr>
<td>地址：<?php echo $row_Recordset1['address']; ?></td>
</tr>
</table>
</body>
</html>
<?php
mysql_free_result($Recordset1);
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<h1 style="color:red;"><? echo $_GET['msg']; ?></h1> 
----------我是分隔線----------我是分隔線----------我是分隔線
$insertGoTo = "index.php?msg=資料新增成功";
----------我是分隔線----------我是分隔線----------我是分隔線
<?php require_once('Connections/stud.php'); ?>
<?php
if (!function_exists("GetSQLValueString")) {
function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "") 
{
if (PHP_VERSION < 6) {
$theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;
}

$theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);

switch ($theType) {
case "text":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break; 
case "long":
case "int":
$theValue = ($theValue != "") ? intval($theValue) : "NULL";
break;
case "double":
$theValue = ($theValue != "") ? doubleval($theValue) : "NULL";
break;
case "date":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break;
case "defined":
$theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;
break;
}
return $theValue;
}
}

$editFormAction = $_SERVER['PHP_SELF'];
if (isset($_SERVER['QUERY_STRING'])) {
$editFormAction .= "?" . htmlentities($_SERVER['QUERY_STRING']);
}

if ((isset($_POST["MM_insert"])) && ($_POST["MM_insert"] == "form1")) {
$insertSQL = sprintf("INSERT INTO student (studno, name, phone, address) VALUES (%s, %s, %s, %s)",
GetSQLValueString($_POST['studno'], "text"),
GetSQLValueString($_POST['name'], "text"),
GetSQLValueString($_POST['phone'], "text"),
GetSQLValueString($_POST['address'], "text"));

mysql_select_db($database_stud, $stud);
$Result1 = mysql_query($insertSQL, $stud) or die(mysql_error());

$insertGoTo = "index.php";
if (isset($_SERVER['QUERY_STRING'])) {
$insertGoTo .= (strpos($insertGoTo, '?')) ? "&" : "?";
$insertGoTo .= $_SERVER['QUERY_STRING'];
}
header(sprintf("Location: %s", $insertGoTo));
}
?>
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
</head>

<body>
<form action="<?php echo $editFormAction; ?>" method="POST" name="form1">
<fieldset>
<legend>學生資料新增系統</legend>
學號：<input type="text" name="studno"><p>
姓名：<input type="text" name="name"><p>
電話：<input type="text" name="phone"><p>
地址：<input type="text" name="address"><p>
<input type="submit" value="確認新增"><p>
</fieldset>
<input type="hidden" name="MM_insert" value="form1">
</form>

</body>
</html>
----------我是分隔線----------我是分隔線----------我是分隔線
<form action="">
<fieldset>
<legend>學生資料新增系統</legend>
學號：<input type="text" name="studno"><p>
姓名：<input type="text" name="name"><p>
電話：<input type="text" name="phone"><p>
地址：<input type="text" name="address"><p>
<input type="submit" value="確認新增"><p>
</fieldset>
</form>
----------我是分隔線----------我是分隔線----------我是分隔線
<center>
<button onClick="location.href='dataAdd.php'">新增資料</button>
</center>
----------我是分隔線----------我是分隔線----------我是分隔線
<tr>
<th colspan="2"> 第 <?php echo ($startRow_Recordset1 + 1) ?> 筆/到第 <?php echo min($startRow_Recordset1 + $maxRows_Recordset1, $totalRows_Recordset1) ?> 筆/共 <?php echo $totalRows_Recordset1 ?> 筆 </th>

<th colspan="2"> [<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, 0, $queryString_Recordset1); ?>">第一頁</a>][<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, max(0, $pageNum_Recordset1 - 1), $queryString_Recordset1); ?>">上一頁</a>][<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, min($totalPages_Recordset1, $pageNum_Recordset1 + 1), $queryString_Recordset1); ?>">下一頁</a>][<a href="<?php printf("%s?pageNum_Recordset1=%d%s", $currentPage, $totalPages_Recordset1, $queryString_Recordset1); ?>">最後一頁</a>] </th>
</tr>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php do { ?>
<tr>
<td><?php echo $row_Recordset1['studno']; ?></td>
<td><?php echo $row_Recordset1['name']; ?></td>
<td><?php echo $row_Recordset1['phone']; ?></td>
<td><?php echo $row_Recordset1['address']; ?></td>
</tr>
<?php } while ($row_Recordset1 = mysql_fetch_assoc($Recordset1)); ?>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php require_once('Connections/stud.php'); ?>
<?php
if (!function_exists("GetSQLValueString")) {
function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "") 
{
if (PHP_VERSION < 6) {
$theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;
}

$theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);

switch ($theType) {
case "text":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break; 
case "long":
case "int":
$theValue = ($theValue != "") ? intval($theValue) : "NULL";
break;
case "double":
$theValue = ($theValue != "") ? doubleval($theValue) : "NULL";
break;
case "date":
$theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
break;
case "defined":
$theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;
break;
}
return $theValue;
}
}

mysql_select_db($database_stud, $stud);
$query_Recordset1 = "SELECT * FROM student ORDER BY studno ASC";
$Recordset1 = mysql_query($query_Recordset1, $stud) or die(mysql_error());
$row_Recordset1 = mysql_fetch_assoc($Recordset1);
$totalRows_Recordset1 = mysql_num_rows($Recordset1);
?>
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
<style>
table{width: 90%;margin: auto;border: 1px solid #333; border-collapse:collapse;}
table caption{font-size: 2em; text-decoration:underline;}
table td{border: 1px solid #666;}
</style>
</head>

<body>
<table summary="2017學生成績資料表">
<caption>學生成績資料表</caption>
<tr>
<th>學號</th>
<th>姓名</th>
<th>電話</th>
<th>地址</th>
</tr>
<tr>
<td><?php echo $row_Recordset1['studno']; ?></td>
<td><?php echo $row_Recordset1['name']; ?></td>
<td><?php echo $row_Recordset1['phone']; ?></td>
<td><?php echo $row_Recordset1['address']; ?></td>
</tr>
</table>
</body>
</html>
<?php
mysql_free_result($Recordset1);
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<table summary="2017學生成績資料表">
<caption>學生成績資料表</caption>
<tr>
<th>學號</th>
<th>姓名</th>
<th>電話</th>
<th>地址</th>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</table>
----------我是分隔線----------我是分隔線----------我是分隔線
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
<style>
table{width: 90%;margin: auto;border: 1px solid #333; border-collapse:collapse;}
table td{border: 1px solid #666;}
</style>
</head>

<body>
<table>
<tr>
<th>學號</th>
<th>姓名</th>
<th>電話</th>
<th>地址</th>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</table>
</body>
</html>
----------我是分隔線----------我是分隔線----------我是分隔線
include("Connections/server.php");
$a=$_POST['studno'];
$b=$_POST['name'];
$c=$_POST['phone'];
$d=$_POST['address'];
$sql="INSERT INTO `student` (`studno`, `name`, `phone`, `address`) VALUES ('$a', '$b', '$c', '$d')";
if(mysql_query($sql)){echo "Success";}
else{echo "Fail";}
----------我是分隔線----------我是分隔線----------我是分隔線
<form action="connect.php" method="post">
<input type="text" name="studno">
<input type="text" name="name">
<input type="text" name="phone">
<input type="text" name="address">
<input type="submit" value="send">
</form>
----------我是分隔線----------我是分隔線----------我是分隔線
<?
include("Connections/server.php");
$sql="INSERT INTO `student` (`studno`, `name`, `phone`, `address`) VALUES ('123', 'alan', '987', 'aaabbbccc')";
mysql_query($sql);
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<?
mysql_connect("localhost", "root", "00000000") or die("無法連結主機");
mysql_select_db("studentdb") or die("無法連結資料庫");
mysql_query("SET NAMES utf8");
mysql_query("CHARACTER SET utf8");
mysql_query("SET CHARACTER_SET_CLIENT =utf8");
mysql_query("SET COLLATION_CONNECTION=utf8_general_ci");
mysql_query("SET CHARACTER_SET_RESULTS =utf8");
mysql_query("SET CHARACTER_SET_SERVER = utf8");
mysql_query("SET character_set_connection=utf8");
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<?
$link =@mysqli_connect('localhost','root','00000000','studentdb'); 
if ( !$link ) {
echo "連結錯誤代碼: ".mysqli_connect_errno()."<br>";
echo "連結錯誤訊息: ".mysqli_connect_error()."<br>";
exit();
}
else {
echo "MySQL Server連結成功及資料庫開啟成功";
}
mysqli_close($link);
?>
----------我是分隔線----------我是分隔線----------我是分隔線
mysql_connect("localhost", "root", "00000000") or die("無法連結主機");
mysql_select_db("studentdb") or die("無法連結資料庫");
----------我是分隔線----------我是分隔線----------我是分隔線
<?
$link = @mysql_connect("localhost", "root", "00000000"); 
$link_db = mysql_select_db("studentdb");
if($link) { echo "主機連結connect成功!....<br>";
if($link_db) { echo "資料庫連結select_db成功!.<br>..."; }
else { echo "資料庫連結select_db失敗!.....<br>"; }
}
else { echo("連結主機connect失敗!....<br>");} 
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<?
$link = mysql_connect("localhost", "root", "password"); 
if ($link) { echo "connect主機連結成功!....<br>";}
else { echo "connect主機連結失敗!..<br>";}
?>
2017/02/05----------我是分隔線----------我是分隔線----------我是分隔線







2017/01/22----------我是分隔線----------我是分隔線----------我是分隔線
<?php
echo compute(7,20);	//呼叫函數,傳遞2個整數參數7以及20，並且接收回傳字串輸出

function compute($start,$max){
$sum = 0;
for($i=$start; $i<=$max; $i++){
$sum += $i;
}
return "<B>$start+".($start+1)."+".($start+2).
"...+$max= $sum</B><br/>";
}
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php
for($i=1;$i<=5;$i++){
compute($i*10);//呼叫函數,傳遞1個整數參數15
}

function compute($max){ //被呼叫者
$sum = 0;
for($i=1; $i<=$max; $i++){
$sum += $i;
}
echo "<h1>1+2+3+...+$max= $sum</h1><br/>";
}
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php
compute(40);//呼叫函數一次
compute(30);//呼叫函數一次
compute(20);//呼叫函數一次

function compute($max){
$sum = 0;
for($i=1; $i<=$max; $i++){
$sum += $i;
}
echo "1+2+3+......+$max = $sum<br/>";
}
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<label for="select">年:</label>
<select name="year" id="year">
<?php
$nowyear=date("Y"); 
for($i=$nowyear-5;$i<=$nowyear+5;$i++){
echo "<option value=\"\$i\">$i</option>";
}
?>
</select>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php
$count=0;
$sum=0;

for($i=1;$i<=500;$i++){
if($i%3==0 && $i%5==0){
$count++;
if($sum>=5000){break;}
else{$sum+=$i;}
echo "3及5的公倍數有： $i <br>";
}	
}

echo "--------------------------- <br>";
echo "3及5的公倍數有 $count 個 <br>";
echo "3及5的公倍數有 $count 個，總和為 $sum <br>";
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php
$money = 1000; //代表目前的金額
$cup=0;
echo "1. 打開冰箱<br/>";
echo "2. 拿出一瓶可樂<br/>";
echo "3. 倒一杯可樂<br/>";

while($money >= 23){

$cup++;

echo "4. 喝 $cup 杯可樂<br/>";

$money-=23;	
}
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php
for($i=1;$i<=4;$i++){
$a=rand(1,9);
//echo $a;
echo "<img src=\"images/$a.JPG\">";	
}
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php
for($i=10;$i>=1;$i--){
$a=rand(1,10);
echo $a."<br>";
echo "<img src=\"images/$i.JPG\">";	
}
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php
$count=0;
$sum=0;

for($i=1;$i<=500;$i++){
if($i%3==0 && $i%5==0){
$count++;
$sum+=$i;
echo "3及5的公倍數有： $i <br>";
}	
}

echo "--------------------------- <br>";
echo "3及5的公倍數有 $count 個 <br>";
echo "3及5的公倍數有 $count 個，總和為 $sum <br>";
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php
$count=0;

for($i=1;$i<=500;$i++){
if($i%3==0 && $i%5==0){
$count++;
echo "3及5的公倍數有： $i <br>";
}	
}

echo "--------------------------- <br>";
echo "3及5的公倍數有 $count 個 <br>";
?>

----------我是分隔線----------我是分隔線----------我是分隔線

申請網站空間：
http://qov.tw
https://byet.host/
https://www.000webhost.com/
https://lionfree.net/
2017/01/22----------我是分隔線----------我是分隔線----------我是分隔線










2017/01/15----------我是分隔線----------我是分隔線----------我是分隔線
<?php
if(empty($_GET['username'])){
?>
<form action="<?php $_SERVER["PHP_SELF"]; ?>" method="get">
姓名：<input type="text" name="username"><p>
性別：
<input type="radio" name="gender" value="M">男
<input type="radio" name="gender" value="F">女<p>
<input type="submit" value="送出">
</form>
<?php
}else{
//echo (int)$_GET['gender'];
if($_GET['gender']=="M"){echo $_GET['username']."先生您好";}
elseif($_GET['gender']=="F"){echo $_GET['username']."小姐您好";}
else{echo "您未選擇性別";}
}
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php
if(empty($_GET['username'])){
?>
<form action="<?php $_SERVER["PHP_SELF"]; ?>" method="get">
姓名：<input type="text" name="username"><p>
性別：
<input type="radio" name="gender" value="1">男
<input type="radio" name="gender" value="0">女<p>
<input type="submit" value="送出">
</form>
<?php
}else{
if($_GET['gender']==1){echo $_GET['username']."先生您好";}
elseif($_GET['gender']==0){echo $_GET['username']."小姐您好";}
else{echo "您未選擇性別";}
}
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php
if(empty($_GET['username'])){
?>
<form action="<?php $_SERVER["PHP_SELF"]; ?>" method="get">
姓名：<input type="text" name="username"><p>
性別：<input type="radio" name="gender">男
<input type="radio" name="gender">女<p>
<input type="submit" value="送出">
</form>
<?php
}else{

}
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<form action="" method="get">
姓名：<input type="text" name="username"><p>
性別：<input type="radio" name="gender">男
<input type="radio" name="gender">女<p>
<input type="submit" value="送出">
</form>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php
$age = 18; //代表年齡5歲限制級輔導級

if($age > 0){
echo "可以看普通級電影!<br/>";
if($age >=6){
echo "可以看保護級電影!<br/>";
if($age >=12){
echo "可以看輔導級電影!<br/>";
if($age >=18){
echo "可以看限制級電影!<br/>";
}
}
}
}	
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php
$a=30;
$b=20;

if($a>$b){echo "\$a>\$b";}	
elseif($a>$b){echo "\$a<\$b";}
else{echo "\$a=\$b";}
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php
$n=14;

if($n%3==0 && ($n%10==2 || $n%10==4)){
echo "此數值 $n 符合條件";
}else{
echo "此數值 $n 不符合條件";
}
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php
$n=14;

if($n%2==0 && $n%10==4){
echo "此數值 $n 符合條件";
}else{
echo "此數值 $n 不符合條件";
}
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php 
$price=$_POST['price'];
$amt=$_POST['amount'];

$total=$price*$amt;

echo "價格為：".$total;
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<form action="" id="form1" name="form1" method="post">
<fieldset>
<legend>「松露巧克力年終感恩回饋大特賣」</legend>
價格：<input type="number"><br>
數量：<!--<input type="number" step="1" max="5" min="1">-->
select>option[value=$]{$}*5
<br>
<input type="submit" value="送出">
</fieldset>
</form>
----------我是分隔線----------我是分隔線----------我是分隔線
<form action="" id="form1" name="form1" method="post">
<fieldset>
<legend>「松露巧克力年終感恩回饋大特賣」</legend>
價格：<input type="text"><br>
數量：<input type="number" step="1" max="5" min="1"><br>
<input type="submit" value="送出">
</fieldset>
</form>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php
echo pi()."<br>";
echo rand(5,15)."<br>";
echo round(3.15,1);
?>
2017/01/15----------我是分隔線----------我是分隔線----------我是分隔線








2017/01/08----------我是分隔線----------我是分隔線----------我是分隔線
<?php
$txt=$_POST['searchtxt'];
$as_sitesearch=$_POST['site'];
echo "您想要搜尋的內容是： ".$txt." 嗎?<br>";
echo "[<a href=http://www.google.com/search?q=".$txt."&as_sitesearch=".$as_sitesearch.">前往Google</a>]<br>";
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>搜尋引擎</title>
</head>

<body>
<form id="form1" name="form1" method="post" action="searchProc.php">
<p>
<input type="text" name="searchtxt" id="searchtxt" />
</p>
<p>
<label for="site">Select:</label>
<select name="site" id="site">
<option value="www.pchome.com.tw">Pchome</option>
<option value="tw.yahoo.com">Yahoo</option>
</select>
<label for="button"></label>
<input type="submit" name="button" id="button" value="搜尋" />
</p>
</form>
</body>
</html>
----------我是分隔線----------我是分隔線----------我是分隔線
http://www.mausr.com/
http://character-code.com/arrows-html-codes.php
----------我是分隔線----------我是分隔線----------我是分隔線
<form action="http://google.com/search" method="get">
<input type="text" name="q"><input type="submit" value="Google搜尋">
</form>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php
$user=$_POST['user'];
$pw=$_POST['pw'];
$email=$_POST['email'];

echo $user."<br>";
echo $pw."<br>";
echo $email."<br>";	
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<form id="form1" name="form1" method="post" action="">
<fieldset>
<legend>個人資訊</legend>
<p>
<label for="user">姓名:</label>
<input type="text" name="user" id="user">
</p>
<p>
<label for="pw">密碼:</label>
<input type="password" name="pw" id="pw">
</p>
<p>
<label for="email">Email:</label>
<input type="email" name="email" id="email"> 
</p>
<p>
<input type="button" name="button" id="button" value="註冊" onclick="window.location.href='http://goo.gl/j9K2iM'">
<input type="submit" name="submit" id="submit" value="登入"> 
</p>
</fieldset>
</form>
----------我是分隔線----------我是分隔線----------我是分隔線
<form id="form1" name="form1" method="post" action="">
<fieldset>
<legend>個人資訊</legend>
<label for="user">姓名:</label>
<input type="text" name="user" id="user">
<br>
<label for="pw">密碼:</label>
<input type="password" name="pw" id="pw">
</fieldset>
</form>
----------我是分隔線----------我是分隔線----------我是分隔線

<form id="form1" name="form1" method="post" action="">
</form>
----------我是分隔線----------我是分隔線----------我是分隔線
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
<style>
body{background: <?php echo "#f00"; ?>;}
</style>
<script>
document.write("HELLO JAVA");
</script>
</head>

<body>
</body>
</html>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php
echo "HELLO PHP<br>";
echo "HELLO PHP2";

//echo phpinfo();
//echo $_SERVER['HTTP_USER_AGENT'];
if (strpos($_SERVER['HTTP_USER_AGENT'], 'Firefox') !== FALSE) {echo '正在使用 Internet Explorer。<br />';}
else{echo '沒有在使用 Internet Explorer。<br />';}
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<?php
echo "HELLO PHP<br>";
echo "HELLO PHP2";

echo phpinfo();
echo $_SERVER['HTTP_USER_AGENT'];
?>
----------我是分隔線----------我是分隔線----------我是分隔線
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
<style></style>

<script>
document.write("HELLO JAVA");
</script>
</head>

<body>
<p>hello</p>
<?php
echo "HELLO PHP<br>";
echo "HELLO PHP2";
?>
</body>
</html>
----------我是分隔線----------我是分隔線----------我是分隔線
nav>ul>li*5>a[href=test$.html]

<nav>
<ul>
<li><a href="test1.html"></a></li>
<li><a href="test2.html"></a></li>
<li><a href="test3.html"></a></li>
<li><a href="test4.html"></a></li>
<li><a href="test5.html"></a></li>
</ul>
</nav>

(#t$.t1>p)*5

<div id="t1" class="t1">
<p></p>
</div>
<div id="t2" class="t1">
<p></p>
</div>
<div id="t3" class="t1">
<p></p>
</div>
<div id="t4" class="t1">
<p></p>
</div>
<div id="t5" class="t1">
<p></p>
</div>
2017/01/07----------我是分隔線----------我是分隔線----------我是分隔線
Published with Simplenote